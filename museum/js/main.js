"use strict"

const isMobile = {
	Android: function () {
		return navigator.userAgent.match(/Android/i);
	},
	BlackBerry: function () {
		return navigator.userAgent.match(/BlackBerry/i);
	},
	iOS: function () {
		return navigator.userAgent.match(/iPhone|iPad|iPod/i);
	},
	Opera: function () {
		return navigator.userAgent.match(/Opera Mini/i);
	},
	Windows: function () {
		return navigator.userAgent.match(/IEMobile/i);
	},
	any: function () {
		return (
			isMobile.Android() ||
			isMobile.BlackBerry() ||
			isMobile.iOS() ||
			isMobile.Opera() ||
			isMobile.Windows());
	}
};

if (isMobile.any()) {
	document.body.classList.add('_touch');

	let menuArrows = document.querySelectorAll('.menu__arrow');
	if (menuArrows.length > 0) {
		for (let index = 0; index < menuArrows.length; index++) {
			const menuArrow = menuArrows[index];
			menuArrow.addEventListener("click", function (e) {
				menuArrow.parentElement.classList.toggle('_active');
			});
		}
	}

} else {
	document.body.classList.add('_pc');
}

// Меню бургер
const iconMenu = document.querySelector('.menu__icon');
const menuBody = document.querySelector('.menu__body');
if (iconMenu) {
	iconMenu.addEventListener("click", function (e) {
		document.body.classList.toggle('_lock');
		iconMenu.classList.toggle('_active');
		menuBody.classList.toggle('_active');
	});
}


// Прокрутка при клике
const menuLinks = document.querySelectorAll('.menu__link[data-goto]');
if (menuLinks.length > 0) {
	menuLinks.forEach(menuLink => {
		menuLink.addEventListener("click", onMenuLinkClick);
	});

	function onMenuLinkClick(e) {
		const menuLink = e.target;
		if (menuLink.dataset.goto && document.querySelector(menuLink.dataset.goto)) {
			const gotoBlock = document.querySelector(menuLink.dataset.goto);
			const gotoBlockValue = gotoBlock.getBoundingClientRect().top + pageYOffset - document.querySelector('header').offsetHeight;

			if (iconMenu.classList.contains('_active')) {
				document.body.classList.remove('_lock');
				iconMenu.classList.remove('_active');
				menuBody.classList.remove('_active');
			}

			window.scrollTo({
				top: gotoBlockValue,
				behavior: "smooth"
			});
			e.preventDefault();
		}
	}
}
// PROGRESS
const videoTime = document.querySelector('.video__bar-time');

videoTime.addEventListener('input', function() {
  const value = this.value;
  this.style.background = `linear-gradient(to right, #710707 0%, #710707 ${value}%, #C4C4C4 ${value}%, #C4C4C4 100%)`;
});

const volume = document.querySelector('.video__bar-volume-range');

volume.addEventListener('input', function() {
  const value = this.value;
  this.style.background = `linear-gradient(to right, #710707 0%, #710707 ${value}%, #C4C4C4 ${value}%, #C4C4C4 100%)`;
});
// END PROGRESS
// EXPLORER
function initComparisons() {
  var x, i;
  /*find all elements with an "overlay" class:*/
  x = document.getElementsByClassName("explore__picture-overlay");
  for (i = 0; i < x.length; i++) {
    /*once for each "overlay" element:
    pass the "overlay" element as a parameter when executing the compareImages function:*/
    compareImages(x[i]);
  }
  function compareImages(img) {
    var slider, img, clicked = 0, w, h;
    /*get the width and height of the img element*/
    w = img.offsetWidth;
    h = img.offsetHeight;
    /*set the width of the img element to 50%:*/
    img.style.width = (w / 2) + "px";
    /*create slider:*/
    slider = document.createElement("DIV");
    slider.setAttribute("class", "explore__picture-slider");
    /*insert slider*/
    img.parentElement.insertBefore(slider, img);
    /*position the slider in the middle:*/
    slider.style.top = (h / 2) - (slider.offsetHeight / 2) + "px";
    slider.style.left = (w / 2) - (slider.offsetWidth / 2) + "px";
    /*execute a function when the mouse button is pressed:*/
    slider.addEventListener("mousedown", slideReady);
    /*and another function when the mouse button is released:*/
    window.addEventListener("mouseup", slideFinish);
    /*or touched (for touch screens:*/
    slider.addEventListener("touchstart", slideReady);
    /*and released (for touch screens:*/
    window.addEventListener("touchstop", slideFinish);
    function slideReady(e) {
      /*prevent any other actions that may occur when moving over the image:*/
      e.preventDefault();
      /*the slider is now clicked and ready to move:*/
      clicked = 1;
      /*execute a function when the slider is moved:*/
      window.addEventListener("mousemove", slideMove);
      window.addEventListener("touchmove", slideMove);
    }
    function slideFinish() {
      /*the slider is no longer clicked:*/
      clicked = 0;
    }
    function slideMove(e) {
      var pos;
      /*if the slider is no longer clicked, exit this function:*/
      if (clicked == 0) {
				return false;
			}
      /*get the cursor's x position:*/
      pos = getCursorPos(e);
      /*prevent the slider from being positioned outside the image:*/
      if (pos < 0) {
				pos = 0;
			}
      if (pos > w) {
				pos = w;
			}
      /*execute a function that will resize the overlay image according to the cursor:*/
      slide(pos);
    }
    function getCursorPos(e) {
      var a, x = 0;
      e = e || window.event;
      /*get the x positions of the image:*/
      a = img.getBoundingClientRect();
      /*calculate the cursor's x coordinate, relative to the image:*/
      x = e.pageX - a.left;
      /*consider any page scrolling:*/
      x = x - window.pageXOffset;
      return x;
    }
    function slide(x) {
      /*resize the image:*/
      img.style.width = x + "px";
      /*position the slider:*/
      slider.style.left = img.offsetWidth - (slider.offsetWidth / 2) + "px";
    }
  }
}

initComparisons();
// END EXPLORER
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Swiper=t()}(this,(function(){"use strict";function e(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function t(s={},a={}){Object.keys(a).forEach((i=>{void 0===s[i]?s[i]=a[i]:e(a[i])&&e(s[i])&&Object.keys(a[i]).length>0&&t(s[i],a[i])}))}const s={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function a(){const e="undefined"!=typeof document?document:{};return t(e,s),e}const i={document:s,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function r(){const e="undefined"!=typeof window?window:{};return t(e,i),e}class n extends Array{constructor(e){super(...e||[]),function(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get:()=>t,set(e){t.__proto__=e}})}(this)}}function l(e=[]){const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...l(e)):t.push(e)})),t}function o(e,t){return Array.prototype.filter.call(e,t)}function d(e,t){const s=r(),i=a();let l=[];if(!t&&e instanceof n)return e;if(!e)return new n(l);if("string"==typeof e){const s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){let e="div";0===s.indexOf("<li")&&(e="ul"),0===s.indexOf("<tr")&&(e="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(e="tr"),0===s.indexOf("<tbody")&&(e="table"),0===s.indexOf("<option")&&(e="select");const t=i.createElement(e);t.innerHTML=s;for(let e=0;e<t.childNodes.length;e+=1)l.push(t.childNodes[e])}else l=function(e,t){if("string"!=typeof e)return[e];const s=[],a=t.querySelectorAll(e);for(let e=0;e<a.length;e+=1)s.push(a[e]);return s}(e.trim(),t||i)}else if(e.nodeType||e===s||e===i)l.push(e);else if(Array.isArray(e)){if(e instanceof n)return e;l=e}return new n(function(e){const t=[];for(let s=0;s<e.length;s+=1)-1===t.indexOf(e[s])&&t.push(e[s]);return t}(l))}d.fn=n.prototype;const c={addClass:function(...e){const t=l(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.add(...t)})),this},removeClass:function(...e){const t=l(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.remove(...t)})),this},hasClass:function(...e){const t=l(e.map((e=>e.split(" "))));return o(this,(e=>t.filter((t=>e.classList.contains(t))).length>0)).length>0},toggleClass:function(...e){const t=l(e.map((e=>e.split(" "))));this.forEach((e=>{t.forEach((t=>{e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let s=0;s<this.length;s+=1)if(2===arguments.length)this[s].setAttribute(e,t);else for(const t in e)this[s][t]=e[t],this[s].setAttribute(t,e[t]);return this},removeAttr:function(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?`${e}ms`:e;return this},on:function(...e){let[t,s,a,i]=e;function r(e){const t=e.target;if(!t)return;const i=e.target.dom7EventData||[];if(i.indexOf(e)<0&&i.unshift(e),d(t).is(s))a.apply(t,i);else{const e=d(t).parents();for(let t=0;t<e.length;t+=1)d(e[t]).is(s)&&a.apply(e[t],i)}}function n(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),a.apply(this,t)}"function"==typeof e[1]&&([t,a,i]=e,s=void 0),i||(i=!1);const l=t.split(" ");let o;for(let e=0;e<this.length;e+=1){const t=this[e];if(s)for(o=0;o<l.length;o+=1){const e=l[o];t.dom7LiveListeners||(t.dom7LiveListeners={}),t.dom7LiveListeners[e]||(t.dom7LiveListeners[e]=[]),t.dom7LiveListeners[e].push({listener:a,proxyListener:r}),t.addEventListener(e,r,i)}else for(o=0;o<l.length;o+=1){const e=l[o];t.dom7Listeners||(t.dom7Listeners={}),t.dom7Listeners[e]||(t.dom7Listeners[e]=[]),t.dom7Listeners[e].push({listener:a,proxyListener:n}),t.addEventListener(e,n,i)}}return this},off:function(...e){let[t,s,a,i]=e;"function"==typeof e[1]&&([t,a,i]=e,s=void 0),i||(i=!1);const r=t.split(" ");for(let e=0;e<r.length;e+=1){const t=r[e];for(let e=0;e<this.length;e+=1){const r=this[e];let n;if(!s&&r.dom7Listeners?n=r.dom7Listeners[t]:s&&r.dom7LiveListeners&&(n=r.dom7LiveListeners[t]),n&&n.length)for(let e=n.length-1;e>=0;e-=1){const s=n[e];a&&s.listener===a||a&&s.listener&&s.listener.dom7proxy&&s.listener.dom7proxy===a?(r.removeEventListener(t,s.proxyListener,i),n.splice(e,1)):a||(r.removeEventListener(t,s.proxyListener,i),n.splice(e,1))}}}return this},trigger:function(...e){const t=r(),s=e[0].split(" "),a=e[1];for(let i=0;i<s.length;i+=1){const r=s[i];for(let s=0;s<this.length;s+=1){const i=this[s];if(t.CustomEvent){const s=new t.CustomEvent(r,{detail:a,bubbles:!0,cancelable:!0});i.dom7EventData=e.filter(((e,t)=>t>0)),i.dispatchEvent(s),i.dom7EventData=[],delete i.dom7EventData}}}return this},transitionEnd:function(e){const t=this;return e&&t.on("transitionend",(function s(a){a.target===this&&(e.call(this,a),t.off("transitionend",s))})),this},outerWidth:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const e=r();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const e=r(),t=a(),s=this[0],i=s.getBoundingClientRect(),n=t.body,l=s.clientTop||n.clientTop||0,o=s.clientLeft||n.clientLeft||0,d=s===e?e.scrollY:s.scrollTop,c=s===e?e.scrollX:s.scrollLeft;return{top:i.top+d-l,left:i.left+c-o}}return null},css:function(e,t){const s=r();let a;if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a+=1)for(const t in e)this[a].style[t]=e[t];return this}if(this[0])return s.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a+=1)this[a].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(((t,s)=>{e.apply(t,[t,s])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){const t=r(),s=a(),i=this[0];let l,o;if(!i||void 0===e)return!1;if("string"==typeof e){if(i.matches)return i.matches(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);for(l=d(e),o=0;o<l.length;o+=1)if(l[o]===i)return!0;return!1}if(e===s)return i===s;if(e===t)return i===t;if(e.nodeType||e instanceof n){for(l=e.nodeType?[e]:e,o=0;o<l.length;o+=1)if(l[o]===i)return!0;return!1}return!1},index:function(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;const t=this.length;if(e>t-1)return d([]);if(e<0){const s=t+e;return d(s<0?[]:[this[s]])}return d([this[e]])},append:function(...e){let t;const s=a();for(let a=0;a<e.length;a+=1){t=e[a];for(let e=0;e<this.length;e+=1)if("string"==typeof t){const a=s.createElement("div");for(a.innerHTML=t;a.firstChild;)this[e].appendChild(a.firstChild)}else if(t instanceof n)for(let s=0;s<t.length;s+=1)this[e].appendChild(t[s]);else this[e].appendChild(t)}return this},prepend:function(e){const t=a();let s,i;for(s=0;s<this.length;s+=1)if("string"==typeof e){const a=t.createElement("div");for(a.innerHTML=e,i=a.childNodes.length-1;i>=0;i-=1)this[s].insertBefore(a.childNodes[i],this[s].childNodes[0])}else if(e instanceof n)for(i=0;i<e.length;i+=1)this[s].insertBefore(e[i],this[s].childNodes[0]);else this[s].insertBefore(e,this[s].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&d(this[0].nextElementSibling).is(e)?d([this[0].nextElementSibling]):d([]):this[0].nextElementSibling?d([this[0].nextElementSibling]):d([]):d([])},nextAll:function(e){const t=[];let s=this[0];if(!s)return d([]);for(;s.nextElementSibling;){const a=s.nextElementSibling;e?d(a).is(e)&&t.push(a):t.push(a),s=a}return d(t)},prev:function(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&d(t.previousElementSibling).is(e)?d([t.previousElementSibling]):d([]):t.previousElementSibling?d([t.previousElementSibling]):d([])}return d([])},prevAll:function(e){const t=[];let s=this[0];if(!s)return d([]);for(;s.previousElementSibling;){const a=s.previousElementSibling;e?d(a).is(e)&&t.push(a):t.push(a),s=a}return d(t)},parent:function(e){const t=[];for(let s=0;s<this.length;s+=1)null!==this[s].parentNode&&(e?d(this[s].parentNode).is(e)&&t.push(this[s].parentNode):t.push(this[s].parentNode));return d(t)},parents:function(e){const t=[];for(let s=0;s<this.length;s+=1){let a=this[s].parentNode;for(;a;)e?d(a).is(e)&&t.push(a):t.push(a),a=a.parentNode}return d(t)},closest:function(e){let t=this;return void 0===e?d([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){const t=[];for(let s=0;s<this.length;s+=1){const a=this[s].querySelectorAll(e);for(let e=0;e<a.length;e+=1)t.push(a[e])}return d(t)},children:function(e){const t=[];for(let s=0;s<this.length;s+=1){const a=this[s].children;for(let s=0;s<a.length;s+=1)e&&!d(a[s]).is(e)||t.push(a[s])}return d(t)},filter:function(e){return d(o(this,e))},remove:function(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};function p(e,t=0){return setTimeout(e,t)}function u(){return Date.now()}function h(e,t="x"){const s=r();let a,i,n;const l=function(e){const t=r();let s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}(e);return s.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map((e=>e.replace(",","."))).join(", ")),n=new s.WebKitCSSMatrix("none"===i?"":i)):(n=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=n.toString().split(",")),"x"===t&&(i=s.WebKitCSSMatrix?n.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(i=s.WebKitCSSMatrix?n.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),i||0}function m(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function f(...e){const t=Object(e[0]),s=["__proto__","constructor","prototype"];for(let i=1;i<e.length;i+=1){const r=e[i];if(null!=r&&(a=r,!("undefined"!=typeof window&&void 0!==window.HTMLElement?a instanceof HTMLElement:a&&(1===a.nodeType||11===a.nodeType)))){const e=Object.keys(Object(r)).filter((e=>s.indexOf(e)<0));for(let s=0,a=e.length;s<a;s+=1){const a=e[s],i=Object.getOwnPropertyDescriptor(r,a);void 0!==i&&i.enumerable&&(m(t[a])&&m(r[a])?r[a].__swiper__?t[a]=r[a]:f(t[a],r[a]):!m(t[a])&&m(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:f(t[a],r[a])):t[a]=r[a])}}}var a;return t}function g(e,t,s){e.style.setProperty(t,s)}function v({swiper:e,targetPosition:t,side:s}){const a=r(),i=-e.translate;let n,l=null;const o=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const d=t>i?"next":"prev",c=(e,t)=>"next"===d&&e>=t||"prev"===d&&e<=t,p=()=>{n=(new Date).getTime(),null===l&&(l=n);const r=Math.max(Math.min((n-l)/o,1),0),d=.5-Math.cos(r*Math.PI)/2;let u=i+d*(t-i);if(c(u,t)&&(u=t),e.wrapperEl.scrollTo({[s]:u}),c(u,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout((()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:u})})),void a.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=a.requestAnimationFrame(p)};p()}let w,b,x;function y(){return w||(w=function(){const e=r(),t=a();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){let t=!1;try{const s=Object.defineProperty({},"passive",{get(){t=!0}});e.addEventListener("testPassiveListener",null,s)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),w}function E(e={}){return b||(b=function({userAgent:e}={}){const t=y(),s=r(),a=s.navigator.platform,i=e||s.navigator.userAgent,n={ios:!1,android:!1},l=s.screen.width,o=s.screen.height,d=i.match(/(Android);?[\s\/]+([\d.]+)?/);let c=i.match(/(iPad).*OS\s([\d_]+)/);const p=i.match(/(iPod)(.*OS\s([\d_]+))?/),u=!c&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===a;let m="MacIntel"===a;return!c&&m&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${l}x${o}`)>=0&&(c=i.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),m=!1),d&&!h&&(n.os="android",n.android=!0),(c||u||p)&&(n.os="ios",n.ios=!0),n}(e)),b}function T(){return x||(x=function(){const e=r();return{isSafari:function(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),x}Object.keys(c).forEach((e=>{Object.defineProperty(d.fn,e,{value:c[e],writable:!0})}));var C={on(e,t,s){const a=this;if("function"!=typeof t)return a;const i=s?"unshift":"push";return e.split(" ").forEach((e=>{a.eventsListeners[e]||(a.eventsListeners[e]=[]),a.eventsListeners[e][i](t)})),a},once(e,t,s){const a=this;if("function"!=typeof t)return a;function i(...s){a.off(e,i),i.__emitterProxy&&delete i.__emitterProxy,t.apply(a,s)}return i.__emitterProxy=t,a.on(e,i,s)},onAny(e,t){const s=this;if("function"!=typeof e)return s;const a=t?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[a](e),s},offAny(e){const t=this;if(!t.eventsAnyListeners)return t;const s=t.eventsAnyListeners.indexOf(e);return s>=0&&t.eventsAnyListeners.splice(s,1),t},off(e,t){const s=this;return s.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?s.eventsListeners[e]=[]:s.eventsListeners[e]&&s.eventsListeners[e].forEach(((a,i)=>{(a===t||a.__emitterProxy&&a.__emitterProxy===t)&&s.eventsListeners[e].splice(i,1)}))})),s):s},emit(...e){const t=this;if(!t.eventsListeners)return t;let s,a,i;"string"==typeof e[0]||Array.isArray(e[0])?(s=e[0],a=e.slice(1,e.length),i=t):(s=e[0].events,a=e[0].data,i=e[0].context||t),a.unshift(i);return(Array.isArray(s)?s:s.split(" ")).forEach((e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach((t=>{t.apply(i,[e,...a])})),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach((e=>{e.apply(i,a)}))})),t}};function $({swiper:e,runCallbacks:t,direction:s,step:a}){const{activeIndex:i,previousIndex:r}=e;let n=s;if(n||(n=i>r?"next":i<r?"prev":"reset"),e.emit(`transition${a}`),t&&i!==r){if("reset"===n)return void e.emit(`slideResetTransition${a}`);e.emit(`slideChangeTransition${a}`),"next"===n?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function S(e){const t=this,s=a(),i=r(),n=t.touchEventsData,{params:l,touches:o,enabled:c}=t;if(!c)return;if(t.animating&&l.preventInteractionOnTransition)return;!t.animating&&l.cssMode&&l.loop&&t.loopFix();let p=e;p.originalEvent&&(p=p.originalEvent);let h=d(p.target);if("wrapper"===l.touchEventsTarget&&!h.closest(t.wrapperEl).length)return;if(n.isTouchEvent="touchstart"===p.type,!n.isTouchEvent&&"which"in p&&3===p.which)return;if(!n.isTouchEvent&&"button"in p&&p.button>0)return;if(n.isTouched&&n.isMoved)return;!!l.noSwipingClass&&""!==l.noSwipingClass&&p.target&&p.target.shadowRoot&&e.path&&e.path[0]&&(h=d(e.path[0]));const m=l.noSwipingSelector?l.noSwipingSelector:`.${l.noSwipingClass}`,f=!(!p.target||!p.target.shadowRoot);if(l.noSwiping&&(f?function(e,t=this){return function t(s){return s&&s!==a()&&s!==r()?(s.assignedSlot&&(s=s.assignedSlot),s.closest(e)||t(s.getRootNode().host)):null}(t)}(m,p.target):h.closest(m)[0]))return void(t.allowClick=!0);if(l.swipeHandler&&!h.closest(l.swipeHandler)[0])return;o.currentX="touchstart"===p.type?p.targetTouches[0].pageX:p.pageX,o.currentY="touchstart"===p.type?p.targetTouches[0].pageY:p.pageY;const g=o.currentX,v=o.currentY,w=l.edgeSwipeDetection||l.iOSEdgeSwipeDetection,b=l.edgeSwipeThreshold||l.iOSEdgeSwipeThreshold;if(w&&(g<=b||g>=i.innerWidth-b)){if("prevent"!==w)return;e.preventDefault()}if(Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=v,n.touchStartTime=u(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,l.threshold>0&&(n.allowThresholdMove=!1),"touchstart"!==p.type){let e=!0;h.is(n.focusableElements)&&(e=!1),s.activeElement&&d(s.activeElement).is(n.focusableElements)&&s.activeElement!==h[0]&&s.activeElement.blur();const a=e&&t.allowTouchMove&&l.touchStartPreventDefault;!l.touchStartForcePreventDefault&&!a||h[0].isContentEditable||p.preventDefault()}t.emit("touchStart",p)}function M(e){const t=a(),s=this,i=s.touchEventsData,{params:r,touches:n,rtlTranslate:l,enabled:o}=s;if(!o)return;let c=e;if(c.originalEvent&&(c=c.originalEvent),!i.isTouched)return void(i.startMoving&&i.isScrolling&&s.emit("touchMoveOpposite",c));if(i.isTouchEvent&&"touchmove"!==c.type)return;const p="touchmove"===c.type&&c.targetTouches&&(c.targetTouches[0]||c.changedTouches[0]),h="touchmove"===c.type?p.pageX:c.pageX,m="touchmove"===c.type?p.pageY:c.pageY;if(c.preventedByNestedSwiper)return n.startX=h,void(n.startY=m);if(!s.allowTouchMove)return s.allowClick=!1,void(i.isTouched&&(Object.assign(n,{startX:h,startY:m,currentX:h,currentY:m}),i.touchStartTime=u()));if(i.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(s.isVertical()){if(m<n.startY&&s.translate<=s.maxTranslate()||m>n.startY&&s.translate>=s.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(h<n.startX&&s.translate<=s.maxTranslate()||h>n.startX&&s.translate>=s.minTranslate())return;if(i.isTouchEvent&&t.activeElement&&c.target===t.activeElement&&d(c.target).is(i.focusableElements))return i.isMoved=!0,void(s.allowClick=!1);if(i.allowTouchCallbacks&&s.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;n.currentX=h,n.currentY=m;const f=n.currentX-n.startX,g=n.currentY-n.startY;if(s.params.threshold&&Math.sqrt(f**2+g**2)<s.params.threshold)return;if(void 0===i.isScrolling){let e;s.isHorizontal()&&n.currentY===n.startY||s.isVertical()&&n.currentX===n.startX?i.isScrolling=!1:f*f+g*g>=25&&(e=180*Math.atan2(Math.abs(g),Math.abs(f))/Math.PI,i.isScrolling=s.isHorizontal()?e>r.touchAngle:90-e>r.touchAngle)}if(i.isScrolling&&s.emit("touchMoveOpposite",c),void 0===i.startMoving&&(n.currentX===n.startX&&n.currentY===n.startY||(i.startMoving=!0)),i.isScrolling)return void(i.isTouched=!1);if(!i.startMoving)return;s.allowClick=!1,!r.cssMode&&c.cancelable&&c.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&c.stopPropagation(),i.isMoved||(r.loop&&!r.cssMode&&s.loopFix(),i.startTranslate=s.getTranslate(),s.setTransition(0),s.animating&&s.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,!r.grabCursor||!0!==s.allowSlideNext&&!0!==s.allowSlidePrev||s.setGrabCursor(!0),s.emit("sliderFirstMove",c)),s.emit("sliderMove",c),i.isMoved=!0;let v=s.isHorizontal()?f:g;n.diff=v,v*=r.touchRatio,l&&(v=-v),s.swipeDirection=v>0?"prev":"next",i.currentTranslate=v+i.startTranslate;let w=!0,b=r.resistanceRatio;if(r.touchReleaseOnEdges&&(b=0),v>0&&i.currentTranslate>s.minTranslate()?(w=!1,r.resistance&&(i.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+i.startTranslate+v)**b)):v<0&&i.currentTranslate<s.maxTranslate()&&(w=!1,r.resistance&&(i.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-i.startTranslate-v)**b)),w&&(c.preventedByNestedSwiper=!0),!s.allowSlideNext&&"next"===s.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!s.allowSlidePrev&&"prev"===s.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),s.allowSlidePrev||s.allowSlideNext||(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(v)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,i.currentTranslate=i.startTranslate,void(n.diff=s.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY)}r.followFinger&&!r.cssMode&&((r.freeMode&&r.freeMode.enabled&&s.freeMode||r.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),s.params.freeMode&&r.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(i.currentTranslate),s.setTranslate(i.currentTranslate))}function P(e){const t=this,s=t.touchEventsData,{params:a,touches:i,rtlTranslate:r,slidesGrid:n,enabled:l}=t;if(!l)return;let o=e;if(o.originalEvent&&(o=o.originalEvent),s.allowTouchCallbacks&&t.emit("touchEnd",o),s.allowTouchCallbacks=!1,!s.isTouched)return s.isMoved&&a.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,void(s.startMoving=!1);a.grabCursor&&s.isMoved&&s.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const d=u(),c=d-s.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(o),t.emit("tap click",o),c<300&&d-s.lastClickTime<300&&t.emit("doubleTap doubleClick",o)),s.lastClickTime=u(),p((()=>{t.destroyed||(t.allowClick=!0)})),!s.isTouched||!s.isMoved||!t.swipeDirection||0===i.diff||s.currentTranslate===s.startTranslate)return s.isTouched=!1,s.isMoved=!1,void(s.startMoving=!1);let h;if(s.isTouched=!1,s.isMoved=!1,s.startMoving=!1,h=a.followFinger?r?t.translate:-t.translate:-s.currentTranslate,a.cssMode)return;if(t.params.freeMode&&a.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:h});let m=0,f=t.slidesSizesGrid[0];for(let e=0;e<n.length;e+=e<a.slidesPerGroupSkip?1:a.slidesPerGroup){const t=e<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;void 0!==n[e+t]?h>=n[e]&&h<n[e+t]&&(m=e,f=n[e+t]-n[e]):h>=n[e]&&(m=e,f=n[n.length-1]-n[n.length-2])}const g=(h-n[m])/f,v=m<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(c>a.longSwipesMs){if(!a.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(g>=a.longSwipesRatio?t.slideTo(m+v):t.slideTo(m)),"prev"===t.swipeDirection&&(g>1-a.longSwipesRatio?t.slideTo(m+v):t.slideTo(m))}else{if(!a.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(o.target===t.navigation.nextEl||o.target===t.navigation.prevEl)?o.target===t.navigation.nextEl?t.slideTo(m+v):t.slideTo(m):("next"===t.swipeDirection&&t.slideTo(m+v),"prev"===t.swipeDirection&&t.slideTo(m))}}function k(){const e=this,{params:t,el:s}=e;if(s&&0===s.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:i,snapGrid:r}=e;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=i,e.allowSlideNext=a,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}function z(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function O(){const e=this,{wrapperEl:t,rtlTranslate:s,enabled:a}=e;if(!a)return;let i;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const r=e.maxTranslate()-e.minTranslate();i=0===r?0:(e.translate-e.minTranslate())/r,i!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}let I=!1;function L(){}const A=(e,t)=>{const s=a(),{params:i,touchEvents:r,el:n,wrapperEl:l,device:o,support:d}=e,c=!!i.nested,p="on"===t?"addEventListener":"removeEventListener",u=t;if(d.touch){const t=!("touchstart"!==r.start||!d.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};n[p](r.start,e.onTouchStart,t),n[p](r.move,e.onTouchMove,d.passiveListener?{passive:!1,capture:c}:c),n[p](r.end,e.onTouchEnd,t),r.cancel&&n[p](r.cancel,e.onTouchEnd,t)}else n[p](r.start,e.onTouchStart,!1),s[p](r.move,e.onTouchMove,c),s[p](r.end,e.onTouchEnd,!1);(i.preventClicks||i.preventClicksPropagation)&&n[p]("click",e.onClick,!0),i.cssMode&&l[p]("scroll",e.onScroll),i.updateOnWindowResize?e[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",k,!0):e[u]("observerUpdate",k,!0)};const D=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var G={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function N(e,t){return function(s={}){const a=Object.keys(s)[0],i=s[a];"object"==typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(a)>=0&&!0===e[a]&&(e[a]={auto:!0}),a in e&&"enabled"in i?(!0===e[a]&&(e[a]={enabled:!0}),"object"!=typeof e[a]||"enabled"in e[a]||(e[a].enabled=!0),e[a]||(e[a]={enabled:!1}),f(t,s)):f(t,s)):f(t,s)}}const B={eventsEmitter:C,update:{updateSize:function(){const e=this;let t,s;const a=e.$el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:a[0].clientWidth,s=void 0!==e.params.height&&null!==e.params.height?e.params.height:a[0].clientHeight,0===t&&e.isHorizontal()||0===s&&e.isVertical()||(t=t-parseInt(a.css("padding-left")||0,10)-parseInt(a.css("padding-right")||0,10),s=s-parseInt(a.css("padding-top")||0,10)-parseInt(a.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function s(e,s){return parseFloat(e.getPropertyValue(t(s))||0)}const a=e.params,{$wrapperEl:i,size:r,rtlTranslate:n,wrongRTL:l}=e,o=e.virtual&&a.virtual.enabled,d=o?e.virtual.slides.length:e.slides.length,c=i.children(`.${e.params.slideClass}`),p=o?e.virtual.slides.length:c.length;let u=[];const h=[],m=[];let f=a.slidesOffsetBefore;"function"==typeof f&&(f=a.slidesOffsetBefore.call(e));let v=a.slidesOffsetAfter;"function"==typeof v&&(v=a.slidesOffsetAfter.call(e));const w=e.snapGrid.length,b=e.slidesGrid.length;let x=a.spaceBetween,y=-f,E=0,T=0;if(void 0===r)return;"string"==typeof x&&x.indexOf("%")>=0&&(x=parseFloat(x.replace("%",""))/100*r),e.virtualSize=-x,n?c.css({marginLeft:"",marginBottom:"",marginTop:""}):c.css({marginRight:"",marginBottom:"",marginTop:""}),a.centeredSlides&&a.cssMode&&(g(e.wrapperEl,"--swiper-centered-offset-before",""),g(e.wrapperEl,"--swiper-centered-offset-after",""));const C=a.grid&&a.grid.rows>1&&e.grid;let $;C&&e.grid.initSlides(p);const S="auto"===a.slidesPerView&&a.breakpoints&&Object.keys(a.breakpoints).filter((e=>void 0!==a.breakpoints[e].slidesPerView)).length>0;for(let i=0;i<p;i+=1){$=0;const n=c.eq(i);if(C&&e.grid.updateSlide(i,n,p,t),"none"!==n.css("display")){if("auto"===a.slidesPerView){S&&(c[i].style[t("width")]="");const r=getComputedStyle(n[0]),l=n[0].style.transform,o=n[0].style.webkitTransform;if(l&&(n[0].style.transform="none"),o&&(n[0].style.webkitTransform="none"),a.roundLengths)$=e.isHorizontal()?n.outerWidth(!0):n.outerHeight(!0);else{const e=s(r,"width"),t=s(r,"padding-left"),a=s(r,"padding-right"),i=s(r,"margin-left"),l=s(r,"margin-right"),o=r.getPropertyValue("box-sizing");if(o&&"border-box"===o)$=e+i+l;else{const{clientWidth:s,offsetWidth:r}=n[0];$=e+t+a+i+l+(r-s)}}l&&(n[0].style.transform=l),o&&(n[0].style.webkitTransform=o),a.roundLengths&&($=Math.floor($))}else $=(r-(a.slidesPerView-1)*x)/a.slidesPerView,a.roundLengths&&($=Math.floor($)),c[i]&&(c[i].style[t("width")]=`${$}px`);c[i]&&(c[i].swiperSlideSize=$),m.push($),a.centeredSlides?(y=y+$/2+E/2+x,0===E&&0!==i&&(y=y-r/2-x),0===i&&(y=y-r/2-x),Math.abs(y)<.001&&(y=0),a.roundLengths&&(y=Math.floor(y)),T%a.slidesPerGroup==0&&u.push(y),h.push(y)):(a.roundLengths&&(y=Math.floor(y)),(T-Math.min(e.params.slidesPerGroupSkip,T))%e.params.slidesPerGroup==0&&u.push(y),h.push(y),y=y+$+x),e.virtualSize+=$+x,E=$,T+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+v,n&&l&&("slide"===a.effect||"coverflow"===a.effect)&&i.css({width:`${e.virtualSize+a.spaceBetween}px`}),a.setWrapperSize&&i.css({[t("width")]:`${e.virtualSize+a.spaceBetween}px`}),C&&e.grid.updateWrapperSize($,u,t),!a.centeredSlides){const t=[];for(let s=0;s<u.length;s+=1){let i=u[s];a.roundLengths&&(i=Math.floor(i)),u[s]<=e.virtualSize-r&&t.push(i)}u=t,Math.floor(e.virtualSize-r)-Math.floor(u[u.length-1])>1&&u.push(e.virtualSize-r)}if(0===u.length&&(u=[0]),0!==a.spaceBetween){const s=e.isHorizontal()&&n?"marginLeft":t("marginRight");c.filter(((e,t)=>!a.cssMode||t!==c.length-1)).css({[s]:`${x}px`})}if(a.centeredSlides&&a.centeredSlidesBounds){let e=0;m.forEach((t=>{e+=t+(a.spaceBetween?a.spaceBetween:0)})),e-=a.spaceBetween;const t=e-r;u=u.map((e=>e<0?-f:e>t?t+v:e))}if(a.centerInsufficientSlides){let e=0;if(m.forEach((t=>{e+=t+(a.spaceBetween?a.spaceBetween:0)})),e-=a.spaceBetween,e<r){const t=(r-e)/2;u.forEach(((e,s)=>{u[s]=e-t})),h.forEach(((e,s)=>{h[s]=e+t}))}}if(Object.assign(e,{slides:c,snapGrid:u,slidesGrid:h,slidesSizesGrid:m}),a.centeredSlides&&a.cssMode&&!a.centeredSlidesBounds){g(e.wrapperEl,"--swiper-centered-offset-before",-u[0]+"px"),g(e.wrapperEl,"--swiper-centered-offset-after",e.size/2-m[m.length-1]/2+"px");const t=-e.snapGrid[0],s=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+s))}p!==d&&e.emit("slidesLengthChange"),u.length!==w&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==b&&e.emit("slidesGridLengthChange"),a.watchSlidesProgress&&e.updateSlidesOffset()},updateAutoHeight:function(e){const t=this,s=[],a=t.virtual&&t.params.virtual.enabled;let i,r=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const n=e=>a?t.slides.filter((t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e))[0]:t.slides.eq(e)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)t.visibleSlides.each((e=>{s.push(e)}));else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const e=t.activeIndex+i;if(e>t.slides.length&&!a)break;s.push(n(e))}else s.push(n(t.activeIndex));for(i=0;i<s.length;i+=1)if(void 0!==s[i]){const e=s[i].offsetHeight;r=e>r?e:r}r&&t.$wrapperEl.css("height",`${r}px`)},updateSlidesOffset:function(){const e=this,t=e.slides;for(let s=0;s<t.length;s+=1)t[s].swiperSlideOffset=e.isHorizontal()?t[s].offsetLeft:t[s].offsetTop},updateSlidesProgress:function(e=this&&this.translate||0){const t=this,s=t.params,{slides:a,rtlTranslate:i}=t;if(0===a.length)return;void 0===a[0].swiperSlideOffset&&t.updateSlidesOffset();let r=-e;i&&(r=e),a.removeClass(s.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let e=0;e<a.length;e+=1){const n=a[e];let l=n.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(l-=a[0].swiperSlideOffset);const o=(r+(s.centeredSlides?t.minTranslate():0)-l)/(n.swiperSlideSize+s.spaceBetween),d=-(r-l),c=d+t.slidesSizesGrid[e];(d>=0&&d<t.size-1||c>1&&c<=t.size||d<=0&&c>=t.size)&&(t.visibleSlides.push(n),t.visibleSlidesIndexes.push(e),a.eq(e).addClass(s.slideVisibleClass)),n.progress=i?-o:o}t.visibleSlides=d(t.visibleSlides)},updateProgress:function(e){const t=this;if(void 0===e){const s=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*s||0}const s=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:r,isEnd:n}=t;const l=r,o=n;0===a?(i=0,r=!0,n=!0):(i=(e-t.minTranslate())/a,r=i<=0,n=i>=1),Object.assign(t,{progress:i,isBeginning:r,isEnd:n}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),r&&!l&&t.emit("reachBeginning toEdge"),n&&!o&&t.emit("reachEnd toEdge"),(l&&!r||o&&!n)&&t.emit("fromEdge"),t.emit("progress",i)},updateSlidesClasses:function(){const e=this,{slides:t,params:s,$wrapperEl:a,activeIndex:i,realIndex:r}=e,n=e.virtual&&s.virtual.enabled;let l;t.removeClass(`${s.slideActiveClass} ${s.slideNextClass} ${s.slidePrevClass} ${s.slideDuplicateActiveClass} ${s.slideDuplicateNextClass} ${s.slideDuplicatePrevClass}`),l=n?e.$wrapperEl.find(`.${s.slideClass}[data-swiper-slide-index="${i}"]`):t.eq(i),l.addClass(s.slideActiveClass),s.loop&&(l.hasClass(s.slideDuplicateClass)?a.children(`.${s.slideClass}:not(.${s.slideDuplicateClass})[data-swiper-slide-index="${r}"]`).addClass(s.slideDuplicateActiveClass):a.children(`.${s.slideClass}.${s.slideDuplicateClass}[data-swiper-slide-index="${r}"]`).addClass(s.slideDuplicateActiveClass));let o=l.nextAll(`.${s.slideClass}`).eq(0).addClass(s.slideNextClass);s.loop&&0===o.length&&(o=t.eq(0),o.addClass(s.slideNextClass));let d=l.prevAll(`.${s.slideClass}`).eq(0).addClass(s.slidePrevClass);s.loop&&0===d.length&&(d=t.eq(-1),d.addClass(s.slidePrevClass)),s.loop&&(o.hasClass(s.slideDuplicateClass)?a.children(`.${s.slideClass}:not(.${s.slideDuplicateClass})[data-swiper-slide-index="${o.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicateNextClass):a.children(`.${s.slideClass}.${s.slideDuplicateClass}[data-swiper-slide-index="${o.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicateNextClass),d.hasClass(s.slideDuplicateClass)?a.children(`.${s.slideClass}:not(.${s.slideDuplicateClass})[data-swiper-slide-index="${d.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicatePrevClass):a.children(`.${s.slideClass}.${s.slideDuplicateClass}[data-swiper-slide-index="${d.attr("data-swiper-slide-index")}"]`).addClass(s.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,s=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:a,snapGrid:i,params:r,activeIndex:n,realIndex:l,snapIndex:o}=t;let d,c=e;if(void 0===c){for(let e=0;e<a.length;e+=1)void 0!==a[e+1]?s>=a[e]&&s<a[e+1]-(a[e+1]-a[e])/2?c=e:s>=a[e]&&s<a[e+1]&&(c=e+1):s>=a[e]&&(c=e);r.normalizeSlideIndex&&(c<0||void 0===c)&&(c=0)}if(i.indexOf(s)>=0)d=i.indexOf(s);else{const e=Math.min(r.slidesPerGroupSkip,c);d=e+Math.floor((c-e)/r.slidesPerGroup)}if(d>=i.length&&(d=i.length-1),c===n)return void(d!==o&&(t.snapIndex=d,t.emit("snapIndexChange")));const p=parseInt(t.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(t,{snapIndex:d,realIndex:p,previousIndex:n,activeIndex:c}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),l!==p&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,s=t.params,a=d(e.target).closest(`.${s.slideClass}`)[0];let i,r=!1;if(a)for(let e=0;e<t.slides.length;e+=1)if(t.slides[e]===a){r=!0,i=e;break}if(!a||!r)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(d(a).attr("data-swiper-slide-index"),10):t.clickedIndex=i,s.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}},translate:{getTranslate:function(e=(this.isHorizontal()?"x":"y")){const{params:t,rtlTranslate:s,translate:a,$wrapperEl:i}=this;if(t.virtualTranslate)return s?-a:a;if(t.cssMode)return a;let r=h(i[0],e);return s&&(r=-r),r||0},setTranslate:function(e,t){const s=this,{rtlTranslate:a,params:i,$wrapperEl:r,wrapperEl:n,progress:l}=s;let o,d=0,c=0;s.isHorizontal()?d=a?-e:e:c=e,i.roundLengths&&(d=Math.floor(d),c=Math.floor(c)),i.cssMode?n[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-d:-c:i.virtualTranslate||r.transform(`translate3d(${d}px, ${c}px, 0px)`),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?d:c;const p=s.maxTranslate()-s.minTranslate();o=0===p?0:(e-s.minTranslate())/p,o!==l&&s.updateProgress(e),s.emit("setTranslate",s.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e=0,t=this.params.speed,s=!0,a=!0,i){const r=this,{params:n,wrapperEl:l}=r;if(r.animating&&n.preventInteractionOnTransition)return!1;const o=r.minTranslate(),d=r.maxTranslate();let c;if(c=a&&e>o?o:a&&e<d?d:e,r.updateProgress(c),n.cssMode){const e=r.isHorizontal();if(0===t)l[e?"scrollLeft":"scrollTop"]=-c;else{if(!r.support.smoothScroll)return v({swiper:r,targetPosition:-c,side:e?"left":"top"}),!0;l.scrollTo({[e?"left":"top"]:-c,behavior:"smooth"})}return!0}return 0===t?(r.setTransition(0),r.setTranslate(c),s&&(r.emit("beforeTransitionStart",t,i),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(c),s&&(r.emit("beforeTransitionStart",t,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,s&&r.emit("transitionEnd"))}),r.$wrapperEl[0].addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){const s=this;s.params.cssMode||s.$wrapperEl.transition(e),s.emit("setTransition",e,t)},transitionStart:function(e=!0,t){const s=this,{params:a}=s;a.cssMode||(a.autoHeight&&s.updateAutoHeight(),$({swiper:s,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e=!0,t){const s=this,{params:a}=s;s.animating=!1,a.cssMode||(s.setTransition(0),$({swiper:s,runCallbacks:e,direction:t,step:"End"}))}},slide:{slideTo:function(e=0,t=this.params.speed,s=!0,a,i){if("number"!=typeof e&&"string"!=typeof e)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`);if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const r=this;let n=e;n<0&&(n=0);const{params:l,snapGrid:o,slidesGrid:d,previousIndex:c,activeIndex:p,rtlTranslate:u,wrapperEl:h,enabled:m}=r;if(r.animating&&l.preventInteractionOnTransition||!m&&!a&&!i)return!1;const f=Math.min(r.params.slidesPerGroupSkip,n);let g=f+Math.floor((n-f)/r.params.slidesPerGroup);g>=o.length&&(g=o.length-1),(p||l.initialSlide||0)===(c||0)&&s&&r.emit("beforeSlideChangeStart");const w=-o[g];if(r.updateProgress(w),l.normalizeSlideIndex)for(let e=0;e<d.length;e+=1){const t=-Math.floor(100*w),s=Math.floor(100*d[e]),a=Math.floor(100*d[e+1]);void 0!==d[e+1]?t>=s&&t<a-(a-s)/2?n=e:t>=s&&t<a&&(n=e+1):t>=s&&(n=e)}if(r.initialized&&n!==p){if(!r.allowSlideNext&&w<r.translate&&w<r.minTranslate())return!1;if(!r.allowSlidePrev&&w>r.translate&&w>r.maxTranslate()&&(p||0)!==n)return!1}let b;if(b=n>p?"next":n<p?"prev":"reset",u&&-w===r.translate||!u&&w===r.translate)return r.updateActiveIndex(n),l.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==l.effect&&r.setTranslate(w),"reset"!==b&&(r.transitionStart(s,b),r.transitionEnd(s,b)),!1;if(l.cssMode){const e=r.isHorizontal(),s=u?w:-w;if(0===t){const t=r.virtual&&r.params.virtual.enabled;t&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),h[e?"scrollLeft":"scrollTop"]=s,t&&requestAnimationFrame((()=>{r.wrapperEl.style.scrollSnapType="",r._swiperImmediateVirtual=!1}))}else{if(!r.support.smoothScroll)return v({swiper:r,targetPosition:s,side:e?"left":"top"}),!0;h.scrollTo({[e?"left":"top"]:s,behavior:"smooth"})}return!0}return 0===t?(r.setTransition(0),r.setTranslate(w),r.updateActiveIndex(n),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,a),r.transitionStart(s,b),r.transitionEnd(s,b)):(r.setTransition(t),r.setTranslate(w),r.updateActiveIndex(n),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,a),r.transitionStart(s,b),r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(s,b))}),r.$wrapperEl[0].addEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(e=0,t=this.params.speed,s=!0,a){const i=this;let r=e;return i.params.loop&&(r+=i.loopedSlides),i.slideTo(r,t,s,a)},slideNext:function(e=this.params.speed,t=!0,s){const a=this,{animating:i,enabled:r,params:n}=a;if(!r)return a;let l=n.slidesPerGroup;"auto"===n.slidesPerView&&1===n.slidesPerGroup&&n.slidesPerGroupAuto&&(l=Math.max(a.slidesPerViewDynamic("current",!0),1));const o=a.activeIndex<n.slidesPerGroupSkip?1:l;if(n.loop){if(i&&n.loopPreventsSlide)return!1;a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft}return a.slideTo(a.activeIndex+o,e,t,s)},slidePrev:function(e=this.params.speed,t=!0,s){const a=this,{params:i,animating:r,snapGrid:n,slidesGrid:l,rtlTranslate:o,enabled:d}=a;if(!d)return a;if(i.loop){if(r&&i.loopPreventsSlide)return!1;a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft}function c(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const p=c(o?a.translate:-a.translate),u=n.map((e=>c(e)));let h=n[u.indexOf(p)-1];if(void 0===h&&i.cssMode){let e;n.forEach(((t,s)=>{p>=t&&(e=s)})),void 0!==e&&(h=n[e>0?e-1:e])}let m=0;return void 0!==h&&(m=l.indexOf(h),m<0&&(m=a.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(m=m-a.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),a.slideTo(m,e,t,s)},slideReset:function(e=this.params.speed,t=!0,s){return this.slideTo(this.activeIndex,e,t,s)},slideToClosest:function(e=this.params.speed,t=!0,s,a=.5){const i=this;let r=i.activeIndex;const n=Math.min(i.params.slidesPerGroupSkip,r),l=n+Math.floor((r-n)/i.params.slidesPerGroup),o=i.rtlTranslate?i.translate:-i.translate;if(o>=i.snapGrid[l]){const e=i.snapGrid[l];o-e>(i.snapGrid[l+1]-e)*a&&(r+=i.params.slidesPerGroup)}else{const e=i.snapGrid[l-1];o-e<=(i.snapGrid[l]-e)*a&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,e,t,s)},slideToClickedSlide:function(){const e=this,{params:t,$wrapperEl:s}=e,a="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let i,r=e.clickedIndex;if(t.loop){if(e.animating)return;i=parseInt(d(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?r<e.loopedSlides-a/2||r>e.slides.length-e.loopedSlides+a/2?(e.loopFix(),r=s.children(`.${t.slideClass}[data-swiper-slide-index="${i}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),p((()=>{e.slideTo(r)}))):e.slideTo(r):r>e.slides.length-a?(e.loopFix(),r=s.children(`.${t.slideClass}[data-swiper-slide-index="${i}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),p((()=>{e.slideTo(r)}))):e.slideTo(r)}else e.slideTo(r)}},loop:{loopCreate:function(){const e=this,t=a(),{params:s,$wrapperEl:i}=e;i.children(`.${s.slideClass}.${s.slideDuplicateClass}`).remove();let r=i.children(`.${s.slideClass}`);if(s.loopFillGroupWithBlank){const e=s.slidesPerGroup-r.length%s.slidesPerGroup;if(e!==s.slidesPerGroup){for(let a=0;a<e;a+=1){const e=d(t.createElement("div")).addClass(`${s.slideClass} ${s.slideBlankClass}`);i.append(e)}r=i.children(`.${s.slideClass}`)}}"auto"!==s.slidesPerView||s.loopedSlides||(s.loopedSlides=r.length),e.loopedSlides=Math.ceil(parseFloat(s.loopedSlides||s.slidesPerView,10)),e.loopedSlides+=s.loopAdditionalSlides,e.loopedSlides>r.length&&(e.loopedSlides=r.length);const n=[],l=[];r.each(((t,s)=>{const a=d(t);s<e.loopedSlides&&l.push(t),s<r.length&&s>=r.length-e.loopedSlides&&n.push(t),a.attr("data-swiper-slide-index",s)}));for(let e=0;e<l.length;e+=1)i.append(d(l[e].cloneNode(!0)).addClass(s.slideDuplicateClass));for(let e=n.length-1;e>=0;e-=1)i.prepend(d(n[e].cloneNode(!0)).addClass(s.slideDuplicateClass))},loopFix:function(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:s,loopedSlides:a,allowSlidePrev:i,allowSlideNext:r,snapGrid:n,rtlTranslate:l}=e;let o;e.allowSlidePrev=!0,e.allowSlideNext=!0;const d=-n[t]-e.getTranslate();if(t<a){o=s.length-3*a+t,o+=a;e.slideTo(o,0,!1,!0)&&0!==d&&e.setTranslate((l?-e.translate:e.translate)-d)}else if(t>=s.length-a){o=-s.length+t+a,o+=a;e.slideTo(o,0,!1,!0)&&0!==d&&e.setTranslate((l?-e.translate:e.translate)-d)}e.allowSlidePrev=i,e.allowSlideNext=r,e.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:e,params:t,slides:s}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),s.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const s="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;s.style.cursor="move",s.style.cursor=e?"-webkit-grabbing":"-webkit-grab",s.style.cursor=e?"-moz-grabbin":"-moz-grab",s.style.cursor=e?"grabbing":"grab"},unsetGrabCursor:function(){const e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:{attachEvents:function(){const e=this,t=a(),{params:s,support:i}=e;e.onTouchStart=S.bind(e),e.onTouchMove=M.bind(e),e.onTouchEnd=P.bind(e),s.cssMode&&(e.onScroll=O.bind(e)),e.onClick=z.bind(e),i.touch&&!I&&(t.addEventListener("touchstart",L),I=!0),A(e,"on")},detachEvents:function(){A(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{activeIndex:t,initialized:s,loopedSlides:a=0,params:i,$el:r}=e,n=i.breakpoints;if(!n||n&&0===Object.keys(n).length)return;const l=e.getBreakpoint(n,e.params.breakpointsBase,e.el);if(!l||e.currentBreakpoint===l)return;const o=(l in n?n[l]:void 0)||e.originalParams,d=D(e,i),c=D(e,o),p=i.enabled;d&&!c?(r.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`),e.emitContainerClasses()):!d&&c&&(r.addClass(`${i.containerModifierClass}grid`),(o.grid.fill&&"column"===o.grid.fill||!o.grid.fill&&"column"===i.grid.fill)&&r.addClass(`${i.containerModifierClass}grid-column`),e.emitContainerClasses());const u=o.direction&&o.direction!==i.direction,h=i.loop&&(o.slidesPerView!==i.slidesPerView||u);u&&s&&e.changeDirection(),f(e.params,o);const m=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),p&&!m?e.disable():!p&&m&&e.enable(),e.currentBreakpoint=l,e.emit("_beforeBreakpoint",o),h&&s&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-a+e.loopedSlides,0,!1)),e.emit("breakpoint",o)},getBreakpoint:function(e,t="window",s){if(!e||"container"===t&&!s)return;let a=!1;const i=r(),n="window"===t?i.innerHeight:s.clientHeight,l=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:n*t,point:e}}return{value:e,point:e}}));l.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<l.length;e+=1){const{point:r,value:n}=l[e];"window"===t?i.matchMedia(`(min-width: ${n}px)`).matches&&(a=r):n<=s.clientWidth&&(a=r)}return a||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:s}=e,{slidesOffsetBefore:a}=s;if(a){const t=e.slides.length-1,s=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*a;e.isLocked=e.size>s}else e.isLocked=1===e.snapGrid.length;!0===s.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===s.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:s,rtl:a,$el:i,device:r,support:n}=e,l=function(e,t){const s=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((a=>{e[a]&&s.push(t+a)})):"string"==typeof e&&s.push(t+e)})),s}(["initialized",s.direction,{"pointer-events":!n.touch},{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:a},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&"column"===s.grid.fill},{android:r.android},{ios:r.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides}],s.containerModifierClass);t.push(...l),i.addClass([...t].join(" ")),e.emitContainerClasses()},removeClasses:function(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(e,t,s,a,i,n){const l=r();let o;function c(){n&&n()}d(e).parent("picture")[0]||e.complete&&i?c():t?(o=new l.Image,o.onload=c,o.onerror=c,a&&(o.sizes=a),s&&(o.srcset=s),t&&(o.src=t)):c()},preloadImages:function(){const e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let s=0;s<e.imagesToLoad.length;s+=1){const a=e.imagesToLoad[s];e.loadImage(a,a.currentSrc||a.getAttribute("src"),a.srcset||a.getAttribute("srcset"),a.sizes||a.getAttribute("sizes"),!0,t)}}}},X={};class H{constructor(...e){let t,s;if(1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?s=e[0]:[t,s]=e,s||(s={}),s=f({},s),t&&!s.el&&(s.el=t),s.el&&d(s.el).length>1){const e=[];return d(s.el).each((t=>{const a=f({},s,{el:t});e.push(new H(a))})),e}const a=this;a.__swiper__=!0,a.support=y(),a.device=E({userAgent:s.userAgent}),a.browser=T(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],s.modules&&Array.isArray(s.modules)&&a.modules.push(...s.modules);const i={};a.modules.forEach((e=>{e({swiper:a,extendParams:N(s,i),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})}));const r=f({},G,i);return a.params=f({},r,X,s),a.originalParams=f({},a.params),a.passedParams=f({},s),a.params&&a.params.on&&Object.keys(a.params.on).forEach((e=>{a.on(e,a.params.on[e])})),a.params&&a.params.onAny&&a.onAny(a.params.onAny),a.$=d,Object.assign(a,{enabled:a.params.enabled,el:t,classNames:[],slides:d(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===a.params.direction,isVertical:()=>"vertical"===a.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEvents:function(){const e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return a.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},a.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},a.support.touch||!a.params.simulateTouch?a.touchEventsTouch:a.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:u(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const a=s.minTranslate(),i=(s.maxTranslate()-a)*e+a;s.translateTo(i,void 0===t?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each((s=>{const a=e.getSlideClasses(s);t.push({slideEl:s,classNames:a}),e.emit("_slideClass",s,a)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const{params:s,slides:a,slidesGrid:i,slidesSizesGrid:r,size:n,activeIndex:l}=this;let o=1;if(s.centeredSlides){let e,t=a[l].swiperSlideSize;for(let s=l+1;s<a.length;s+=1)a[s]&&!e&&(t+=a[s].swiperSlideSize,o+=1,t>n&&(e=!0));for(let s=l-1;s>=0;s-=1)a[s]&&!e&&(t+=a[s].swiperSlideSize,o+=1,t>n&&(e=!0))}else if("current"===e)for(let e=l+1;e<a.length;e+=1){(t?i[e]+r[e]-i[l]<n:i[e]-i[l]<n)&&(o+=1)}else for(let e=l-1;e>=0;e-=1){i[l]-i[e]<n&&(o+=1)}return o}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;function a(){const t=e.rtlTranslate?-1*e.translate:e.translate,s=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(s),e.updateActiveIndex(),e.updateSlidesClasses()}let i;s.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(a(),e.params.autoHeight&&e.updateAutoHeight()):(i=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),i||a()),s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const s=this,a=s.params.direction;return e||(e="horizontal"===a?"vertical":"horizontal"),e===a||"horizontal"!==e&&"vertical"!==e||(s.$el.removeClass(`${s.params.containerModifierClass}${a}`).addClass(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.each((t=>{"vertical"===e?t.style.width="":t.style.height=""})),s.emit("changeDirection"),t&&s.update()),s}mount(e){const t=this;if(t.mounted)return!0;const s=d(e||t.params.el);if(!(e=s[0]))return!1;e.swiper=t;const i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let r=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const t=d(e.shadowRoot.querySelector(i()));return t.children=e=>s.children(e),t}return s.children(i())})();if(0===r.length&&t.params.createElements){const e=a().createElement("div");r=d(e),e.className=t.params.wrapperClass,s.append(e),s.children(`.${t.params.slideClass}`).each((e=>{r.append(e)}))}return Object.assign(t,{$el:s,el:e,$wrapperEl:r,wrapperEl:r[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===s.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===s.css("direction")),wrongRTL:"-webkit-box"===r.css("display")}),!0}init(e){const t=this;if(t.initialized)return t;return!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e=!0,t=!0){const s=this,{params:a,$el:i,$wrapperEl:r,slides:n}=s;return void 0===s.params||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),a.loop&&s.loopDestroy(),t&&(s.removeClasses(),i.removeAttr("style"),r.removeAttr("style"),n&&n.length&&n.removeClass([a.slideVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),s.emit("destroy"),Object.keys(s.eventsListeners).forEach((e=>{s.off(e)})),!1!==e&&(s.$el[0].swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(s)),s.destroyed=!0),null}static extendDefaults(e){f(X,e)}static get extendedDefaults(){return X}static get defaults(){return G}static installModule(e){H.prototype.__modules__||(H.prototype.__modules__=[]);const t=H.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>H.installModule(e))),H):(H.installModule(e),H)}}function Y(e,t,s,i){const r=a();return e.params.createElements&&Object.keys(i).forEach((a=>{if(!s[a]&&!0===s.auto){let n=e.$el.children(`.${i[a]}`)[0];n||(n=r.createElement("div"),n.className=i[a],e.$el.append(n)),s[a]=n,t[a]=n}})),s}function W(e=""){return`.${e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function R(e){const t=this,{$wrapperEl:s,params:a}=t;if(a.loop&&t.loopDestroy(),"object"==typeof e&&"length"in e)for(let t=0;t<e.length;t+=1)e[t]&&s.append(e[t]);else s.append(e);a.loop&&t.loopCreate(),a.observer||t.update()}function j(e){const t=this,{params:s,$wrapperEl:a,activeIndex:i}=t;s.loop&&t.loopDestroy();let r=i+1;if("object"==typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&a.prepend(e[t]);r=i+e.length}else a.prepend(e);s.loop&&t.loopCreate(),s.observer||t.update(),t.slideTo(r,0,!1)}function _(e,t){const s=this,{$wrapperEl:a,params:i,activeIndex:r}=s;let n=r;i.loop&&(n-=s.loopedSlides,s.loopDestroy(),s.slides=a.children(`.${i.slideClass}`));const l=s.slides.length;if(e<=0)return void s.prependSlide(t);if(e>=l)return void s.appendSlide(t);let o=n>e?n+1:n;const d=[];for(let t=l-1;t>=e;t-=1){const e=s.slides.eq(t);e.remove(),d.unshift(e)}if("object"==typeof t&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&a.append(t[e]);o=n>e?n+t.length:n}else a.append(t);for(let e=0;e<d.length;e+=1)a.append(d[e]);i.loop&&s.loopCreate(),i.observer||s.update(),i.loop?s.slideTo(o+s.loopedSlides,0,!1):s.slideTo(o,0,!1)}function V(e){const t=this,{params:s,$wrapperEl:a,activeIndex:i}=t;let r=i;s.loop&&(r-=t.loopedSlides,t.loopDestroy(),t.slides=a.children(`.${s.slideClass}`));let n,l=r;if("object"==typeof e&&"length"in e){for(let s=0;s<e.length;s+=1)n=e[s],t.slides[n]&&t.slides.eq(n).remove(),n<l&&(l-=1);l=Math.max(l,0)}else n=e,t.slides[n]&&t.slides.eq(n).remove(),n<l&&(l-=1),l=Math.max(l,0);s.loop&&t.loopCreate(),s.observer||t.update(),s.loop?t.slideTo(l+t.loopedSlides,0,!1):t.slideTo(l,0,!1)}function q(){const e=this,t=[];for(let s=0;s<e.slides.length;s+=1)t.push(s);e.removeSlide(t)}function F(e){const{effect:t,swiper:s,on:a,setTranslate:i,setTransition:r,overwriteParams:n,perspective:l}=e;a("beforeInit",(()=>{if(s.params.effect!==t)return;s.classNames.push(`${s.params.containerModifierClass}${t}`),l&&l()&&s.classNames.push(`${s.params.containerModifierClass}3d`);const e=n?n():{};Object.assign(s.params,e),Object.assign(s.originalParams,e)})),a("setTranslate",(()=>{s.params.effect===t&&i()})),a("setTransition",((e,a)=>{s.params.effect===t&&r(a)}))}function U(e,t){return e.transformEl?t.find(e.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):t}function K({swiper:e,duration:t,transformEl:s,allSlides:a}){const{slides:i,activeIndex:r,$wrapperEl:n}=e;if(e.params.virtualTranslate&&0!==t){let t,l=!1;t=a?s?i.find(s):i:s?i.eq(r).find(s):i.eq(r),t.transitionEnd((()=>{if(l)return;if(!e||e.destroyed)return;l=!0,e.animating=!1;const t=["webkitTransitionEnd","transitionend"];for(let e=0;e<t.length;e+=1)n.trigger(t[e])}))}}function Z(e,t,s){const a="swiper-slide-shadow"+(s?`-${s}`:""),i=e.transformEl?t.find(e.transformEl):t;let r=i.children(`.${a}`);return r.length||(r=d(`<div class="swiper-slide-shadow${s?`-${s}`:""}"></div>`),i.append(r)),r}Object.keys(B).forEach((e=>{Object.keys(B[e]).forEach((t=>{H.prototype[t]=B[e][t]}))})),H.use([function({swiper:e,on:t,emit:s}){const a=r();let i=null;const n=()=>{e&&!e.destroyed&&e.initialized&&(s("beforeResize"),s("resize"))},l=()=>{e&&!e.destroyed&&e.initialized&&s("orientationchange")};t("init",(()=>{e.params.resizeObserver&&void 0!==a.ResizeObserver?e&&!e.destroyed&&e.initialized&&(i=new ResizeObserver((t=>{const{width:s,height:a}=e;let i=s,r=a;t.forEach((({contentBoxSize:t,contentRect:s,target:a})=>{a&&a!==e.el||(i=s?s.width:(t[0]||t).inlineSize,r=s?s.height:(t[0]||t).blockSize)})),i===s&&r===a||n()})),i.observe(e.el)):(a.addEventListener("resize",n),a.addEventListener("orientationchange",l))})),t("destroy",(()=>{i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null),a.removeEventListener("resize",n),a.removeEventListener("orientationchange",l)}))},function({swiper:e,extendParams:t,on:s,emit:a}){const i=[],n=r(),l=(e,t={})=>{const s=new(n.MutationObserver||n.WebkitMutationObserver)((e=>{if(1===e.length)return void a("observerUpdate",e[0]);const t=function(){a("observerUpdate",e[0])};n.requestAnimationFrame?n.requestAnimationFrame(t):n.setTimeout(t,0)}));s.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),i.push(s)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",(()=>{if(e.params.observer){if(e.params.observeParents){const t=e.$el.parents();for(let e=0;e<t.length;e+=1)l(t[e])}l(e.$el[0],{childList:e.params.observeSlideChildren}),l(e.$wrapperEl[0],{attributes:!1})}})),s("destroy",(()=>{i.forEach((e=>{e.disconnect()})),i.splice(0,i.length)}))}]);const J=[function({swiper:e,extendParams:t,on:s}){let a;function i(t,s){const a=e.params.virtual;if(a.cache&&e.virtual.cache[s])return e.virtual.cache[s];const i=a.renderSlide?d(a.renderSlide.call(e,t,s)):d(`<div class="${e.params.slideClass}" data-swiper-slide-index="${s}">${t}</div>`);return i.attr("data-swiper-slide-index")||i.attr("data-swiper-slide-index",s),a.cache&&(e.virtual.cache[s]=i),i}function r(t){const{slidesPerView:s,slidesPerGroup:a,centeredSlides:r}=e.params,{addSlidesBefore:n,addSlidesAfter:l}=e.params.virtual,{from:o,to:d,slides:c,slidesGrid:p,offset:u}=e.virtual;e.params.cssMode||e.updateActiveIndex();const h=e.activeIndex||0;let m,f,g;m=e.rtlTranslate?"right":e.isHorizontal()?"left":"top",r?(f=Math.floor(s/2)+a+l,g=Math.floor(s/2)+a+n):(f=s+(a-1)+l,g=a+n);const v=Math.max((h||0)-g,0),w=Math.min((h||0)+f,c.length-1),b=(e.slidesGrid[v]||0)-(e.slidesGrid[0]||0);function x(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load()}if(Object.assign(e.virtual,{from:v,to:w,offset:b,slidesGrid:e.slidesGrid}),o===v&&d===w&&!t)return e.slidesGrid!==p&&b!==u&&e.slides.css(m,`${b}px`),void e.updateProgress();if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:b,from:v,to:w,slides:function(){const e=[];for(let t=v;t<=w;t+=1)e.push(c[t]);return e}()}),void(e.params.virtual.renderExternalUpdate&&x());const y=[],E=[];if(t)e.$wrapperEl.find(`.${e.params.slideClass}`).remove();else for(let t=o;t<=d;t+=1)(t<v||t>w)&&e.$wrapperEl.find(`.${e.params.slideClass}[data-swiper-slide-index="${t}"]`).remove();for(let e=0;e<c.length;e+=1)e>=v&&e<=w&&(void 0===d||t?E.push(e):(e>d&&E.push(e),e<o&&y.push(e)));E.forEach((t=>{e.$wrapperEl.append(i(c[t],t))})),y.sort(((e,t)=>t-e)).forEach((t=>{e.$wrapperEl.prepend(i(c[t],t))})),e.$wrapperEl.children(".swiper-slide").css(m,`${b}px`),x()}t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}}),e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]},s("beforeInit",(()=>{e.params.virtual.enabled&&(e.virtual.slides=e.params.virtual.slides,e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,e.params.initialSlide||r())})),s("setTranslate",(()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(a),a=setTimeout((()=>{r()}),100)):r())})),s("init update resize",(()=>{e.params.virtual.enabled&&e.params.cssMode&&g(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)})),Object.assign(e.virtual,{appendSlide:function(t){if("object"==typeof t&&"length"in t)for(let s=0;s<t.length;s+=1)t[s]&&e.virtual.slides.push(t[s]);else e.virtual.slides.push(t);r(!0)},prependSlide:function(t){const s=e.activeIndex;let a=s+1,i=1;if(Array.isArray(t)){for(let s=0;s<t.length;s+=1)t[s]&&e.virtual.slides.unshift(t[s]);a=s+t.length,i=t.length}else e.virtual.slides.unshift(t);if(e.params.virtual.cache){const t=e.virtual.cache,s={};Object.keys(t).forEach((e=>{const a=t[e],r=a.attr("data-swiper-slide-index");r&&a.attr("data-swiper-slide-index",parseInt(r,10)+i),s[parseInt(e,10)+i]=a})),e.virtual.cache=s}r(!0),e.slideTo(a,0)},removeSlide:function(t){if(null==t)return;let s=e.activeIndex;if(Array.isArray(t))for(let a=t.length-1;a>=0;a-=1)e.virtual.slides.splice(t[a],1),e.params.virtual.cache&&delete e.virtual.cache[t[a]],t[a]<s&&(s-=1),s=Math.max(s,0);else e.virtual.slides.splice(t,1),e.params.virtual.cache&&delete e.virtual.cache[t],t<s&&(s-=1),s=Math.max(s,0);r(!0),e.slideTo(s,0)},removeAllSlides:function(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),r(!0),e.slideTo(0,0)},update:r})},function({swiper:e,extendParams:t,on:s,emit:i}){const n=a(),l=r();function o(t){if(!e.enabled)return;const{rtlTranslate:s}=e;let a=t;a.originalEvent&&(a=a.originalEvent);const r=a.keyCode||a.charCode,o=e.params.keyboard.pageUpDown,d=o&&33===r,c=o&&34===r,p=37===r,u=39===r,h=38===r,m=40===r;if(!e.allowSlideNext&&(e.isHorizontal()&&u||e.isVertical()&&m||c))return!1;if(!e.allowSlidePrev&&(e.isHorizontal()&&p||e.isVertical()&&h||d))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||n.activeElement&&n.activeElement.nodeName&&("input"===n.activeElement.nodeName.toLowerCase()||"textarea"===n.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(d||c||p||u||h||m)){let t=!1;if(e.$el.parents(`.${e.params.slideClass}`).length>0&&0===e.$el.parents(`.${e.params.slideActiveClass}`).length)return;const a=e.$el,i=a[0].clientWidth,r=a[0].clientHeight,n=l.innerWidth,o=l.innerHeight,d=e.$el.offset();s&&(d.left-=e.$el[0].scrollLeft);const c=[[d.left,d.top],[d.left+i,d.top],[d.left,d.top+r],[d.left+i,d.top+r]];for(let e=0;e<c.length;e+=1){const s=c[e];if(s[0]>=0&&s[0]<=n&&s[1]>=0&&s[1]<=o){if(0===s[0]&&0===s[1])continue;t=!0}}if(!t)return}e.isHorizontal()?((d||c||p||u)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),((c||u)&&!s||(d||p)&&s)&&e.slideNext(),((d||p)&&!s||(c||u)&&s)&&e.slidePrev()):((d||c||h||m)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),(c||m)&&e.slideNext(),(d||h)&&e.slidePrev()),i("keyPress",r)}}function c(){e.keyboard.enabled||(d(n).on("keydown",o),e.keyboard.enabled=!0)}function p(){e.keyboard.enabled&&(d(n).off("keydown",o),e.keyboard.enabled=!1)}e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),s("init",(()=>{e.params.keyboard.enabled&&c()})),s("destroy",(()=>{e.keyboard.enabled&&p()})),Object.assign(e.keyboard,{enable:c,disable:p})},function({swiper:e,extendParams:t,on:s,emit:a}){const i=r();let n;t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),e.mousewheel={enabled:!1};let l,o=u();const c=[];function h(){e.enabled&&(e.mouseEntered=!0)}function m(){e.enabled&&(e.mouseEntered=!1)}function f(t){return!(e.params.mousewheel.thresholdDelta&&t.delta<e.params.mousewheel.thresholdDelta)&&(!(e.params.mousewheel.thresholdTime&&u()-o<e.params.mousewheel.thresholdTime)&&(t.delta>=6&&u()-o<60||(t.direction<0?e.isEnd&&!e.params.loop||e.animating||(e.slideNext(),a("scroll",t.raw)):e.isBeginning&&!e.params.loop||e.animating||(e.slidePrev(),a("scroll",t.raw)),o=(new i.Date).getTime(),!1)))}function g(t){let s=t,i=!0;if(!e.enabled)return;const r=e.params.mousewheel;e.params.cssMode&&s.preventDefault();let o=e.$el;if("container"!==e.params.mousewheel.eventsTarget&&(o=d(e.params.mousewheel.eventsTarget)),!e.mouseEntered&&!o[0].contains(s.target)&&!r.releaseOnEdges)return!0;s.originalEvent&&(s=s.originalEvent);let h=0;const m=e.rtlTranslate?-1:1,g=function(e){let t=0,s=0,a=0,i=0;return"detail"in e&&(s=e.detail),"wheelDelta"in e&&(s=-e.wheelDelta/120),"wheelDeltaY"in e&&(s=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=s,s=0),a=10*t,i=10*s,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(a=e.deltaX),e.shiftKey&&!a&&(a=i,i=0),(a||i)&&e.deltaMode&&(1===e.deltaMode?(a*=40,i*=40):(a*=800,i*=800)),a&&!t&&(t=a<1?-1:1),i&&!s&&(s=i<1?-1:1),{spinX:t,spinY:s,pixelX:a,pixelY:i}}(s);if(r.forceToAxis)if(e.isHorizontal()){if(!(Math.abs(g.pixelX)>Math.abs(g.pixelY)))return!0;h=-g.pixelX*m}else{if(!(Math.abs(g.pixelY)>Math.abs(g.pixelX)))return!0;h=-g.pixelY}else h=Math.abs(g.pixelX)>Math.abs(g.pixelY)?-g.pixelX*m:-g.pixelY;if(0===h)return!0;r.invert&&(h=-h);let v=e.getTranslate()+h*r.sensitivity;if(v>=e.minTranslate()&&(v=e.minTranslate()),v<=e.maxTranslate()&&(v=e.maxTranslate()),i=!!e.params.loop||!(v===e.minTranslate()||v===e.maxTranslate()),i&&e.params.nested&&s.stopPropagation(),e.params.freeMode&&e.params.freeMode.enabled){const t={time:u(),delta:Math.abs(h),direction:Math.sign(h)},i=l&&t.time<l.time+500&&t.delta<=l.delta&&t.direction===l.direction;if(!i){l=void 0,e.params.loop&&e.loopFix();let o=e.getTranslate()+h*r.sensitivity;const d=e.isBeginning,u=e.isEnd;if(o>=e.minTranslate()&&(o=e.minTranslate()),o<=e.maxTranslate()&&(o=e.maxTranslate()),e.setTransition(0),e.setTranslate(o),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!d&&e.isBeginning||!u&&e.isEnd)&&e.updateSlidesClasses(),e.params.freeMode.sticky){clearTimeout(n),n=void 0,c.length>=15&&c.shift();const s=c.length?c[c.length-1]:void 0,a=c[0];if(c.push(t),s&&(t.delta>s.delta||t.direction!==s.direction))c.splice(0);else if(c.length>=15&&t.time-a.time<500&&a.delta-t.delta>=1&&t.delta<=6){const s=h>0?.8:.2;l=t,c.splice(0),n=p((()=>{e.slideToClosest(e.params.speed,!0,void 0,s)}),0)}n||(n=p((()=>{l=t,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)}),500))}if(i||a("scroll",s),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),o===e.minTranslate()||o===e.maxTranslate())return!0}}else{const s={time:u(),delta:Math.abs(h),direction:Math.sign(h),raw:t};c.length>=2&&c.shift();const a=c.length?c[c.length-1]:void 0;if(c.push(s),a?(s.direction!==a.direction||s.delta>a.delta||s.time>a.time+150)&&f(s):f(s),function(t){const s=e.params.mousewheel;if(t.direction<0){if(e.isEnd&&!e.params.loop&&s.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&s.releaseOnEdges)return!0;return!1}(s))return!0}return s.preventDefault?s.preventDefault():s.returnValue=!1,!1}function v(t){let s=e.$el;"container"!==e.params.mousewheel.eventsTarget&&(s=d(e.params.mousewheel.eventsTarget)),s[t]("mouseenter",h),s[t]("mouseleave",m),s[t]("wheel",g)}function w(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",g),!0):!e.mousewheel.enabled&&(v("on"),e.mousewheel.enabled=!0,!0)}function b(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,g),!0):!!e.mousewheel.enabled&&(v("off"),e.mousewheel.enabled=!1,!0)}s("init",(()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&b(),e.params.mousewheel.enabled&&w()})),s("destroy",(()=>{e.params.cssMode&&w(),e.mousewheel.enabled&&b()})),Object.assign(e.mousewheel,{enable:w,disable:b})},function({swiper:e,extendParams:t,on:s,emit:a}){function i(t){let s;return t&&(s=d(t),e.params.uniqueNavElements&&"string"==typeof t&&s.length>1&&1===e.$el.find(t).length&&(s=e.$el.find(t))),s}function r(t,s){const a=e.params.navigation;t&&t.length>0&&(t[s?"addClass":"removeClass"](a.disabledClass),t[0]&&"BUTTON"===t[0].tagName&&(t[0].disabled=s),e.params.watchOverflow&&e.enabled&&t[e.isLocked?"addClass":"removeClass"](a.lockClass))}function n(){if(e.params.loop)return;const{$nextEl:t,$prevEl:s}=e.navigation;r(s,e.isBeginning),r(t,e.isEnd)}function l(t){t.preventDefault(),e.isBeginning&&!e.params.loop||e.slidePrev()}function o(t){t.preventDefault(),e.isEnd&&!e.params.loop||e.slideNext()}function c(){const t=e.params.navigation;if(e.params.navigation=Y(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!t.nextEl&&!t.prevEl)return;const s=i(t.nextEl),a=i(t.prevEl);s&&s.length>0&&s.on("click",o),a&&a.length>0&&a.on("click",l),Object.assign(e.navigation,{$nextEl:s,nextEl:s&&s[0],$prevEl:a,prevEl:a&&a[0]}),e.enabled||(s&&s.addClass(t.lockClass),a&&a.addClass(t.lockClass))}function p(){const{$nextEl:t,$prevEl:s}=e.navigation;t&&t.length&&(t.off("click",o),t.removeClass(e.params.navigation.disabledClass)),s&&s.length&&(s.off("click",l),s.removeClass(e.params.navigation.disabledClass))}t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),e.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},s("init",(()=>{c(),n()})),s("toEdge fromEdge lock unlock",(()=>{n()})),s("destroy",(()=>{p()})),s("enable disable",(()=>{const{$nextEl:t,$prevEl:s}=e.navigation;t&&t[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),s&&s[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)})),s("click",((t,s)=>{const{$nextEl:i,$prevEl:r}=e.navigation,n=s.target;if(e.params.navigation.hideOnClick&&!d(n).is(r)&&!d(n).is(i)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===n||e.pagination.el.contains(n)))return;let t;i?t=i.hasClass(e.params.navigation.hiddenClass):r&&(t=r.hasClass(e.params.navigation.hiddenClass)),a(!0===t?"navigationShow":"navigationHide"),i&&i.toggleClass(e.params.navigation.hiddenClass),r&&r.toggleClass(e.params.navigation.hiddenClass)}})),Object.assign(e.navigation,{update:n,init:c,destroy:p})},function({swiper:e,extendParams:t,on:s,emit:a}){const i="swiper-pagination";let r;t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`}}),e.pagination={el:null,$el:null,bullets:[]};let n=0;function l(){return!e.params.pagination.el||!e.pagination.el||!e.pagination.$el||0===e.pagination.$el.length}function o(t,s){const{bulletActiveClass:a}=e.params.pagination;t[s]().addClass(`${a}-${s}`)[s]().addClass(`${a}-${s}-${s}`)}function c(){const t=e.rtl,s=e.params.pagination;if(l())return;const i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,c=e.pagination.$el;let p;const u=e.params.loop?Math.ceil((i-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(p=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup),p>i-1-2*e.loopedSlides&&(p-=i-2*e.loopedSlides),p>u-1&&(p-=u),p<0&&"bullets"!==e.params.paginationType&&(p=u+p)):p=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===s.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const a=e.pagination.bullets;let i,l,u;if(s.dynamicBullets&&(r=a.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),c.css(e.isHorizontal()?"width":"height",r*(s.dynamicMainBullets+4)+"px"),s.dynamicMainBullets>1&&void 0!==e.previousIndex&&(n+=p-e.previousIndex,n>s.dynamicMainBullets-1?n=s.dynamicMainBullets-1:n<0&&(n=0)),i=p-n,l=i+(Math.min(a.length,s.dynamicMainBullets)-1),u=(l+i)/2),a.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${s.bulletActiveClass}${e}`)).join(" ")),c.length>1)a.each((e=>{const t=d(e),a=t.index();a===p&&t.addClass(s.bulletActiveClass),s.dynamicBullets&&(a>=i&&a<=l&&t.addClass(`${s.bulletActiveClass}-main`),a===i&&o(t,"prev"),a===l&&o(t,"next"))}));else{const t=a.eq(p),r=t.index();if(t.addClass(s.bulletActiveClass),s.dynamicBullets){const t=a.eq(i),n=a.eq(l);for(let e=i;e<=l;e+=1)a.eq(e).addClass(`${s.bulletActiveClass}-main`);if(e.params.loop)if(r>=a.length-s.dynamicMainBullets){for(let e=s.dynamicMainBullets;e>=0;e-=1)a.eq(a.length-e).addClass(`${s.bulletActiveClass}-main`);a.eq(a.length-s.dynamicMainBullets-1).addClass(`${s.bulletActiveClass}-prev`)}else o(t,"prev"),o(n,"next");else o(t,"prev"),o(n,"next")}}if(s.dynamicBullets){const i=Math.min(a.length,s.dynamicMainBullets+4),n=(r*i-r)/2-u*r,l=t?"right":"left";a.css(e.isHorizontal()?l:"top",`${n}px`)}}if("fraction"===s.type&&(c.find(W(s.currentClass)).text(s.formatFractionCurrent(p+1)),c.find(W(s.totalClass)).text(s.formatFractionTotal(u))),"progressbar"===s.type){let t;t=s.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const a=(p+1)/u;let i=1,r=1;"horizontal"===t?i=a:r=a,c.find(W(s.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${i}) scaleY(${r})`).transition(e.params.speed)}"custom"===s.type&&s.renderCustom?(c.html(s.renderCustom(e,p+1,u)),a("paginationRender",c[0])):a("paginationUpdate",c[0]),e.params.watchOverflow&&e.enabled&&c[e.isLocked?"addClass":"removeClass"](s.lockClass)}function p(){const t=e.params.pagination;if(l())return;const s=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,i=e.pagination.$el;let r="";if("bullets"===t.type){let a=e.params.loop?Math.ceil((s-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&!e.params.loop&&a>s&&(a=s);for(let s=0;s<a;s+=1)t.renderBullet?r+=t.renderBullet.call(e,s,t.bulletClass):r+=`<${t.bulletElement} class="${t.bulletClass}"></${t.bulletElement}>`;i.html(r),e.pagination.bullets=i.find(W(t.bulletClass))}"fraction"===t.type&&(r=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`,i.html(r)),"progressbar"===t.type&&(r=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):`<span class="${t.progressbarFillClass}"></span>`,i.html(r)),"custom"!==t.type&&a("paginationRender",e.pagination.$el[0])}function u(){e.params.pagination=Y(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let s=d(t.el);0!==s.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&s.length>1&&(s=e.$el.find(t.el),s.length>1&&(s=s.filter((t=>d(t).parents(".swiper")[0]===e.el)))),"bullets"===t.type&&t.clickable&&s.addClass(t.clickableClass),s.addClass(t.modifierClass+t.type),s.addClass(t.modifierClass+e.params.direction),"bullets"===t.type&&t.dynamicBullets&&(s.addClass(`${t.modifierClass}${t.type}-dynamic`),n=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&s.addClass(t.progressbarOppositeClass),t.clickable&&s.on("click",W(t.bulletClass),(function(t){t.preventDefault();let s=d(this).index()*e.params.slidesPerGroup;e.params.loop&&(s+=e.loopedSlides),e.slideTo(s)})),Object.assign(e.pagination,{$el:s,el:s[0]}),e.enabled||s.addClass(t.lockClass))}function h(){const t=e.params.pagination;if(l())return;const s=e.pagination.$el;s.removeClass(t.hiddenClass),s.removeClass(t.modifierClass+t.type),s.removeClass(t.modifierClass+e.params.direction),e.pagination.bullets&&e.pagination.bullets.removeClass&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&s.off("click",W(t.bulletClass))}s("init",(()=>{u(),p(),c()})),s("activeIndexChange",(()=>{(e.params.loop||void 0===e.snapIndex)&&c()})),s("snapIndexChange",(()=>{e.params.loop||c()})),s("slidesLengthChange",(()=>{e.params.loop&&(p(),c())})),s("snapGridLengthChange",(()=>{e.params.loop||(p(),c())})),s("destroy",(()=>{h()})),s("enable disable",(()=>{const{$el:t}=e.pagination;t&&t[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)})),s("lock unlock",(()=>{c()})),s("click",((t,s)=>{const i=s.target,{$el:r}=e.pagination;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&r.length>0&&!d(i).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&i===e.navigation.nextEl||e.navigation.prevEl&&i===e.navigation.prevEl))return;const t=r.hasClass(e.params.pagination.hiddenClass);a(!0===t?"paginationShow":"paginationHide"),r.toggleClass(e.params.pagination.hiddenClass)}})),Object.assign(e.pagination,{render:p,update:c,init:u,destroy:h})},function({swiper:e,extendParams:t,on:s,emit:i}){const r=a();let n,l,o,c,u=!1,h=null,m=null;function f(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t,rtlTranslate:s,progress:a}=e,{$dragEl:i,$el:r}=t,n=e.params.scrollbar;let d=l,c=(o-l)*a;s?(c=-c,c>0?(d=l-c,c=0):-c+l>o&&(d=o+c)):c<0?(d=l+c,c=0):c+l>o&&(d=o-c),e.isHorizontal()?(i.transform(`translate3d(${c}px, 0, 0)`),i[0].style.width=`${d}px`):(i.transform(`translate3d(0px, ${c}px, 0)`),i[0].style.height=`${d}px`),n.hide&&(clearTimeout(h),r[0].style.opacity=1,h=setTimeout((()=>{r[0].style.opacity=0,r.transition(400)}),1e3))}function g(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t}=e,{$dragEl:s,$el:a}=t;s[0].style.width="",s[0].style.height="",o=e.isHorizontal()?a[0].offsetWidth:a[0].offsetHeight,c=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),l="auto"===e.params.scrollbar.dragSize?o*c:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?s[0].style.width=`${l}px`:s[0].style.height=`${l}px`,a[0].style.display=c>=1?"none":"",e.params.scrollbar.hide&&(a[0].style.opacity=0),e.params.watchOverflow&&e.enabled&&t.$el[e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}function v(t){return e.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].clientX:t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].clientY:t.clientY}function w(t){const{scrollbar:s,rtlTranslate:a}=e,{$el:i}=s;let r;r=(v(t)-i.offset()[e.isHorizontal()?"left":"top"]-(null!==n?n:l/2))/(o-l),r=Math.max(Math.min(r,1),0),a&&(r=1-r);const d=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*r;e.updateProgress(d),e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}function b(t){const s=e.params.scrollbar,{scrollbar:a,$wrapperEl:r}=e,{$el:l,$dragEl:o}=a;u=!0,n=t.target===o[0]||t.target===o?v(t)-t.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,t.preventDefault(),t.stopPropagation(),r.transition(100),o.transition(100),w(t),clearTimeout(m),l.transition(0),s.hide&&l.css("opacity",1),e.params.cssMode&&e.$wrapperEl.css("scroll-snap-type","none"),i("scrollbarDragStart",t)}function x(t){const{scrollbar:s,$wrapperEl:a}=e,{$el:r,$dragEl:n}=s;u&&(t.preventDefault?t.preventDefault():t.returnValue=!1,w(t),a.transition(0),r.transition(0),n.transition(0),i("scrollbarDragMove",t))}function y(t){const s=e.params.scrollbar,{scrollbar:a,$wrapperEl:r}=e,{$el:n}=a;u&&(u=!1,e.params.cssMode&&(e.$wrapperEl.css("scroll-snap-type",""),r.transition("")),s.hide&&(clearTimeout(m),m=p((()=>{n.css("opacity",0),n.transition(400)}),1e3)),i("scrollbarDragEnd",t),s.snapOnRelease&&e.slideToClosest())}function E(t){const{scrollbar:s,touchEventsTouch:a,touchEventsDesktop:i,params:n,support:l}=e,o=s.$el[0],d=!(!l.passiveListener||!n.passiveListeners)&&{passive:!1,capture:!1},c=!(!l.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};if(!o)return;const p="on"===t?"addEventListener":"removeEventListener";l.touch?(o[p](a.start,b,d),o[p](a.move,x,d),o[p](a.end,y,c)):(o[p](i.start,b,d),r[p](i.move,x,d),r[p](i.end,y,c))}function T(){const{scrollbar:t,$el:s}=e;e.params.scrollbar=Y(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const a=e.params.scrollbar;if(!a.el)return;let i=d(a.el);e.params.uniqueNavElements&&"string"==typeof a.el&&i.length>1&&1===s.find(a.el).length&&(i=s.find(a.el));let r=i.find(`.${e.params.scrollbar.dragClass}`);0===r.length&&(r=d(`<div class="${e.params.scrollbar.dragClass}"></div>`),i.append(r)),Object.assign(t,{$el:i,el:i[0],$dragEl:r,dragEl:r[0]}),a.draggable&&e.params.scrollbar.el&&E("on"),i&&i[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}function C(){e.params.scrollbar.el&&E("off")}t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}}),e.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null},s("init",(()=>{T(),g(),f()})),s("update resize observerUpdate lock unlock",(()=>{g()})),s("setTranslate",(()=>{f()})),s("setTransition",((t,s)=>{!function(t){e.params.scrollbar.el&&e.scrollbar.el&&e.scrollbar.$dragEl.transition(t)}(s)})),s("enable disable",(()=>{const{$el:t}=e.scrollbar;t&&t[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)})),s("destroy",(()=>{C()})),Object.assign(e.scrollbar,{updateSize:g,setTranslate:f,init:T,destroy:C})},function({swiper:e,extendParams:t,on:s}){t({parallax:{enabled:!1}});const a=(t,s)=>{const{rtl:a}=e,i=d(t),r=a?-1:1,n=i.attr("data-swiper-parallax")||"0";let l=i.attr("data-swiper-parallax-x"),o=i.attr("data-swiper-parallax-y");const c=i.attr("data-swiper-parallax-scale"),p=i.attr("data-swiper-parallax-opacity");if(l||o?(l=l||"0",o=o||"0"):e.isHorizontal()?(l=n,o="0"):(o=n,l="0"),l=l.indexOf("%")>=0?parseInt(l,10)*s*r+"%":l*s*r+"px",o=o.indexOf("%")>=0?parseInt(o,10)*s+"%":o*s+"px",null!=p){const e=p-(p-1)*(1-Math.abs(s));i[0].style.opacity=e}if(null==c)i.transform(`translate3d(${l}, ${o}, 0px)`);else{const e=c-(c-1)*(1-Math.abs(s));i.transform(`translate3d(${l}, ${o}, 0px) scale(${e})`)}},i=()=>{const{$el:t,slides:s,progress:i,snapGrid:r}=e;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((e=>{a(e,i)})),s.each(((t,s)=>{let n=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(n+=Math.ceil(s/2)-i*(r.length-1)),n=Math.min(Math.max(n,-1),1),d(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((e=>{a(e,n)}))}))};s("beforeInit",(()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)})),s("init",(()=>{e.params.parallax.enabled&&i()})),s("setTranslate",(()=>{e.params.parallax.enabled&&i()})),s("setTransition",((t,s)=>{e.params.parallax.enabled&&((t=e.params.speed)=>{const{$el:s}=e;s.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((e=>{const s=d(e);let a=parseInt(s.attr("data-swiper-parallax-duration"),10)||t;0===t&&(a=0),s.transition(a)}))})(s)}))},function({swiper:e,extendParams:t,on:s,emit:a}){const i=r();t({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let n,l,o,c=1,p=!1;const u={$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},m={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},f={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let g=1;function v(e){if(e.targetTouches.length<2)return 1;const t=e.targetTouches[0].pageX,s=e.targetTouches[0].pageY,a=e.targetTouches[1].pageX,i=e.targetTouches[1].pageY;return Math.sqrt((a-t)**2+(i-s)**2)}function w(t){const s=e.support,a=e.params.zoom;if(l=!1,o=!1,!s.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;l=!0,u.scaleStart=v(t)}u.$slideEl&&u.$slideEl.length||(u.$slideEl=d(t.target).closest(`.${e.params.slideClass}`),0===u.$slideEl.length&&(u.$slideEl=e.slides.eq(e.activeIndex)),u.$imageEl=u.$slideEl.find(`.${a.containerClass}`).eq(0).find("img, svg, canvas, picture, .swiper-zoom-target"),u.$imageWrapEl=u.$imageEl.parent(`.${a.containerClass}`),u.maxRatio=u.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,0!==u.$imageWrapEl.length)?(u.$imageEl&&u.$imageEl.transition(0),p=!0):u.$imageEl=void 0}function b(t){const s=e.support,a=e.params.zoom,i=e.zoom;if(!s.gestures){if("touchmove"!==t.type||"touchmove"===t.type&&t.targetTouches.length<2)return;o=!0,u.scaleMove=v(t)}u.$imageEl&&0!==u.$imageEl.length?(s.gestures?i.scale=t.scale*c:i.scale=u.scaleMove/u.scaleStart*c,i.scale>u.maxRatio&&(i.scale=u.maxRatio-1+(i.scale-u.maxRatio+1)**.5),i.scale<a.minRatio&&(i.scale=a.minRatio+1-(a.minRatio-i.scale+1)**.5),u.$imageEl.transform(`translate3d(0,0,0) scale(${i.scale})`)):"gesturechange"===t.type&&w(t)}function x(t){const s=e.device,a=e.support,i=e.params.zoom,r=e.zoom;if(!a.gestures){if(!l||!o)return;if("touchend"!==t.type||"touchend"===t.type&&t.changedTouches.length<2&&!s.android)return;l=!1,o=!1}u.$imageEl&&0!==u.$imageEl.length&&(r.scale=Math.max(Math.min(r.scale,u.maxRatio),i.minRatio),u.$imageEl.transition(e.params.speed).transform(`translate3d(0,0,0) scale(${r.scale})`),c=r.scale,p=!1,1===r.scale&&(u.$slideEl=void 0))}function y(t){const s=e.zoom;if(!u.$imageEl||0===u.$imageEl.length)return;if(e.allowClick=!1,!m.isTouched||!u.$slideEl)return;m.isMoved||(m.width=u.$imageEl[0].offsetWidth,m.height=u.$imageEl[0].offsetHeight,m.startX=h(u.$imageWrapEl[0],"x")||0,m.startY=h(u.$imageWrapEl[0],"y")||0,u.slideWidth=u.$slideEl[0].offsetWidth,u.slideHeight=u.$slideEl[0].offsetHeight,u.$imageWrapEl.transition(0));const a=m.width*s.scale,i=m.height*s.scale;if(!(a<u.slideWidth&&i<u.slideHeight)){if(m.minX=Math.min(u.slideWidth/2-a/2,0),m.maxX=-m.minX,m.minY=Math.min(u.slideHeight/2-i/2,0),m.maxY=-m.minY,m.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,m.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!m.isMoved&&!p){if(e.isHorizontal()&&(Math.floor(m.minX)===Math.floor(m.startX)&&m.touchesCurrent.x<m.touchesStart.x||Math.floor(m.maxX)===Math.floor(m.startX)&&m.touchesCurrent.x>m.touchesStart.x))return void(m.isTouched=!1);if(!e.isHorizontal()&&(Math.floor(m.minY)===Math.floor(m.startY)&&m.touchesCurrent.y<m.touchesStart.y||Math.floor(m.maxY)===Math.floor(m.startY)&&m.touchesCurrent.y>m.touchesStart.y))return void(m.isTouched=!1)}t.cancelable&&t.preventDefault(),t.stopPropagation(),m.isMoved=!0,m.currentX=m.touchesCurrent.x-m.touchesStart.x+m.startX,m.currentY=m.touchesCurrent.y-m.touchesStart.y+m.startY,m.currentX<m.minX&&(m.currentX=m.minX+1-(m.minX-m.currentX+1)**.8),m.currentX>m.maxX&&(m.currentX=m.maxX-1+(m.currentX-m.maxX+1)**.8),m.currentY<m.minY&&(m.currentY=m.minY+1-(m.minY-m.currentY+1)**.8),m.currentY>m.maxY&&(m.currentY=m.maxY-1+(m.currentY-m.maxY+1)**.8),f.prevPositionX||(f.prevPositionX=m.touchesCurrent.x),f.prevPositionY||(f.prevPositionY=m.touchesCurrent.y),f.prevTime||(f.prevTime=Date.now()),f.x=(m.touchesCurrent.x-f.prevPositionX)/(Date.now()-f.prevTime)/2,f.y=(m.touchesCurrent.y-f.prevPositionY)/(Date.now()-f.prevTime)/2,Math.abs(m.touchesCurrent.x-f.prevPositionX)<2&&(f.x=0),Math.abs(m.touchesCurrent.y-f.prevPositionY)<2&&(f.y=0),f.prevPositionX=m.touchesCurrent.x,f.prevPositionY=m.touchesCurrent.y,f.prevTime=Date.now(),u.$imageWrapEl.transform(`translate3d(${m.currentX}px, ${m.currentY}px,0)`)}}function E(){const t=e.zoom;u.$slideEl&&e.previousIndex!==e.activeIndex&&(u.$imageEl&&u.$imageEl.transform("translate3d(0,0,0) scale(1)"),u.$imageWrapEl&&u.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,c=1,u.$slideEl=void 0,u.$imageEl=void 0,u.$imageWrapEl=void 0)}function T(t){const s=e.zoom,a=e.params.zoom;if(u.$slideEl||(t&&t.target&&(u.$slideEl=d(t.target).closest(`.${e.params.slideClass}`)),u.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?u.$slideEl=e.$wrapperEl.children(`.${e.params.slideActiveClass}`):u.$slideEl=e.slides.eq(e.activeIndex)),u.$imageEl=u.$slideEl.find(`.${a.containerClass}`).eq(0).find("img, svg, canvas, picture, .swiper-zoom-target"),u.$imageWrapEl=u.$imageEl.parent(`.${a.containerClass}`)),!u.$imageEl||0===u.$imageEl.length||!u.$imageWrapEl||0===u.$imageWrapEl.length)return;let r,n,l,o,p,h,f,g,v,w,b,x,y,E,T,C,$,S;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),u.$slideEl.addClass(`${a.zoomedSlideClass}`),void 0===m.touchesStart.x&&t?(r="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,n="touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(r=m.touchesStart.x,n=m.touchesStart.y),s.scale=u.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,c=u.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,t?($=u.$slideEl[0].offsetWidth,S=u.$slideEl[0].offsetHeight,l=u.$slideEl.offset().left+i.scrollX,o=u.$slideEl.offset().top+i.scrollY,p=l+$/2-r,h=o+S/2-n,v=u.$imageEl[0].offsetWidth,w=u.$imageEl[0].offsetHeight,b=v*s.scale,x=w*s.scale,y=Math.min($/2-b/2,0),E=Math.min(S/2-x/2,0),T=-y,C=-E,f=p*s.scale,g=h*s.scale,f<y&&(f=y),f>T&&(f=T),g<E&&(g=E),g>C&&(g=C)):(f=0,g=0),u.$imageWrapEl.transition(300).transform(`translate3d(${f}px, ${g}px,0)`),u.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${s.scale})`)}function C(){const t=e.zoom,s=e.params.zoom;u.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?u.$slideEl=e.$wrapperEl.children(`.${e.params.slideActiveClass}`):u.$slideEl=e.slides.eq(e.activeIndex),u.$imageEl=u.$slideEl.find(`.${s.containerClass}`).eq(0).find("img, svg, canvas, picture, .swiper-zoom-target"),u.$imageWrapEl=u.$imageEl.parent(`.${s.containerClass}`)),u.$imageEl&&0!==u.$imageEl.length&&u.$imageWrapEl&&0!==u.$imageWrapEl.length&&(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),t.scale=1,c=1,u.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),u.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),u.$slideEl.removeClass(`${s.zoomedSlideClass}`),u.$slideEl=void 0)}function $(t){const s=e.zoom;s.scale&&1!==s.scale?C():T(t)}function S(){const t=e.support;return{passiveListener:!("touchstart"!==e.touchEvents.start||!t.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},activeListenerWithCapture:!t.passiveListener||{passive:!1,capture:!0}}}function M(){return`.${e.params.slideClass}`}function P(t){const{passiveListener:s}=S(),a=M();e.$wrapperEl[t]("gesturestart",a,w,s),e.$wrapperEl[t]("gesturechange",a,b,s),e.$wrapperEl[t]("gestureend",a,x,s)}function k(){n||(n=!0,P("on"))}function z(){n&&(n=!1,P("off"))}function O(){const t=e.zoom;if(t.enabled)return;t.enabled=!0;const s=e.support,{passiveListener:a,activeListenerWithCapture:i}=S(),r=M();s.gestures?(e.$wrapperEl.on(e.touchEvents.start,k,a),e.$wrapperEl.on(e.touchEvents.end,z,a)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,r,w,a),e.$wrapperEl.on(e.touchEvents.move,r,b,i),e.$wrapperEl.on(e.touchEvents.end,r,x,a),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,r,x,a)),e.$wrapperEl.on(e.touchEvents.move,`.${e.params.zoom.containerClass}`,y,i)}function I(){const t=e.zoom;if(!t.enabled)return;const s=e.support;t.enabled=!1;const{passiveListener:a,activeListenerWithCapture:i}=S(),r=M();s.gestures?(e.$wrapperEl.off(e.touchEvents.start,k,a),e.$wrapperEl.off(e.touchEvents.end,z,a)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,r,w,a),e.$wrapperEl.off(e.touchEvents.move,r,b,i),e.$wrapperEl.off(e.touchEvents.end,r,x,a),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,r,x,a)),e.$wrapperEl.off(e.touchEvents.move,`.${e.params.zoom.containerClass}`,y,i)}Object.defineProperty(e.zoom,"scale",{get:()=>g,set(e){if(g!==e){const t=u.$imageEl?u.$imageEl[0]:void 0,s=u.$slideEl?u.$slideEl[0]:void 0;a("zoomChange",e,t,s)}g=e}}),s("init",(()=>{e.params.zoom.enabled&&O()})),s("destroy",(()=>{I()})),s("touchStart",((t,s)=>{e.zoom.enabled&&function(t){const s=e.device;u.$imageEl&&0!==u.$imageEl.length&&(m.isTouched||(s.android&&t.cancelable&&t.preventDefault(),m.isTouched=!0,m.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,m.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))}(s)})),s("touchEnd",((t,s)=>{e.zoom.enabled&&function(){const t=e.zoom;if(!u.$imageEl||0===u.$imageEl.length)return;if(!m.isTouched||!m.isMoved)return m.isTouched=!1,void(m.isMoved=!1);m.isTouched=!1,m.isMoved=!1;let s=300,a=300;const i=f.x*s,r=m.currentX+i,n=f.y*a,l=m.currentY+n;0!==f.x&&(s=Math.abs((r-m.currentX)/f.x)),0!==f.y&&(a=Math.abs((l-m.currentY)/f.y));const o=Math.max(s,a);m.currentX=r,m.currentY=l;const d=m.width*t.scale,c=m.height*t.scale;m.minX=Math.min(u.slideWidth/2-d/2,0),m.maxX=-m.minX,m.minY=Math.min(u.slideHeight/2-c/2,0),m.maxY=-m.minY,m.currentX=Math.max(Math.min(m.currentX,m.maxX),m.minX),m.currentY=Math.max(Math.min(m.currentY,m.maxY),m.minY),u.$imageWrapEl.transition(o).transform(`translate3d(${m.currentX}px, ${m.currentY}px,0)`)}()})),s("doubleTap",((t,s)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&$(s)})),s("transitionEnd",(()=>{e.zoom.enabled&&e.params.zoom.enabled&&E()})),s("slideChange",(()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&E()})),Object.assign(e.zoom,{enable:O,disable:I,in:T,out:C,toggle:$})},function({swiper:e,extendParams:t,on:s,emit:a}){t({lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}}),e.lazy={};let i=!1,n=!1;function l(t,s=!0){const i=e.params.lazy;if(void 0===t)return;if(0===e.slides.length)return;const r=e.virtual&&e.params.virtual.enabled?e.$wrapperEl.children(`.${e.params.slideClass}[data-swiper-slide-index="${t}"]`):e.slides.eq(t),n=r.find(`.${i.elementClass}:not(.${i.loadedClass}):not(.${i.loadingClass})`);!r.hasClass(i.elementClass)||r.hasClass(i.loadedClass)||r.hasClass(i.loadingClass)||n.push(r[0]),0!==n.length&&n.each((t=>{const n=d(t);n.addClass(i.loadingClass);const o=n.attr("data-background"),c=n.attr("data-src"),p=n.attr("data-srcset"),u=n.attr("data-sizes"),h=n.parent("picture");e.loadImage(n[0],c||o,p,u,!1,(()=>{if(null!=e&&e&&(!e||e.params)&&!e.destroyed){if(o?(n.css("background-image",`url("${o}")`),n.removeAttr("data-background")):(p&&(n.attr("srcset",p),n.removeAttr("data-srcset")),u&&(n.attr("sizes",u),n.removeAttr("data-sizes")),h.length&&h.children("source").each((e=>{const t=d(e);t.attr("data-srcset")&&(t.attr("srcset",t.attr("data-srcset")),t.removeAttr("data-srcset"))})),c&&(n.attr("src",c),n.removeAttr("data-src"))),n.addClass(i.loadedClass).removeClass(i.loadingClass),r.find(`.${i.preloaderClass}`).remove(),e.params.loop&&s){const t=r.attr("data-swiper-slide-index");if(r.hasClass(e.params.slideDuplicateClass)){l(e.$wrapperEl.children(`[data-swiper-slide-index="${t}"]:not(.${e.params.slideDuplicateClass})`).index(),!1)}else{l(e.$wrapperEl.children(`.${e.params.slideDuplicateClass}[data-swiper-slide-index="${t}"]`).index(),!1)}}a("lazyImageReady",r[0],n[0]),e.params.autoHeight&&e.updateAutoHeight()}})),a("lazyImageLoad",r[0],n[0])}))}function o(){const{$wrapperEl:t,params:s,slides:a,activeIndex:i}=e,r=e.virtual&&s.virtual.enabled,o=s.lazy;let c=s.slidesPerView;function p(e){if(r){if(t.children(`.${s.slideClass}[data-swiper-slide-index="${e}"]`).length)return!0}else if(a[e])return!0;return!1}function u(e){return r?d(e).attr("data-swiper-slide-index"):d(e).index()}if("auto"===c&&(c=0),n||(n=!0),e.params.watchSlidesProgress)t.children(`.${s.slideVisibleClass}`).each((e=>{l(r?d(e).attr("data-swiper-slide-index"):d(e).index())}));else if(c>1)for(let e=i;e<i+c;e+=1)p(e)&&l(e);else l(i);if(o.loadPrevNext)if(c>1||o.loadPrevNextAmount&&o.loadPrevNextAmount>1){const e=o.loadPrevNextAmount,t=c,s=Math.min(i+t+Math.max(e,t),a.length),r=Math.max(i-Math.max(t,e),0);for(let e=i+c;e<s;e+=1)p(e)&&l(e);for(let e=r;e<i;e+=1)p(e)&&l(e)}else{const e=t.children(`.${s.slideNextClass}`);e.length>0&&l(u(e));const a=t.children(`.${s.slidePrevClass}`);a.length>0&&l(u(a))}}function c(){const t=r();if(!e||e.destroyed)return;const s=e.params.lazy.scrollingElement?d(e.params.lazy.scrollingElement):d(t),a=s[0]===t,n=a?t.innerWidth:s[0].offsetWidth,l=a?t.innerHeight:s[0].offsetHeight,p=e.$el.offset(),{rtlTranslate:u}=e;let h=!1;u&&(p.left-=e.$el[0].scrollLeft);const m=[[p.left,p.top],[p.left+e.width,p.top],[p.left,p.top+e.height],[p.left+e.width,p.top+e.height]];for(let e=0;e<m.length;e+=1){const t=m[e];if(t[0]>=0&&t[0]<=n&&t[1]>=0&&t[1]<=l){if(0===t[0]&&0===t[1])continue;h=!0}}const f=!("touchstart"!==e.touchEvents.start||!e.support.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1};h?(o(),s.off("scroll",c,f)):i||(i=!0,s.on("scroll",c,f))}s("beforeInit",(()=>{e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)})),s("init",(()=>{e.params.lazy.enabled&&(e.params.lazy.checkInView?c():o())})),s("scroll",(()=>{e.params.freeMode&&e.params.freeMode.enabled&&!e.params.freeMode.sticky&&o()})),s("scrollbarDragMove resize _freeModeNoMomentumRelease",(()=>{e.params.lazy.enabled&&(e.params.lazy.checkInView?c():o())})),s("transitionStart",(()=>{e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!n)&&(e.params.lazy.checkInView?c():o())})),s("transitionEnd",(()=>{e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&(e.params.lazy.checkInView?c():o())})),s("slideChange",(()=>{const{lazy:t,cssMode:s,watchSlidesProgress:a,touchReleaseOnEdges:i,resistanceRatio:r}=e.params;t.enabled&&(s||a&&(i||0===r))&&o()})),Object.assign(e.lazy,{load:o,loadInSlide:l})},function({swiper:e,extendParams:t,on:s}){function a(e,t){const s=function(){let e,t,s;return(a,i)=>{for(t=-1,e=a.length;e-t>1;)s=e+t>>1,a[s]<=i?t=s:e=s;return e}}();let a,i;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(i=s(this.x,e),a=i-1,(e-this.x[a])*(this.y[i]-this.y[a])/(this.x[i]-this.x[a])+this.y[a]):0},this}function i(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0},s("beforeInit",(()=>{e.controller.control=e.params.controller.control})),s("update",(()=>{i()})),s("resize",(()=>{i()})),s("observerUpdate",(()=>{i()})),s("setTranslate",((t,s,a)=>{e.controller.control&&e.controller.setTranslate(s,a)})),s("setTransition",((t,s,a)=>{e.controller.control&&e.controller.setTransition(s,a)})),Object.assign(e.controller,{setTranslate:function(t,s){const i=e.controller.control;let r,n;const l=e.constructor;function o(t){const s=e.rtlTranslate?-e.translate:e.translate;"slide"===e.params.controller.by&&(!function(t){e.controller.spline||(e.controller.spline=e.params.loop?new a(e.slidesGrid,t.slidesGrid):new a(e.snapGrid,t.snapGrid))}(t),n=-e.controller.spline.interpolate(-s)),n&&"container"!==e.params.controller.by||(r=(t.maxTranslate()-t.minTranslate())/(e.maxTranslate()-e.minTranslate()),n=(s-e.minTranslate())*r+t.minTranslate()),e.params.controller.inverse&&(n=t.maxTranslate()-n),t.updateProgress(n),t.setTranslate(n,e),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(i))for(let e=0;e<i.length;e+=1)i[e]!==s&&i[e]instanceof l&&o(i[e]);else i instanceof l&&s!==i&&o(i)},setTransition:function(t,s){const a=e.constructor,i=e.controller.control;let r;function n(s){s.setTransition(t,e),0!==t&&(s.transitionStart(),s.params.autoHeight&&p((()=>{s.updateAutoHeight()})),s.$wrapperEl.transitionEnd((()=>{i&&(s.params.loop&&"slide"===e.params.controller.by&&s.loopFix(),s.transitionEnd())})))}if(Array.isArray(i))for(r=0;r<i.length;r+=1)i[r]!==s&&i[r]instanceof a&&n(i[r]);else i instanceof a&&s!==i&&n(i)}})},function({swiper:e,extendParams:t,on:s}){t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}});let a=null;function i(e){const t=a;0!==t.length&&(t.html(""),t.html(e))}function r(e){e.attr("tabIndex","0")}function n(e){e.attr("tabIndex","-1")}function l(e,t){e.attr("role",t)}function o(e,t){e.attr("aria-roledescription",t)}function c(e,t){e.attr("aria-label",t)}function p(e){e.attr("aria-disabled",!0)}function u(e){e.attr("aria-disabled",!1)}function h(t){if(13!==t.keyCode&&32!==t.keyCode)return;const s=e.params.a11y,a=d(t.target);e.navigation&&e.navigation.$nextEl&&a.is(e.navigation.$nextEl)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?i(s.lastSlideMessage):i(s.nextSlideMessage)),e.navigation&&e.navigation.$prevEl&&a.is(e.navigation.$prevEl)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?i(s.firstSlideMessage):i(s.prevSlideMessage)),e.pagination&&a.is(W(e.params.pagination.bulletClass))&&a[0].click()}function m(){if(e.params.loop||!e.navigation)return;const{$nextEl:t,$prevEl:s}=e.navigation;s&&s.length>0&&(e.isBeginning?(p(s),n(s)):(u(s),r(s))),t&&t.length>0&&(e.isEnd?(p(t),n(t)):(u(t),r(t)))}function f(){return e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length}const g=(e,t,s)=>{r(e),"BUTTON"!==e[0].tagName&&(l(e,"button"),e.on("keydown",h)),c(e,s),function(e,t){e.attr("aria-controls",t)}(e,t)};function v(){const t=e.params.a11y;e.$el.append(a);const s=e.$el;t.containerRoleDescriptionMessage&&o(s,t.containerRoleDescriptionMessage),t.containerMessage&&c(s,t.containerMessage);const i=e.$wrapperEl,r=i.attr("id")||`swiper-wrapper-${function(e=16){return"x".repeat(e).replace(/x/g,(()=>Math.round(16*Math.random()).toString(16)))}(16)}`,n=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";var p;p=r,i.attr("id",p),function(e,t){e.attr("aria-live",t)}(i,n),t.itemRoleDescriptionMessage&&o(d(e.slides),t.itemRoleDescriptionMessage),l(d(e.slides),t.slideRole);const u=e.params.loop?e.slides.filter((t=>!t.classList.contains(e.params.slideDuplicateClass))).length:e.slides.length;let m,v;e.slides.each(((s,a)=>{const i=d(s),r=e.params.loop?parseInt(i.attr("data-swiper-slide-index"),10):a;c(i,t.slideLabelMessage.replace(/\{\{index\}\}/,r+1).replace(/\{\{slidesLength\}\}/,u))})),e.navigation&&e.navigation.$nextEl&&(m=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(v=e.navigation.$prevEl),m&&m.length&&g(m,r,t.nextSlideMessage),v&&v.length&&g(v,r,t.prevSlideMessage),f()&&e.pagination.$el.on("keydown",W(e.params.pagination.bulletClass),h)}s("beforeInit",(()=>{a=d(`<span class="${e.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)})),s("afterInit",(()=>{e.params.a11y.enabled&&(v(),m())})),s("toEdge",(()=>{e.params.a11y.enabled&&m()})),s("fromEdge",(()=>{e.params.a11y.enabled&&m()})),s("paginationUpdate",(()=>{e.params.a11y.enabled&&function(){const t=e.params.a11y;f()&&e.pagination.bullets.each((s=>{const a=d(s);r(a),e.params.pagination.renderBullet||(l(a,"button"),c(a,t.paginationBulletMessage.replace(/\{\{index\}\}/,a.index()+1)))}))}()})),s("destroy",(()=>{e.params.a11y.enabled&&function(){let t,s;a&&a.length>0&&a.remove(),e.navigation&&e.navigation.$nextEl&&(t=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(s=e.navigation.$prevEl),t&&t.off("keydown",h),s&&s.off("keydown",h),f()&&e.pagination.$el.off("keydown",W(e.params.pagination.bulletClass),h)}()}))},function({swiper:e,extendParams:t,on:s}){t({history:{enabled:!1,root:"",replaceState:!1,key:"slides"}});let a=!1,i={};const n=e=>e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),l=e=>{const t=r();let s;s=e?new URL(e):t.location;const a=s.pathname.slice(1).split("/").filter((e=>""!==e)),i=a.length;return{key:a[i-2],value:a[i-1]}},o=(t,s)=>{const i=r();if(!a||!e.params.history.enabled)return;let l;l=e.params.url?new URL(e.params.url):i.location;const o=e.slides.eq(s);let d=n(o.attr("data-history"));if(e.params.history.root.length>0){let s=e.params.history.root;"/"===s[s.length-1]&&(s=s.slice(0,s.length-1)),d=`${s}/${t}/${d}`}else l.pathname.includes(t)||(d=`${t}/${d}`);const c=i.history.state;c&&c.value===d||(e.params.history.replaceState?i.history.replaceState({value:d},null,d):i.history.pushState({value:d},null,d))},d=(t,s,a)=>{if(s)for(let i=0,r=e.slides.length;i<r;i+=1){const r=e.slides.eq(i);if(n(r.attr("data-history"))===s&&!r.hasClass(e.params.slideDuplicateClass)){const s=r.index();e.slideTo(s,t,a)}}else e.slideTo(0,t,a)},c=()=>{i=l(e.params.url),d(e.params.speed,e.paths.value,!1)};s("init",(()=>{e.params.history.enabled&&(()=>{const t=r();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);a=!0,i=l(e.params.url),(i.key||i.value)&&(d(0,i.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",c))}})()})),s("destroy",(()=>{e.params.history.enabled&&(()=>{const t=r();e.params.history.replaceState||t.removeEventListener("popstate",c)})()})),s("transitionEnd _freeModeNoMomentumRelease",(()=>{a&&o(e.params.history.key,e.activeIndex)})),s("slideChange",(()=>{a&&e.params.cssMode&&o(e.params.history.key,e.activeIndex)}))},function({swiper:e,extendParams:t,emit:s,on:i}){let n=!1;const l=a(),o=r();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}});const c=()=>{s("hashChange");const t=l.location.hash.replace("#","");if(t!==e.slides.eq(e.activeIndex).attr("data-hash")){const s=e.$wrapperEl.children(`.${e.params.slideClass}[data-hash="${t}"]`).index();if(void 0===s)return;e.slideTo(s)}},p=()=>{if(n&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&o.history&&o.history.replaceState)o.history.replaceState(null,null,`#${e.slides.eq(e.activeIndex).attr("data-hash")}`||""),s("hashSet");else{const t=e.slides.eq(e.activeIndex),a=t.attr("data-hash")||t.attr("data-history");l.location.hash=a||"",s("hashSet")}};i("init",(()=>{e.params.hashNavigation.enabled&&(()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;n=!0;const t=l.location.hash.replace("#","");if(t){const s=0;for(let a=0,i=e.slides.length;a<i;a+=1){const i=e.slides.eq(a);if((i.attr("data-hash")||i.attr("data-history"))===t&&!i.hasClass(e.params.slideDuplicateClass)){const t=i.index();e.slideTo(t,s,e.params.runCallbacksOnInit,!0)}}}e.params.hashNavigation.watchState&&d(o).on("hashchange",c)})()})),i("destroy",(()=>{e.params.hashNavigation.enabled&&e.params.hashNavigation.watchState&&d(o).off("hashchange",c)})),i("transitionEnd _freeModeNoMomentumRelease",(()=>{n&&p()})),i("slideChange",(()=>{n&&e.params.cssMode&&p()}))},function({swiper:e,extendParams:t,on:s,emit:i}){let r;function n(){const t=e.slides.eq(e.activeIndex);let s=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(s=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(r),r=p((()=>{let t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),i("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?o():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),i("autoplay")):(t=e.slidePrev(e.params.speed,!0,!0),i("autoplay")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),i("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?o():(t=e.slideTo(0,e.params.speed,!0,!0),i("autoplay")):(t=e.slideNext(e.params.speed,!0,!0),i("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===t)&&n()}),s)}function l(){return void 0===r&&(!e.autoplay.running&&(e.autoplay.running=!0,i("autoplayStart"),n(),!0))}function o(){return!!e.autoplay.running&&(void 0!==r&&(r&&(clearTimeout(r),r=void 0),e.autoplay.running=!1,i("autoplayStop"),!0))}function d(t){e.autoplay.running&&(e.autoplay.paused||(r&&clearTimeout(r),e.autoplay.paused=!0,0!==t&&e.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach((t=>{e.$wrapperEl[0].addEventListener(t,u)})):(e.autoplay.paused=!1,n())))}function c(){const t=a();"hidden"===t.visibilityState&&e.autoplay.running&&d(),"visible"===t.visibilityState&&e.autoplay.paused&&(n(),e.autoplay.paused=!1)}function u(t){e&&!e.destroyed&&e.$wrapperEl&&t.target===e.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach((t=>{e.$wrapperEl[0].removeEventListener(t,u)})),e.autoplay.paused=!1,e.autoplay.running?n():o())}function h(){e.params.autoplay.disableOnInteraction?o():d(),["transitionend","webkitTransitionEnd"].forEach((t=>{e.$wrapperEl[0].removeEventListener(t,u)}))}function m(){e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,n())}e.autoplay={running:!1,paused:!1},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),s("init",(()=>{if(e.params.autoplay.enabled){l();a().addEventListener("visibilitychange",c),e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",h),e.$el.on("mouseleave",m))}})),s("beforeTransitionStart",((t,s,a)=>{e.autoplay.running&&(a||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(s):o())})),s("sliderFirstMove",(()=>{e.autoplay.running&&(e.params.autoplay.disableOnInteraction?o():d())})),s("touchEnd",(()=>{e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&n()})),s("destroy",(()=>{e.$el.off("mouseenter",h),e.$el.off("mouseleave",m),e.autoplay.running&&o();a().removeEventListener("visibilitychange",c)})),Object.assign(e.autoplay,{pause:d,run:n,start:l,stop:o})},function({swiper:e,extendParams:t,on:s}){t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,i=!1;function r(){const t=e.thumbs.swiper;if(!t)return;const s=t.clickedIndex,a=t.clickedSlide;if(a&&d(a).hasClass(e.params.thumbs.slideThumbActiveClass))return;if(null==s)return;let i;if(i=t.params.loop?parseInt(d(t.clickedSlide).attr("data-swiper-slide-index"),10):s,e.params.loop){let t=e.activeIndex;e.slides.eq(t).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,t=e.activeIndex);const s=e.slides.eq(t).prevAll(`[data-swiper-slide-index="${i}"]`).eq(0).index(),a=e.slides.eq(t).nextAll(`[data-swiper-slide-index="${i}"]`).eq(0).index();i=void 0===s?a:void 0===a?s:a-t<t-s?a:s}e.slideTo(i)}function n(){const{thumbs:t}=e.params;if(a)return!1;a=!0;const s=e.constructor;if(t.swiper instanceof s)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(m(t.swiper)){const a=Object.assign({},t.swiper);Object.assign(a,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new s(a),i=!0}return e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",r),!0}function l(t){const s=e.thumbs.swiper;if(!s)return;const a="auto"===s.params.slidesPerView?s.slidesPerViewDynamic():s.params.slidesPerView,i=e.params.thumbs.autoScrollOffset,r=i&&!s.params.loop;if(e.realIndex!==s.realIndex||r){let n,l,o=s.activeIndex;if(s.params.loop){s.slides.eq(o).hasClass(s.params.slideDuplicateClass)&&(s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft,o=s.activeIndex);const t=s.slides.eq(o).prevAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index(),a=s.slides.eq(o).nextAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index();n=void 0===t?a:void 0===a?t:a-o==o-t?s.params.slidesPerGroup>1?a:o:a-o<o-t?a:t,l=e.activeIndex>e.previousIndex?"next":"prev"}else n=e.realIndex,l=n>e.previousIndex?"next":"prev";r&&(n+="next"===l?i:-1*i),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(n)<0&&(s.params.centeredSlides?n=n>o?n-Math.floor(a/2)+1:n+Math.floor(a/2)-1:n>o&&s.params.slidesPerGroup,s.slideTo(n,t?0:void 0))}let n=1;const l=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(n=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(n=1),n=Math.floor(n),s.slides.removeClass(l),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let t=0;t<n;t+=1)s.$wrapperEl.children(`[data-swiper-slide-index="${e.realIndex+t}"]`).addClass(l);else for(let t=0;t<n;t+=1)s.slides.eq(e.realIndex+t).addClass(l)}e.thumbs={swiper:null},s("beforeInit",(()=>{const{thumbs:t}=e.params;t&&t.swiper&&(n(),l(!0))})),s("slideChange update resize observerUpdate",(()=>{e.thumbs.swiper&&l()})),s("setTransition",((t,s)=>{const a=e.thumbs.swiper;a&&a.setTransition(s)})),s("beforeDestroy",(()=>{const t=e.thumbs.swiper;t&&i&&t&&t.destroy()})),Object.assign(e.thumbs,{init:n,update:l})},function({swiper:e,extendParams:t,emit:s,once:a}){t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(e,{freeMode:{onTouchMove:function(){const{touchEventsData:t,touches:s}=e;0===t.velocities.length&&t.velocities.push({position:s[e.isHorizontal()?"startX":"startY"],time:t.touchStartTime}),t.velocities.push({position:s[e.isHorizontal()?"currentX":"currentY"],time:u()})},onTouchEnd:function({currentPos:t}){const{params:i,$wrapperEl:r,rtlTranslate:n,snapGrid:l,touchEventsData:o}=e,d=u()-o.touchStartTime;if(t<-e.minTranslate())e.slideTo(e.activeIndex);else if(t>-e.maxTranslate())e.slides.length<l.length?e.slideTo(l.length-1):e.slideTo(e.slides.length-1);else{if(i.freeMode.momentum){if(o.velocities.length>1){const t=o.velocities.pop(),s=o.velocities.pop(),a=t.position-s.position,r=t.time-s.time;e.velocity=a/r,e.velocity/=2,Math.abs(e.velocity)<i.freeMode.minimumVelocity&&(e.velocity=0),(r>150||u()-t.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=i.freeMode.momentumVelocityRatio,o.velocities.length=0;let t=1e3*i.freeMode.momentumRatio;const d=e.velocity*t;let c=e.translate+d;n&&(c=-c);let p,h=!1;const m=20*Math.abs(e.velocity)*i.freeMode.momentumBounceRatio;let f;if(c<e.maxTranslate())i.freeMode.momentumBounce?(c+e.maxTranslate()<-m&&(c=e.maxTranslate()-m),p=e.maxTranslate(),h=!0,o.allowMomentumBounce=!0):c=e.maxTranslate(),i.loop&&i.centeredSlides&&(f=!0);else if(c>e.minTranslate())i.freeMode.momentumBounce?(c-e.minTranslate()>m&&(c=e.minTranslate()+m),p=e.minTranslate(),h=!0,o.allowMomentumBounce=!0):c=e.minTranslate(),i.loop&&i.centeredSlides&&(f=!0);else if(i.freeMode.sticky){let t;for(let e=0;e<l.length;e+=1)if(l[e]>-c){t=e;break}c=Math.abs(l[t]-c)<Math.abs(l[t-1]-c)||"next"===e.swipeDirection?l[t]:l[t-1],c=-c}if(f&&a("transitionEnd",(()=>{e.loopFix()})),0!==e.velocity){if(t=n?Math.abs((-c-e.translate)/e.velocity):Math.abs((c-e.translate)/e.velocity),i.freeMode.sticky){const s=Math.abs((n?-c:c)-e.translate),a=e.slidesSizesGrid[e.activeIndex];t=s<a?i.speed:s<2*a?1.5*i.speed:2.5*i.speed}}else if(i.freeMode.sticky)return void e.slideToClosest();i.freeMode.momentumBounce&&h?(e.updateProgress(p),e.setTransition(t),e.setTranslate(c),e.transitionStart(!0,e.swipeDirection),e.animating=!0,r.transitionEnd((()=>{e&&!e.destroyed&&o.allowMomentumBounce&&(s("momentumBounce"),e.setTransition(i.speed),setTimeout((()=>{e.setTranslate(p),r.transitionEnd((()=>{e&&!e.destroyed&&e.transitionEnd()}))}),0))}))):e.velocity?(s("_freeModeNoMomentumRelease"),e.updateProgress(c),e.setTransition(t),e.setTranslate(c),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,r.transitionEnd((()=>{e&&!e.destroyed&&e.transitionEnd()})))):e.updateProgress(c),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(i.freeMode.sticky)return void e.slideToClosest();i.freeMode&&s("_freeModeNoMomentumRelease")}(!i.freeMode.momentum||d>=i.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}}}})},function({swiper:e,extendParams:t}){let s,a,i;t({grid:{rows:1,fill:"column"}}),e.grid={initSlides:t=>{const{slidesPerView:r}=e.params,{rows:n,fill:l}=e.params.grid;a=s/n,i=Math.floor(t/n),s=Math.floor(t/n)===t/n?t:Math.ceil(t/n)*n,"auto"!==r&&"row"===l&&(s=Math.max(s,r*n))},updateSlide:(t,r,n,l)=>{const{slidesPerGroup:o,spaceBetween:d}=e.params,{rows:c,fill:p}=e.params.grid;let u,h,m;if("row"===p&&o>1){const e=Math.floor(t/(o*c)),a=t-c*o*e,i=0===e?o:Math.min(Math.ceil((n-e*c*o)/c),o);m=Math.floor(a/i),h=a-m*i+e*o,u=h+m*s/c,r.css({"-webkit-order":u,order:u})}else"column"===p?(h=Math.floor(t/c),m=t-h*c,(h>i||h===i&&m===c-1)&&(m+=1,m>=c&&(m=0,h+=1))):(m=Math.floor(t/a),h=t-m*a);r.css(l("margin-top"),0!==m?d&&`${d}px`:"")},updateWrapperSize:(t,a,i)=>{const{spaceBetween:r,centeredSlides:n,roundLengths:l}=e.params,{rows:o}=e.params.grid;if(e.virtualSize=(t+r)*s,e.virtualSize=Math.ceil(e.virtualSize/o)-r,e.$wrapperEl.css({[i("width")]:`${e.virtualSize+r}px`}),n){a.splice(0,a.length);const t=[];for(let s=0;s<a.length;s+=1){let i=a[s];l&&(i=Math.floor(i)),a[s]<e.virtualSize+a[0]&&t.push(i)}a.push(...t)}}}},function({swiper:e}){Object.assign(e,{appendSlide:R.bind(e),prependSlide:j.bind(e),addSlide:_.bind(e),removeSlide:V.bind(e),removeAllSlides:q.bind(e)})},function({swiper:e,extendParams:t,on:s}){t({fadeEffect:{crossFade:!1,transformEl:null}}),F({effect:"fade",swiper:e,on:s,setTranslate:()=>{const{slides:t}=e,s=e.params.fadeEffect;for(let a=0;a<t.length;a+=1){const t=e.slides.eq(a);let i=-t[0].swiperSlideOffset;e.params.virtualTranslate||(i-=e.translate);let r=0;e.isHorizontal()||(r=i,i=0);const n=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);U(s,t).css({opacity:n}).transform(`translate3d(${i}px, ${r}px, 0px)`)}},setTransition:t=>{const{transformEl:s}=e.params.fadeEffect;(s?e.slides.find(s):e.slides).transition(t),K({swiper:e,duration:t,transformEl:s,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function({swiper:e,extendParams:t,on:s}){t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}}),F({effect:"cube",swiper:e,on:s,setTranslate:()=>{const{$el:t,$wrapperEl:s,slides:a,width:i,height:r,rtlTranslate:n,size:l,browser:o}=e,c=e.params.cubeEffect,p=e.isHorizontal(),u=e.virtual&&e.params.virtual.enabled;let h,m=0;c.shadow&&(p?(h=s.find(".swiper-cube-shadow"),0===h.length&&(h=d('<div class="swiper-cube-shadow"></div>'),s.append(h)),h.css({height:`${i}px`})):(h=t.find(".swiper-cube-shadow"),0===h.length&&(h=d('<div class="swiper-cube-shadow"></div>'),t.append(h))));for(let e=0;e<a.length;e+=1){const t=a.eq(e);let s=e;u&&(s=parseInt(t.attr("data-swiper-slide-index"),10));let i=90*s,r=Math.floor(i/360);n&&(i=-i,r=Math.floor(-i/360));const o=Math.max(Math.min(t[0].progress,1),-1);let h=0,f=0,g=0;s%4==0?(h=4*-r*l,g=0):(s-1)%4==0?(h=0,g=4*-r*l):(s-2)%4==0?(h=l+4*r*l,g=l):(s-3)%4==0&&(h=-l,g=3*l+4*l*r),n&&(h=-h),p||(f=h,h=0);const v=`rotateX(${p?0:-i}deg) rotateY(${p?i:0}deg) translate3d(${h}px, ${f}px, ${g}px)`;if(o<=1&&o>-1&&(m=90*s+90*o,n&&(m=90*-s-90*o)),t.transform(v),c.slideShadows){let e=p?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top"),s=p?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom");0===e.length&&(e=d(`<div class="swiper-slide-shadow-${p?"left":"top"}"></div>`),t.append(e)),0===s.length&&(s=d(`<div class="swiper-slide-shadow-${p?"right":"bottom"}"></div>`),t.append(s)),e.length&&(e[0].style.opacity=Math.max(-o,0)),s.length&&(s[0].style.opacity=Math.max(o,0))}}if(s.css({"-webkit-transform-origin":`50% 50% -${l/2}px`,"transform-origin":`50% 50% -${l/2}px`}),c.shadow)if(p)h.transform(`translate3d(0px, ${i/2+c.shadowOffset}px, ${-i/2}px) rotateX(90deg) rotateZ(0deg) scale(${c.shadowScale})`);else{const e=Math.abs(m)-90*Math.floor(Math.abs(m)/90),t=1.5-(Math.sin(2*e*Math.PI/360)/2+Math.cos(2*e*Math.PI/360)/2),s=c.shadowScale,a=c.shadowScale/t,i=c.shadowOffset;h.transform(`scale3d(${s}, 1, ${a}) translate3d(0px, ${r/2+i}px, ${-r/2/a}px) rotateX(-90deg)`)}const f=o.isSafari||o.isWebView?-l/2:0;s.transform(`translate3d(0px,0,${f}px) rotateX(${e.isHorizontal()?0:m}deg) rotateY(${e.isHorizontal()?-m:0}deg)`)},setTransition:t=>{const{$el:s,slides:a}=e;a.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),e.params.cubeEffect.shadow&&!e.isHorizontal()&&s.find(".swiper-cube-shadow").transition(t)},perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function({swiper:e,extendParams:t,on:s}){t({flipEffect:{slideShadows:!0,limitRotation:!0,transformEl:null}}),F({effect:"flip",swiper:e,on:s,setTranslate:()=>{const{slides:t,rtlTranslate:s}=e,a=e.params.flipEffect;for(let i=0;i<t.length;i+=1){const r=t.eq(i);let n=r[0].progress;e.params.flipEffect.limitRotation&&(n=Math.max(Math.min(r[0].progress,1),-1));const l=r[0].swiperSlideOffset;let o=-180*n,d=0,c=e.params.cssMode?-l-e.translate:-l,p=0;if(e.isHorizontal()?s&&(o=-o):(p=c,c=0,d=-o,o=0),r[0].style.zIndex=-Math.abs(Math.round(n))+t.length,a.slideShadows){let t=e.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),s=e.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===t.length&&(t=Z(a,r,e.isHorizontal()?"left":"top")),0===s.length&&(s=Z(a,r,e.isHorizontal()?"right":"bottom")),t.length&&(t[0].style.opacity=Math.max(-n,0)),s.length&&(s[0].style.opacity=Math.max(n,0))}const u=`translate3d(${c}px, ${p}px, 0px) rotateX(${d}deg) rotateY(${o}deg)`;U(a,r).transform(u)}},setTransition:t=>{const{transformEl:s}=e.params.flipEffect;(s?e.slides.find(s):e.slides).transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),K({swiper:e,duration:t,transformEl:s})},perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function({swiper:e,extendParams:t,on:s}){t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}}),F({effect:"coverflow",swiper:e,on:s,setTranslate:()=>{const{width:t,height:s,slides:a,slidesSizesGrid:i}=e,r=e.params.coverflowEffect,n=e.isHorizontal(),l=e.translate,o=n?t/2-l:s/2-l,d=n?r.rotate:-r.rotate,c=r.depth;for(let e=0,t=a.length;e<t;e+=1){const t=a.eq(e),s=i[e],l=(o-t[0].swiperSlideOffset-s/2)/s*r.modifier;let p=n?d*l:0,u=n?0:d*l,h=-c*Math.abs(l),m=r.stretch;"string"==typeof m&&-1!==m.indexOf("%")&&(m=parseFloat(r.stretch)/100*s);let f=n?0:m*l,g=n?m*l:0,v=1-(1-r.scale)*Math.abs(l);Math.abs(g)<.001&&(g=0),Math.abs(f)<.001&&(f=0),Math.abs(h)<.001&&(h=0),Math.abs(p)<.001&&(p=0),Math.abs(u)<.001&&(u=0),Math.abs(v)<.001&&(v=0);const w=`translate3d(${g}px,${f}px,${h}px)  rotateX(${u}deg) rotateY(${p}deg) scale(${v})`;if(U(r,t).transform(w),t[0].style.zIndex=1-Math.abs(Math.round(l)),r.slideShadows){let e=n?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top"),s=n?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom");0===e.length&&(e=Z(r,t,n?"left":"top")),0===s.length&&(s=Z(r,t,n?"right":"bottom")),e.length&&(e[0].style.opacity=l>0?l:0),s.length&&(s[0].style.opacity=-l>0?-l:0)}}},setTransition:t=>{const{transformEl:s}=e.params.coverflowEffect;(s?e.slides.find(s):e.slides).transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function({swiper:e,extendParams:t,on:s}){t({creativeEffect:{transformEl:null,limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const a=e=>"string"==typeof e?e:`${e}px`;F({effect:"creative",swiper:e,on:s,setTranslate:()=>{const{slides:t}=e,s=e.params.creativeEffect,{progressMultiplier:i}=s;for(let r=0;r<t.length;r+=1){const n=t.eq(r),l=n[0].progress,o=Math.min(Math.max(n[0].progress,-s.limitProgress),s.limitProgress),d=n[0].swiperSlideOffset,c=[e.params.cssMode?-d-e.translate:-d,0,0],p=[0,0,0];let u=!1;e.isHorizontal()||(c[1]=c[0],c[0]=0);let h={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};o<0?(h=s.next,u=!0):o>0&&(h=s.prev,u=!0),c.forEach(((e,t)=>{c[t]=`calc(${e}px + (${a(h.translate[t])} * ${Math.abs(o*i)}))`})),p.forEach(((e,t)=>{p[t]=h.rotate[t]*Math.abs(o*i)})),n[0].style.zIndex=-Math.abs(Math.round(l))+t.length;const m=c.join(", "),f=`rotateX(${p[0]}deg) rotateY(${p[1]}deg) rotateZ(${p[2]}deg)`,g=o<0?`scale(${1+(1-h.scale)*o*i})`:`scale(${1-(1-h.scale)*o*i})`,v=o<0?1+(1-h.opacity)*o*i:1-(1-h.opacity)*o*i,w=`translate3d(${m}) ${f} ${g}`;if(u&&h.shadow||!u){let e=n.children(".swiper-slide-shadow");if(0===e.length&&h.shadow&&(e=Z(s,n)),e.length){const t=s.shadowPerProgress?o*(1/s.limitProgress):o;e[0].style.opacity=Math.min(Math.max(Math.abs(t),0),1)}}const b=U(s,n);b.transform(w).css({opacity:v}),h.origin&&b.css("transform-origin",h.origin)}},setTransition:t=>{const{transformEl:s}=e.params.creativeEffect;(s?e.slides.find(s):e.slides).transition(t).find(".swiper-slide-shadow").transition(t),K({swiper:e,duration:t,transformEl:s,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})},function({swiper:e,extendParams:t,on:s}){t({cardsEffect:{slideShadows:!0,transformEl:null}}),F({effect:"cards",swiper:e,on:s,setTranslate:()=>{const{slides:t,activeIndex:s}=e,a=e.params.cardsEffect,{startTranslate:i,isTouched:r}=e.touchEventsData,n=e.translate;for(let l=0;l<t.length;l+=1){const o=t.eq(l),d=o[0].progress,c=Math.min(Math.max(d,-4),4);let p=o[0].swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&e.$wrapperEl.transform(`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(p-=t[0].swiperSlideOffset);let u=e.params.cssMode?-p-e.translate:-p,h=0;const m=-100*Math.abs(c);let f=1,g=-2*c,v=8-.75*Math.abs(c);const w=(l===s||l===s-1)&&c>0&&c<1&&(r||e.params.cssMode)&&n<i,b=(l===s||l===s+1)&&c<0&&c>-1&&(r||e.params.cssMode)&&n>i;if(w||b){const e=(1-Math.abs((Math.abs(c)-.5)/.5))**.5;g+=-28*c*e,f+=-.5*e,v+=96*e,h=-25*e*Math.abs(c)+"%"}if(u=c<0?`calc(${u}px + (${v*Math.abs(c)}%))`:c>0?`calc(${u}px + (-${v*Math.abs(c)}%))`:`${u}px`,!e.isHorizontal()){const e=h;h=u,u=e}const x=`\n        translate3d(${u}, ${h}, ${m}px)\n        rotateZ(${g}deg)\n        scale(${c<0?""+(1+(1-f)*c):""+(1-(1-f)*c)})\n      `;if(a.slideShadows){let e=o.find(".swiper-slide-shadow");0===e.length&&(e=Z(a,o)),e.length&&(e[0].style.opacity=Math.min(Math.max((Math.abs(c)-.5)/.5,0),1))}o[0].style.zIndex=-Math.abs(Math.round(d))+t.length;U(a,o).transform(x)}},setTransition:t=>{const{transformEl:s}=e.params.cardsEffect;(s?e.slides.find(s):e.slides).transition(t).find(".swiper-slide-shadow").transition(t),K({swiper:e,duration:t,transformEl:s})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}];return H.use(J),H}));

// FORM OPEN/CLOSE

const form = document.querySelector(".form");
const openForm = document.querySelector(".tickets__btn");
const closeForm = document.querySelector(".form__close");

openForm.addEventListener("click", function (e) {
	form.classList.add("form--active");
});

form.addEventListener("click", (e) => {
	if (e.target === form) {
		form.classList.remove("form--active");
	}
});

closeForm.addEventListener("click", function (e) {
	form.classList.remove("form--active");
});

// FORM CLOSE/OPEN

function randomPic() {
	const pictureInnerContainer = document.querySelector(".gallery__grid");

	function shuffle(array) {
		array
			.sort(() => Math.random() - 0.5)
			.map(function (i) {
				let img = document.createElement("img");
				img.classList.add("gallery__item");
				img.src = `images/gallery/galery${i}.jpg`;
				img.alt = `GaleryPhoto${i}`;
				pictureInnerContainer.append(img);
			});
		let child = document.querySelectorAll(".gallery__item");
		child[10].classList.add("gallery__item--11");
	}

	let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15];
	shuffle(arr);
}

randomPic();

// WELCOME SLIDER

const swiper = new Swiper(".swiper", {
	// Optional parameters
	loop: true,

	// If we need pagination
	pagination: {
		el: ".slider__buttons-pagination",
		clickable: true,
	},
	// Navigation arrows
	navigation: {
		nextEl: ".slider__buttons-next",
		prevEl: ".slider__buttons-prev",
	},
});

const fraction = document.querySelector(".slider__buttons-number");
const slideCount = swiper.slides.length - 2;
fraction.innerHTML = "0" + `1<span>|</span>` + "0" + `${slideCount}`;
swiper.on("slideChange", () => {
	let index = swiper.realIndex;
	fraction.innerHTML =
		"0" + `${index + 1}<span>|</span>` + "0" + `${slideCount}`;
});

// END WELCOME SLIDER

// ANIMATION ON SCROLL

const animItems = document.querySelectorAll(".gallery__item");

if (animItems.length > 0) {
	window.addEventListener("scroll", animOnScroll);

	function animOnScroll() {
		for (let index = 0; index < animItems.length; index++) {
			const animItem = animItems[index],
				animItemHeight = animItem.offsetHeight,
				animItemOffset = offset(animItem).top,
				animStart = 100;

			let animItemPoint = window.innerHeight - animItemHeight / animStart;
			if (animItemHeight > window.innerHeight) {
				animItemPoint = window.innerHeight - window.innerHeight / animStart;
			}

			if (
				pageYOffset > animItemOffset - animItemPoint &&
				pageYOffset < animItemOffset + animItemHeight
			) {
				animItem.classList.add("_active");
			} else {
				if (!animItem.classList.contains("_anim-no-hide")) {
					animItem.classList.remove("_active");
				}
			}
		}
	}

	function offset(el) {
		const rect = el.getBoundingClientRect(),
			scrollLeft = window.pageXOffset || document.documentElement.scrollLeft,
			scrollTop = window.pageYOffset || document.documentElement.scrollTop;
		return {top: rect.top + scrollTop, left: rect.left + scrollLeft};
	}

	setTimeout(() => {
		animOnScroll();
	}, 300);
}

// END ANIMATION ON SCROLL

// MAPBOX
mapboxgl.accessToken = 'pk.eyJ1IjoidG9sbWFzaCIsImEiOiJja3VtbXI5aHcwbDloMm9wZm10cmkydDd0In0.n743r7IHY3MoYMPfRsXKQw';
const map = new mapboxgl.Map({
	container: 'map', // container ID
	style: "mapbox://styles/mapbox/light-v10",
	center: [2.3364, 48.86091],
	zoom: 16,
	attributionControl: !1
});
map.addControl(new (mapboxgl.NavigationControl)),
	map.addControl(new (mapboxgl.AttributionControl)({
		customAttribution:
			'Map design by <a href="https://tolmash.github.io/rsschool-cv/" target="_blank" role="listitem">TolmaSh</a>'
	})),
	new (mapboxgl.Marker)({
		color: "black"
	}).setLngLat([2.3364, 48.86091]).addTo(map),
	new (mapboxgl.Marker)({
		color: "gray"
	}).setLngLat([2.3333, 48.8602]).addTo(map),
	new (mapboxgl.Marker)({
		color: "gray"
	}).setLngLat([2.3397, 48.8607]).addTo(map),
	new (mapboxgl.Marker)({
		color: "gray"
	}).setLngLat([2.333, 48.8619]).addTo(map),
	new (mapboxgl.Marker)({
		color: "gray"
	}).setLngLat([2.3365, 48.8625]).addTo(map);

// END MAPBOX

// Counter
const inputBasic = document.querySelector('.input-price-basic'),
	inputSenior = document.querySelector('.input-price-senior'),
	basicAmountWrapper = document.querySelector('.basic__ammount-wrapper'),
	seniorAmountWrapper = document.querySelector('.senior__ammount-wrapper'),
	permanentType = document.querySelector('.tickets__permanent'),
	temporaryType = document.querySelector('.tickets__temporary'),
	combinedType = document.querySelector('.tickets__combined'),
	totalPrice = document.querySelector('.total-prices'),
	radioBtns = document.querySelectorAll('input[name = "ticketType"]');

// let total;
//
// basicAmountWrapper.addEventListener("click", (event) => {
// 	if (event.target && event.target.classList.contains('tickets__form-plus')) {
// 			if (permanentType.checked) {
// 				inputBasic.value++;
// 				console.log(typeof inputBasic.value);
// 				total = `${+inputBasic.value * 20}`;
// 				console.log(total);
// 				totalPrice.innerHTML = total;
//
// 			}
// 			if (temporaryType.checked) {
// 				inputBasic.value++;
// 				total = `${+inputBasic.value * 25}`;
// 				totalPrice.innerHTML = total;
// 			}
// 			if (combinedType.checked) {
// 				inputBasic.value++;
// 				total = `${+inputBasic.value * 40}`;
// 				totalPrice.innerHTML = total;
// 			}
// 	}
// 	if (event.target && event.target.classList.contains('tickets__form-minus')) {
// 		if (permanentType.checked && inputBasic.value !== "0") {
// 			inputBasic.value--;
// 			total = `${+totalPrice.innerHTML - 20}`;
// 			totalPrice.innerHTML = total;
// 		}
// 		if (temporaryType.checked && inputBasic.value !== "0") {
// 			inputBasic.value--;
// 			total = `${+totalPrice.innerHTML - 25}`;
// 			totalPrice.innerHTML = total;
// 		}
// 		if (combinedType.checked && inputBasic.value !== "0") {
// 			inputBasic.value--;
// 			total = `${+totalPrice.innerHTML - 40}`;
// 			totalPrice.innerHTML = total;
// 		}
// 	}
// });
//
// seniorAmountWrapper.addEventListener("click", (event) => {
// 	if (event.target && event.target.classList.contains('tickets__form-plus')) {
// 		if (permanentType.checked) {
// 			inputSenior.value++;
// 			console.log(typeof inputSenior.value);
// 			totalPrice.innerHTML = `${+inputSenior.value * 10}`;
// 		}
// 		if (temporaryType.checked) {
// 			inputSenior.value++;
// 			totalPrice.innerHTML = `${+inputSenior.value * 12.5}`;
// 		}
// 		if (combinedType.checked) {
// 			inputSenior.value++;
// 			totalPrice.innerHTML = `${+inputSenior.value * 20}`;
// 		}
// 	}
// 	if (event.target && event.target.classList.contains('tickets__form-minus')) {
// 		if (permanentType.checked && inputSenior.value !== "0") {
// 			inputSenior.value--;
// 			totalPrice.innerHTML = `${+totalPrice.innerHTML - 10}`;
// 		}
// 		if (temporaryType.checked && inputSenior.value !== "0") {
// 			inputSenior.value--;
// 			totalPrice.innerHTML = `${+totalPrice.innerHTML - 12.5}`;
// 		}
// 		if (combinedType.checked && inputSenior.value !== "0") {
// 			inputSenior.value--;
// 			totalPrice.innerHTML = `${+totalPrice.innerHTML - 20}`;
// 		}
// 	}
// });

basicAmountWrapper.addEventListener('click', changeBasicValue);
seniorAmountWrapper.addEventListener('click', changeSeniorValue);


function changeBasicValue(event) {

	let target = event.target,
			currentPrice,
			newPrice;
	const currentInputValue = Number(inputBasic.value);


	if (target.classList.contains('tickets__form-plus')) {
		// BASIC PLUS ON PERMANENT CHECKBOX
		if ( currentInputValue < 20 && permanentType.checked ) {
			inputBasic.value = currentInputValue + 1;
		currentPrice = Number(totalPrice.innerHTML);
		newPrice = currentPrice + 20;
		totalPrice.innerHTML = newPrice;
		}
		// BASIC PLUS ON TEMPORARY CHECKBOX
		if ( currentInputValue < 20 && temporaryType.checked ) {
			inputBasic.value = currentInputValue + 1;
		currentPrice = Number(totalPrice.innerHTML);
		newPrice = currentPrice + 25;
		totalPrice.innerHTML = newPrice;
		}
		// BASIC PLUS ON COMBINED CHECKBOX
		if ( currentInputValue < 20 && combinedType.checked ) {
			inputBasic.value = currentInputValue + 1;
		currentPrice = Number(totalPrice.innerHTML);
		newPrice = currentPrice + 40;
		totalPrice.innerHTML = newPrice;
		}
	}

	if (target.classList.contains('tickets__form-minus')) {

		currentPrice = Number(totalPrice.innerHTML);

		if( currentPrice <= 0 ) {
			return;
		}
		// BASIC MINUS ON PERMANENT CHECKBOX
		if ( currentInputValue > 0  && permanentType.checked) {
			inputBasic.value = currentInputValue - 1;
			newPrice = currentPrice - 20;
			totalPrice.innerHTML = newPrice;
		}
		// BASIC MINUS ON TEMPORARY CHECKBOX
		if ( currentInputValue > 0  && temporaryType.checked) {
			inputBasic.value = currentInputValue - 1;
			newPrice = currentPrice - 25;
			totalPrice.innerHTML = newPrice;
		}
		// BASIC MINUS ON COMBINED CHECKBOX
		if ( currentInputValue > 0  && combinedType.checked) {
			inputBasic.value = currentInputValue - 1;
			newPrice = currentPrice - 40;
			totalPrice.innerHTML = newPrice;
		}
	}
}






function changeSeniorValue(event) {
	let target = event.target;
	const totalPrice = document.querySelector('.total-prices');
	const currentInputValue = Number(inputSenior.value);

	if (target.classList.contains('tickets__form-plus')) {

		if ( currentInputValue < 20 ) {
			inputSenior.value = currentInputValue + 1;
			const currentPrice = + totalPrice.innerHTML;
			const newPrice = currentPrice + 10;
			totalPrice.innerHTML = newPrice;
		}

	}

	if (target.classList.contains('tickets__form-minus')) {

		const currentPrice = + totalPrice.innerHTML;

		if( currentPrice <= 0 ) {
			return;
		}

		if ( currentInputValue > 0 ) {
			inputSenior.value = currentInputValue - 1;

			const newPrice = currentPrice - 10;
			totalPrice.innerHTML = newPrice;
		}
	}
}

radioBtns.forEach(el => {
	el.addEventListener('change', (e) => {

		if (e.target.id === 'permanent') {
			 totalPrice.innerHTML = `${(inputBasic.value * 20) + (inputSenior.value * 10)}`;
		}
		if (e.target.id === 'temporary') {
			totalPrice.innerHTML = `${(inputBasic.value * 25) + (inputSenior.value * 12.5)}`;
		}
		if (e.target.id === 'combined') {
			totalPrice.innerHTML = `${(inputBasic.value * 40) + (inputSenior.value * 20)}`;
		}
	});
});



//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1cmdlck1lbnUuanMiLCJwcm9wZ3Jlc3NCYXIuanMiLCJleHBsb3JlLmpzIiwic3dpcGVyLmpzIiwibWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNuRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JGQTtBQUNBO0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCJcblxuY29uc3QgaXNNb2JpbGUgPSB7XG5cdEFuZHJvaWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZC9pKTtcblx0fSxcblx0QmxhY2tCZXJyeTogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9CbGFja0JlcnJ5L2kpO1xuXHR9LFxuXHRpT1M6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBob25lfGlQYWR8aVBvZC9pKTtcblx0fSxcblx0T3BlcmE6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvT3BlcmEgTWluaS9pKTtcblx0fSxcblx0V2luZG93czogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9JRU1vYmlsZS9pKTtcblx0fSxcblx0YW55OiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdGlzTW9iaWxlLkFuZHJvaWQoKSB8fFxuXHRcdFx0aXNNb2JpbGUuQmxhY2tCZXJyeSgpIHx8XG5cdFx0XHRpc01vYmlsZS5pT1MoKSB8fFxuXHRcdFx0aXNNb2JpbGUuT3BlcmEoKSB8fFxuXHRcdFx0aXNNb2JpbGUuV2luZG93cygpKTtcblx0fVxufTtcblxuaWYgKGlzTW9iaWxlLmFueSgpKSB7XG5cdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnX3RvdWNoJyk7XG5cblx0bGV0IG1lbnVBcnJvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWVudV9fYXJyb3cnKTtcblx0aWYgKG1lbnVBcnJvd3MubGVuZ3RoID4gMCkge1xuXHRcdGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBtZW51QXJyb3dzLmxlbmd0aDsgaW5kZXgrKykge1xuXHRcdFx0Y29uc3QgbWVudUFycm93ID0gbWVudUFycm93c1tpbmRleF07XG5cdFx0XHRtZW51QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdG1lbnVBcnJvdy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ19hY3RpdmUnKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG59IGVsc2Uge1xuXHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ19wYycpO1xufVxuXG4vLyDQnNC10L3RjiDQsdGD0YDQs9C10YBcbmNvbnN0IGljb25NZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnVfX2ljb24nKTtcbmNvbnN0IG1lbnVCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnVfX2JvZHknKTtcbmlmIChpY29uTWVudSkge1xuXHRpY29uTWVudS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcblx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ19sb2NrJyk7XG5cdFx0aWNvbk1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnX2FjdGl2ZScpO1xuXHRcdG1lbnVCb2R5LmNsYXNzTGlzdC50b2dnbGUoJ19hY3RpdmUnKTtcblx0fSk7XG59XG5cblxuLy8g0J/RgNC+0LrRgNGD0YLQutCwINC/0YDQuCDQutC70LjQutC1XG5jb25zdCBtZW51TGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWVudV9fbGlua1tkYXRhLWdvdG9dJyk7XG5pZiAobWVudUxpbmtzLmxlbmd0aCA+IDApIHtcblx0bWVudUxpbmtzLmZvckVhY2gobWVudUxpbmsgPT4ge1xuXHRcdG1lbnVMaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbk1lbnVMaW5rQ2xpY2spO1xuXHR9KTtcblxuXHRmdW5jdGlvbiBvbk1lbnVMaW5rQ2xpY2soZSkge1xuXHRcdGNvbnN0IG1lbnVMaW5rID0gZS50YXJnZXQ7XG5cdFx0aWYgKG1lbnVMaW5rLmRhdGFzZXQuZ290byAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1lbnVMaW5rLmRhdGFzZXQuZ290bykpIHtcblx0XHRcdGNvbnN0IGdvdG9CbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWVudUxpbmsuZGF0YXNldC5nb3RvKTtcblx0XHRcdGNvbnN0IGdvdG9CbG9ja1ZhbHVlID0gZ290b0Jsb2NrLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHBhZ2VZT2Zmc2V0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZGVyJykub2Zmc2V0SGVpZ2h0O1xuXG5cdFx0XHRpZiAoaWNvbk1lbnUuY2xhc3NMaXN0LmNvbnRhaW5zKCdfYWN0aXZlJykpIHtcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdfbG9jaycpO1xuXHRcdFx0XHRpY29uTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdfYWN0aXZlJyk7XG5cdFx0XHRcdG1lbnVCb2R5LmNsYXNzTGlzdC5yZW1vdmUoJ19hY3RpdmUnKTtcblx0XHRcdH1cblxuXHRcdFx0d2luZG93LnNjcm9sbFRvKHtcblx0XHRcdFx0dG9wOiBnb3RvQmxvY2tWYWx1ZSxcblx0XHRcdFx0YmVoYXZpb3I6IFwic21vb3RoXCJcblx0XHRcdH0pO1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fVxufSIsIi8vIFBST0dSRVNTXG5jb25zdCB2aWRlb1RpbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlkZW9fX2Jhci10aW1lJyk7XG5cbnZpZGVvVGltZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWU7XG4gIHRoaXMuc3R5bGUuYmFja2dyb3VuZCA9IGBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICM3MTA3MDcgMCUsICM3MTA3MDcgJHt2YWx1ZX0lLCAjQzRDNEM0ICR7dmFsdWV9JSwgI0M0QzRDNCAxMDAlKWA7XG59KTtcblxuY29uc3Qgdm9sdW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpZGVvX19iYXItdm9sdW1lLXJhbmdlJyk7XG5cbnZvbHVtZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICBjb25zdCB2YWx1ZSA9IHRoaXMudmFsdWU7XG4gIHRoaXMuc3R5bGUuYmFja2dyb3VuZCA9IGBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICM3MTA3MDcgMCUsICM3MTA3MDcgJHt2YWx1ZX0lLCAjQzRDNEM0ICR7dmFsdWV9JSwgI0M0QzRDNCAxMDAlKWA7XG59KTtcbi8vIEVORCBQUk9HUkVTUyIsIi8vIEVYUExPUkVSXG5mdW5jdGlvbiBpbml0Q29tcGFyaXNvbnMoKSB7XG4gIHZhciB4LCBpO1xuICAvKmZpbmQgYWxsIGVsZW1lbnRzIHdpdGggYW4gXCJvdmVybGF5XCIgY2xhc3M6Ki9cbiAgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJleHBsb3JlX19waWN0dXJlLW92ZXJsYXlcIik7XG4gIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XG4gICAgLypvbmNlIGZvciBlYWNoIFwib3ZlcmxheVwiIGVsZW1lbnQ6XG4gICAgcGFzcyB0aGUgXCJvdmVybGF5XCIgZWxlbWVudCBhcyBhIHBhcmFtZXRlciB3aGVuIGV4ZWN1dGluZyB0aGUgY29tcGFyZUltYWdlcyBmdW5jdGlvbjoqL1xuICAgIGNvbXBhcmVJbWFnZXMoeFtpXSk7XG4gIH1cbiAgZnVuY3Rpb24gY29tcGFyZUltYWdlcyhpbWcpIHtcbiAgICB2YXIgc2xpZGVyLCBpbWcsIGNsaWNrZWQgPSAwLCB3LCBoO1xuICAgIC8qZ2V0IHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBpbWcgZWxlbWVudCovXG4gICAgdyA9IGltZy5vZmZzZXRXaWR0aDtcbiAgICBoID0gaW1nLm9mZnNldEhlaWdodDtcbiAgICAvKnNldCB0aGUgd2lkdGggb2YgdGhlIGltZyBlbGVtZW50IHRvIDUwJToqL1xuICAgIGltZy5zdHlsZS53aWR0aCA9ICh3IC8gMikgKyBcInB4XCI7XG4gICAgLypjcmVhdGUgc2xpZGVyOiovXG4gICAgc2xpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcbiAgICBzbGlkZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJleHBsb3JlX19waWN0dXJlLXNsaWRlclwiKTtcbiAgICAvKmluc2VydCBzbGlkZXIqL1xuICAgIGltZy5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShzbGlkZXIsIGltZyk7XG4gICAgLypwb3NpdGlvbiB0aGUgc2xpZGVyIGluIHRoZSBtaWRkbGU6Ki9cbiAgICBzbGlkZXIuc3R5bGUudG9wID0gKGggLyAyKSAtIChzbGlkZXIub2Zmc2V0SGVpZ2h0IC8gMikgKyBcInB4XCI7XG4gICAgc2xpZGVyLnN0eWxlLmxlZnQgPSAodyAvIDIpIC0gKHNsaWRlci5vZmZzZXRXaWR0aCAvIDIpICsgXCJweFwiO1xuICAgIC8qZXhlY3V0ZSBhIGZ1bmN0aW9uIHdoZW4gdGhlIG1vdXNlIGJ1dHRvbiBpcyBwcmVzc2VkOiovXG4gICAgc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgc2xpZGVSZWFkeSk7XG4gICAgLyphbmQgYW5vdGhlciBmdW5jdGlvbiB3aGVuIHRoZSBtb3VzZSBidXR0b24gaXMgcmVsZWFzZWQ6Ki9cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgc2xpZGVGaW5pc2gpO1xuICAgIC8qb3IgdG91Y2hlZCAoZm9yIHRvdWNoIHNjcmVlbnM6Ki9cbiAgICBzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgc2xpZGVSZWFkeSk7XG4gICAgLyphbmQgcmVsZWFzZWQgKGZvciB0b3VjaCBzY3JlZW5zOiovXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0b3BcIiwgc2xpZGVGaW5pc2gpO1xuICAgIGZ1bmN0aW9uIHNsaWRlUmVhZHkoZSkge1xuICAgICAgLypwcmV2ZW50IGFueSBvdGhlciBhY3Rpb25zIHRoYXQgbWF5IG9jY3VyIHdoZW4gbW92aW5nIG92ZXIgdGhlIGltYWdlOiovXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAvKnRoZSBzbGlkZXIgaXMgbm93IGNsaWNrZWQgYW5kIHJlYWR5IHRvIG1vdmU6Ki9cbiAgICAgIGNsaWNrZWQgPSAxO1xuICAgICAgLypleGVjdXRlIGEgZnVuY3Rpb24gd2hlbiB0aGUgc2xpZGVyIGlzIG1vdmVkOiovXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBzbGlkZU1vdmUpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgc2xpZGVNb3ZlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2xpZGVGaW5pc2goKSB7XG4gICAgICAvKnRoZSBzbGlkZXIgaXMgbm8gbG9uZ2VyIGNsaWNrZWQ6Ki9cbiAgICAgIGNsaWNrZWQgPSAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzbGlkZU1vdmUoZSkge1xuICAgICAgdmFyIHBvcztcbiAgICAgIC8qaWYgdGhlIHNsaWRlciBpcyBubyBsb25nZXIgY2xpY2tlZCwgZXhpdCB0aGlzIGZ1bmN0aW9uOiovXG4gICAgICBpZiAoY2xpY2tlZCA9PSAwKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cbiAgICAgIC8qZ2V0IHRoZSBjdXJzb3IncyB4IHBvc2l0aW9uOiovXG4gICAgICBwb3MgPSBnZXRDdXJzb3JQb3MoZSk7XG4gICAgICAvKnByZXZlbnQgdGhlIHNsaWRlciBmcm9tIGJlaW5nIHBvc2l0aW9uZWQgb3V0c2lkZSB0aGUgaW1hZ2U6Ki9cbiAgICAgIGlmIChwb3MgPCAwKSB7XG5cdFx0XHRcdHBvcyA9IDA7XG5cdFx0XHR9XG4gICAgICBpZiAocG9zID4gdykge1xuXHRcdFx0XHRwb3MgPSB3O1xuXHRcdFx0fVxuICAgICAgLypleGVjdXRlIGEgZnVuY3Rpb24gdGhhdCB3aWxsIHJlc2l6ZSB0aGUgb3ZlcmxheSBpbWFnZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnNvcjoqL1xuICAgICAgc2xpZGUocG9zKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q3Vyc29yUG9zKGUpIHtcbiAgICAgIHZhciBhLCB4ID0gMDtcbiAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICAgIC8qZ2V0IHRoZSB4IHBvc2l0aW9ucyBvZiB0aGUgaW1hZ2U6Ki9cbiAgICAgIGEgPSBpbWcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAvKmNhbGN1bGF0ZSB0aGUgY3Vyc29yJ3MgeCBjb29yZGluYXRlLCByZWxhdGl2ZSB0byB0aGUgaW1hZ2U6Ki9cbiAgICAgIHggPSBlLnBhZ2VYIC0gYS5sZWZ0O1xuICAgICAgLypjb25zaWRlciBhbnkgcGFnZSBzY3JvbGxpbmc6Ki9cbiAgICAgIHggPSB4IC0gd2luZG93LnBhZ2VYT2Zmc2V0O1xuICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNsaWRlKHgpIHtcbiAgICAgIC8qcmVzaXplIHRoZSBpbWFnZToqL1xuICAgICAgaW1nLnN0eWxlLndpZHRoID0geCArIFwicHhcIjtcbiAgICAgIC8qcG9zaXRpb24gdGhlIHNsaWRlcjoqL1xuICAgICAgc2xpZGVyLnN0eWxlLmxlZnQgPSBpbWcub2Zmc2V0V2lkdGggLSAoc2xpZGVyLm9mZnNldFdpZHRoIC8gMikgKyBcInB4XCI7XG4gICAgfVxuICB9XG59XG5cbmluaXRDb21wYXJpc29ucygpO1xuLy8gRU5EIEVYUExPUkVSIiwiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6KGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczplfHxzZWxmKS5Td2lwZXI9dCgpfSh0aGlzLChmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGUoZSl7cmV0dXJuIG51bGwhPT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJjb25zdHJ1Y3RvclwiaW4gZSYmZS5jb25zdHJ1Y3Rvcj09PU9iamVjdH1mdW5jdGlvbiB0KHM9e30sYT17fSl7T2JqZWN0LmtleXMoYSkuZm9yRWFjaCgoaT0+e3ZvaWQgMD09PXNbaV0/c1tpXT1hW2ldOmUoYVtpXSkmJmUoc1tpXSkmJk9iamVjdC5rZXlzKGFbaV0pLmxlbmd0aD4wJiZ0KHNbaV0sYVtpXSl9KSl9Y29uc3Qgcz17Ym9keTp7fSxhZGRFdmVudExpc3RlbmVyKCl7fSxyZW1vdmVFdmVudExpc3RlbmVyKCl7fSxhY3RpdmVFbGVtZW50OntibHVyKCl7fSxub2RlTmFtZTpcIlwifSxxdWVyeVNlbGVjdG9yOigpPT5udWxsLHF1ZXJ5U2VsZWN0b3JBbGw6KCk9PltdLGdldEVsZW1lbnRCeUlkOigpPT5udWxsLGNyZWF0ZUV2ZW50OigpPT4oe2luaXRFdmVudCgpe319KSxjcmVhdGVFbGVtZW50OigpPT4oe2NoaWxkcmVuOltdLGNoaWxkTm9kZXM6W10sc3R5bGU6e30sc2V0QXR0cmlidXRlKCl7fSxnZXRFbGVtZW50c0J5VGFnTmFtZTooKT0+W119KSxjcmVhdGVFbGVtZW50TlM6KCk9Pih7fSksaW1wb3J0Tm9kZTooKT0+bnVsbCxsb2NhdGlvbjp7aGFzaDpcIlwiLGhvc3Q6XCJcIixob3N0bmFtZTpcIlwiLGhyZWY6XCJcIixvcmlnaW46XCJcIixwYXRobmFtZTpcIlwiLHByb3RvY29sOlwiXCIsc2VhcmNoOlwiXCJ9fTtmdW5jdGlvbiBhKCl7Y29uc3QgZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQ6e307cmV0dXJuIHQoZSxzKSxlfWNvbnN0IGk9e2RvY3VtZW50OnMsbmF2aWdhdG9yOnt1c2VyQWdlbnQ6XCJcIn0sbG9jYXRpb246e2hhc2g6XCJcIixob3N0OlwiXCIsaG9zdG5hbWU6XCJcIixocmVmOlwiXCIsb3JpZ2luOlwiXCIscGF0aG5hbWU6XCJcIixwcm90b2NvbDpcIlwiLHNlYXJjaDpcIlwifSxoaXN0b3J5OntyZXBsYWNlU3RhdGUoKXt9LHB1c2hTdGF0ZSgpe30sZ28oKXt9LGJhY2soKXt9fSxDdXN0b21FdmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxhZGRFdmVudExpc3RlbmVyKCl7fSxyZW1vdmVFdmVudExpc3RlbmVyKCl7fSxnZXRDb21wdXRlZFN0eWxlOigpPT4oe2dldFByb3BlcnR5VmFsdWU6KCk9PlwiXCJ9KSxJbWFnZSgpe30sRGF0ZSgpe30sc2NyZWVuOnt9LHNldFRpbWVvdXQoKXt9LGNsZWFyVGltZW91dCgpe30sbWF0Y2hNZWRpYTooKT0+KHt9KSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWU6ZT0+XCJ1bmRlZmluZWRcIj09dHlwZW9mIHNldFRpbWVvdXQ/KGUoKSxudWxsKTpzZXRUaW1lb3V0KGUsMCksY2FuY2VsQW5pbWF0aW9uRnJhbWUoZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNldFRpbWVvdXQmJmNsZWFyVGltZW91dChlKX19O2Z1bmN0aW9uIHIoKXtjb25zdCBlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9O3JldHVybiB0KGUsaSksZX1jbGFzcyBuIGV4dGVuZHMgQXJyYXl7Y29uc3RydWN0b3IoZSl7c3VwZXIoLi4uZXx8W10pLGZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5fX3Byb3RvX187T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX3Byb3RvX19cIix7Z2V0OigpPT50LHNldChlKXt0Ll9fcHJvdG9fXz1lfX0pfSh0aGlzKX19ZnVuY3Rpb24gbChlPVtdKXtjb25zdCB0PVtdO3JldHVybiBlLmZvckVhY2goKGU9PntBcnJheS5pc0FycmF5KGUpP3QucHVzaCguLi5sKGUpKTp0LnB1c2goZSl9KSksdH1mdW5jdGlvbiBvKGUsdCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlLHQpfWZ1bmN0aW9uIGQoZSx0KXtjb25zdCBzPXIoKSxpPWEoKTtsZXQgbD1bXTtpZighdCYmZSBpbnN0YW5jZW9mIG4pcmV0dXJuIGU7aWYoIWUpcmV0dXJuIG5ldyBuKGwpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtjb25zdCBzPWUudHJpbSgpO2lmKHMuaW5kZXhPZihcIjxcIik+PTAmJnMuaW5kZXhPZihcIj5cIik+PTApe2xldCBlPVwiZGl2XCI7MD09PXMuaW5kZXhPZihcIjxsaVwiKSYmKGU9XCJ1bFwiKSwwPT09cy5pbmRleE9mKFwiPHRyXCIpJiYoZT1cInRib2R5XCIpLDAhPT1zLmluZGV4T2YoXCI8dGRcIikmJjAhPT1zLmluZGV4T2YoXCI8dGhcIil8fChlPVwidHJcIiksMD09PXMuaW5kZXhPZihcIjx0Ym9keVwiKSYmKGU9XCJ0YWJsZVwiKSwwPT09cy5pbmRleE9mKFwiPG9wdGlvblwiKSYmKGU9XCJzZWxlY3RcIik7Y29uc3QgdD1pLmNyZWF0ZUVsZW1lbnQoZSk7dC5pbm5lckhUTUw9cztmb3IobGV0IGU9MDtlPHQuY2hpbGROb2Rlcy5sZW5ndGg7ZSs9MSlsLnB1c2godC5jaGlsZE5vZGVzW2VdKX1lbHNlIGw9ZnVuY3Rpb24oZSx0KXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm5bZV07Y29uc3Qgcz1bXSxhPXQucXVlcnlTZWxlY3RvckFsbChlKTtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrPTEpcy5wdXNoKGFbZV0pO3JldHVybiBzfShlLnRyaW0oKSx0fHxpKX1lbHNlIGlmKGUubm9kZVR5cGV8fGU9PT1zfHxlPT09aSlsLnB1c2goZSk7ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpKXtpZihlIGluc3RhbmNlb2YgbilyZXR1cm4gZTtsPWV9cmV0dXJuIG5ldyBuKGZ1bmN0aW9uKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKz0xKS0xPT09dC5pbmRleE9mKGVbc10pJiZ0LnB1c2goZVtzXSk7cmV0dXJuIHR9KGwpKX1kLmZuPW4ucHJvdG90eXBlO2NvbnN0IGM9e2FkZENsYXNzOmZ1bmN0aW9uKC4uLmUpe2NvbnN0IHQ9bChlLm1hcCgoZT0+ZS5zcGxpdChcIiBcIikpKSk7cmV0dXJuIHRoaXMuZm9yRWFjaCgoZT0+e2UuY2xhc3NMaXN0LmFkZCguLi50KX0pKSx0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbiguLi5lKXtjb25zdCB0PWwoZS5tYXAoKGU9PmUuc3BsaXQoXCIgXCIpKSkpO3JldHVybiB0aGlzLmZvckVhY2goKGU9PntlLmNsYXNzTGlzdC5yZW1vdmUoLi4udCl9KSksdGhpc30saGFzQ2xhc3M6ZnVuY3Rpb24oLi4uZSl7Y29uc3QgdD1sKGUubWFwKChlPT5lLnNwbGl0KFwiIFwiKSkpKTtyZXR1cm4gbyh0aGlzLChlPT50LmZpbHRlcigodD0+ZS5jbGFzc0xpc3QuY29udGFpbnModCkpKS5sZW5ndGg+MCkpLmxlbmd0aD4wfSx0b2dnbGVDbGFzczpmdW5jdGlvbiguLi5lKXtjb25zdCB0PWwoZS5tYXAoKGU9PmUuc3BsaXQoXCIgXCIpKSkpO3RoaXMuZm9yRWFjaCgoZT0+e3QuZm9yRWFjaCgodD0+e2UuY2xhc3NMaXN0LnRvZ2dsZSh0KX0pKX0pKX0sYXR0cjpmdW5jdGlvbihlLHQpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gdGhpc1swXT90aGlzWzBdLmdldEF0dHJpYnV0ZShlKTp2b2lkIDA7Zm9yKGxldCBzPTA7czx0aGlzLmxlbmd0aDtzKz0xKWlmKDI9PT1hcmd1bWVudHMubGVuZ3RoKXRoaXNbc10uc2V0QXR0cmlidXRlKGUsdCk7ZWxzZSBmb3IoY29uc3QgdCBpbiBlKXRoaXNbc11bdF09ZVt0XSx0aGlzW3NdLnNldEF0dHJpYnV0ZSh0LGVbdF0pO3JldHVybiB0aGlzfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5sZW5ndGg7dCs9MSl0aGlzW3RdLnJlbW92ZUF0dHJpYnV0ZShlKTtyZXR1cm4gdGhpc30sdHJhbnNmb3JtOmZ1bmN0aW9uKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5sZW5ndGg7dCs9MSl0aGlzW3RdLnN0eWxlLnRyYW5zZm9ybT1lO3JldHVybiB0aGlzfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5sZW5ndGg7dCs9MSl0aGlzW3RdLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbj1cInN0cmluZ1wiIT10eXBlb2YgZT9gJHtlfW1zYDplO3JldHVybiB0aGlzfSxvbjpmdW5jdGlvbiguLi5lKXtsZXRbdCxzLGEsaV09ZTtmdW5jdGlvbiByKGUpe2NvbnN0IHQ9ZS50YXJnZXQ7aWYoIXQpcmV0dXJuO2NvbnN0IGk9ZS50YXJnZXQuZG9tN0V2ZW50RGF0YXx8W107aWYoaS5pbmRleE9mKGUpPDAmJmkudW5zaGlmdChlKSxkKHQpLmlzKHMpKWEuYXBwbHkodCxpKTtlbHNle2NvbnN0IGU9ZCh0KS5wYXJlbnRzKCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz0xKWQoZVt0XSkuaXMocykmJmEuYXBwbHkoZVt0XSxpKX19ZnVuY3Rpb24gbihlKXtjb25zdCB0PWUmJmUudGFyZ2V0JiZlLnRhcmdldC5kb203RXZlbnREYXRhfHxbXTt0LmluZGV4T2YoZSk8MCYmdC51bnNoaWZ0KGUpLGEuYXBwbHkodGhpcyx0KX1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlWzFdJiYoW3QsYSxpXT1lLHM9dm9pZCAwKSxpfHwoaT0hMSk7Y29uc3QgbD10LnNwbGl0KFwiIFwiKTtsZXQgbztmb3IobGV0IGU9MDtlPHRoaXMubGVuZ3RoO2UrPTEpe2NvbnN0IHQ9dGhpc1tlXTtpZihzKWZvcihvPTA7bzxsLmxlbmd0aDtvKz0xKXtjb25zdCBlPWxbb107dC5kb203TGl2ZUxpc3RlbmVyc3x8KHQuZG9tN0xpdmVMaXN0ZW5lcnM9e30pLHQuZG9tN0xpdmVMaXN0ZW5lcnNbZV18fCh0LmRvbTdMaXZlTGlzdGVuZXJzW2VdPVtdKSx0LmRvbTdMaXZlTGlzdGVuZXJzW2VdLnB1c2goe2xpc3RlbmVyOmEscHJveHlMaXN0ZW5lcjpyfSksdC5hZGRFdmVudExpc3RlbmVyKGUscixpKX1lbHNlIGZvcihvPTA7bzxsLmxlbmd0aDtvKz0xKXtjb25zdCBlPWxbb107dC5kb203TGlzdGVuZXJzfHwodC5kb203TGlzdGVuZXJzPXt9KSx0LmRvbTdMaXN0ZW5lcnNbZV18fCh0LmRvbTdMaXN0ZW5lcnNbZV09W10pLHQuZG9tN0xpc3RlbmVyc1tlXS5wdXNoKHtsaXN0ZW5lcjphLHByb3h5TGlzdGVuZXI6bn0pLHQuYWRkRXZlbnRMaXN0ZW5lcihlLG4saSl9fXJldHVybiB0aGlzfSxvZmY6ZnVuY3Rpb24oLi4uZSl7bGV0W3QscyxhLGldPWU7XCJmdW5jdGlvblwiPT10eXBlb2YgZVsxXSYmKFt0LGEsaV09ZSxzPXZvaWQgMCksaXx8KGk9ITEpO2NvbnN0IHI9dC5zcGxpdChcIiBcIik7Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aDtlKz0xKXtjb25zdCB0PXJbZV07Zm9yKGxldCBlPTA7ZTx0aGlzLmxlbmd0aDtlKz0xKXtjb25zdCByPXRoaXNbZV07bGV0IG47aWYoIXMmJnIuZG9tN0xpc3RlbmVycz9uPXIuZG9tN0xpc3RlbmVyc1t0XTpzJiZyLmRvbTdMaXZlTGlzdGVuZXJzJiYobj1yLmRvbTdMaXZlTGlzdGVuZXJzW3RdKSxuJiZuLmxlbmd0aClmb3IobGV0IGU9bi5sZW5ndGgtMTtlPj0wO2UtPTEpe2NvbnN0IHM9bltlXTthJiZzLmxpc3RlbmVyPT09YXx8YSYmcy5saXN0ZW5lciYmcy5saXN0ZW5lci5kb203cHJveHkmJnMubGlzdGVuZXIuZG9tN3Byb3h5PT09YT8oci5yZW1vdmVFdmVudExpc3RlbmVyKHQscy5wcm94eUxpc3RlbmVyLGkpLG4uc3BsaWNlKGUsMSkpOmF8fChyLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxzLnByb3h5TGlzdGVuZXIsaSksbi5zcGxpY2UoZSwxKSl9fX1yZXR1cm4gdGhpc30sdHJpZ2dlcjpmdW5jdGlvbiguLi5lKXtjb25zdCB0PXIoKSxzPWVbMF0uc3BsaXQoXCIgXCIpLGE9ZVsxXTtmb3IobGV0IGk9MDtpPHMubGVuZ3RoO2krPTEpe2NvbnN0IHI9c1tpXTtmb3IobGV0IHM9MDtzPHRoaXMubGVuZ3RoO3MrPTEpe2NvbnN0IGk9dGhpc1tzXTtpZih0LkN1c3RvbUV2ZW50KXtjb25zdCBzPW5ldyB0LkN1c3RvbUV2ZW50KHIse2RldGFpbDphLGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMH0pO2kuZG9tN0V2ZW50RGF0YT1lLmZpbHRlcigoKGUsdCk9PnQ+MCkpLGkuZGlzcGF0Y2hFdmVudChzKSxpLmRvbTdFdmVudERhdGE9W10sZGVsZXRlIGkuZG9tN0V2ZW50RGF0YX19fXJldHVybiB0aGlzfSx0cmFuc2l0aW9uRW5kOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9dGhpcztyZXR1cm4gZSYmdC5vbihcInRyYW5zaXRpb25lbmRcIiwoZnVuY3Rpb24gcyhhKXthLnRhcmdldD09PXRoaXMmJihlLmNhbGwodGhpcyxhKSx0Lm9mZihcInRyYW5zaXRpb25lbmRcIixzKSl9KSksdGhpc30sb3V0ZXJXaWR0aDpmdW5jdGlvbihlKXtpZih0aGlzLmxlbmd0aD4wKXtpZihlKXtjb25zdCBlPXRoaXMuc3R5bGVzKCk7cmV0dXJuIHRoaXNbMF0ub2Zmc2V0V2lkdGgrcGFyc2VGbG9hdChlLmdldFByb3BlcnR5VmFsdWUoXCJtYXJnaW4tcmlnaHRcIikpK3BhcnNlRmxvYXQoZS5nZXRQcm9wZXJ0eVZhbHVlKFwibWFyZ2luLWxlZnRcIikpfXJldHVybiB0aGlzWzBdLm9mZnNldFdpZHRofXJldHVybiBudWxsfSxvdXRlckhlaWdodDpmdW5jdGlvbihlKXtpZih0aGlzLmxlbmd0aD4wKXtpZihlKXtjb25zdCBlPXRoaXMuc3R5bGVzKCk7cmV0dXJuIHRoaXNbMF0ub2Zmc2V0SGVpZ2h0K3BhcnNlRmxvYXQoZS5nZXRQcm9wZXJ0eVZhbHVlKFwibWFyZ2luLXRvcFwiKSkrcGFyc2VGbG9hdChlLmdldFByb3BlcnR5VmFsdWUoXCJtYXJnaW4tYm90dG9tXCIpKX1yZXR1cm4gdGhpc1swXS5vZmZzZXRIZWlnaHR9cmV0dXJuIG51bGx9LHN0eWxlczpmdW5jdGlvbigpe2NvbnN0IGU9cigpO3JldHVybiB0aGlzWzBdP2UuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzWzBdLG51bGwpOnt9fSxvZmZzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmxlbmd0aD4wKXtjb25zdCBlPXIoKSx0PWEoKSxzPXRoaXNbMF0saT1zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49dC5ib2R5LGw9cy5jbGllbnRUb3B8fG4uY2xpZW50VG9wfHwwLG89cy5jbGllbnRMZWZ0fHxuLmNsaWVudExlZnR8fDAsZD1zPT09ZT9lLnNjcm9sbFk6cy5zY3JvbGxUb3AsYz1zPT09ZT9lLnNjcm9sbFg6cy5zY3JvbGxMZWZ0O3JldHVybnt0b3A6aS50b3ArZC1sLGxlZnQ6aS5sZWZ0K2Mtb319cmV0dXJuIG51bGx9LGNzczpmdW5jdGlvbihlLHQpe2NvbnN0IHM9cigpO2xldCBhO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl7Zm9yKGE9MDthPHRoaXMubGVuZ3RoO2ErPTEpZm9yKGNvbnN0IHQgaW4gZSl0aGlzW2FdLnN0eWxlW3RdPWVbdF07cmV0dXJuIHRoaXN9aWYodGhpc1swXSlyZXR1cm4gcy5nZXRDb21wdXRlZFN0eWxlKHRoaXNbMF0sbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShlKX1pZigyPT09YXJndW1lbnRzLmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIGUpe2ZvcihhPTA7YTx0aGlzLmxlbmd0aDthKz0xKXRoaXNbYV0uc3R5bGVbZV09dDtyZXR1cm4gdGhpc31yZXR1cm4gdGhpc30sZWFjaDpmdW5jdGlvbihlKXtyZXR1cm4gZT8odGhpcy5mb3JFYWNoKCgodCxzKT0+e2UuYXBwbHkodCxbdCxzXSl9KSksdGhpcyk6dGhpc30saHRtbDpmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzWzBdP3RoaXNbMF0uaW5uZXJIVE1MOm51bGw7Zm9yKGxldCB0PTA7dDx0aGlzLmxlbmd0aDt0Kz0xKXRoaXNbdF0uaW5uZXJIVE1MPWU7cmV0dXJuIHRoaXN9LHRleHQ6ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gdGhpc1swXT90aGlzWzBdLnRleHRDb250ZW50LnRyaW0oKTpudWxsO2ZvcihsZXQgdD0wO3Q8dGhpcy5sZW5ndGg7dCs9MSl0aGlzW3RdLnRleHRDb250ZW50PWU7cmV0dXJuIHRoaXN9LGlzOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9cigpLHM9YSgpLGk9dGhpc1swXTtsZXQgbCxvO2lmKCFpfHx2b2lkIDA9PT1lKXJldHVybiExO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZihpLm1hdGNoZXMpcmV0dXJuIGkubWF0Y2hlcyhlKTtpZihpLndlYmtpdE1hdGNoZXNTZWxlY3RvcilyZXR1cm4gaS53ZWJraXRNYXRjaGVzU2VsZWN0b3IoZSk7aWYoaS5tc01hdGNoZXNTZWxlY3RvcilyZXR1cm4gaS5tc01hdGNoZXNTZWxlY3RvcihlKTtmb3IobD1kKGUpLG89MDtvPGwubGVuZ3RoO28rPTEpaWYobFtvXT09PWkpcmV0dXJuITA7cmV0dXJuITF9aWYoZT09PXMpcmV0dXJuIGk9PT1zO2lmKGU9PT10KXJldHVybiBpPT09dDtpZihlLm5vZGVUeXBlfHxlIGluc3RhbmNlb2Ygbil7Zm9yKGw9ZS5ub2RlVHlwZT9bZV06ZSxvPTA7bzxsLmxlbmd0aDtvKz0xKWlmKGxbb109PT1pKXJldHVybiEwO3JldHVybiExfXJldHVybiExfSxpbmRleDpmdW5jdGlvbigpe2xldCBlLHQ9dGhpc1swXTtpZih0KXtmb3IoZT0wO251bGwhPT0odD10LnByZXZpb3VzU2libGluZyk7KTE9PT10Lm5vZGVUeXBlJiYoZSs9MSk7cmV0dXJuIGV9fSxlcTpmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lKXJldHVybiB0aGlzO2NvbnN0IHQ9dGhpcy5sZW5ndGg7aWYoZT50LTEpcmV0dXJuIGQoW10pO2lmKGU8MCl7Y29uc3Qgcz10K2U7cmV0dXJuIGQoczwwP1tdOlt0aGlzW3NdXSl9cmV0dXJuIGQoW3RoaXNbZV1dKX0sYXBwZW5kOmZ1bmN0aW9uKC4uLmUpe2xldCB0O2NvbnN0IHM9YSgpO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSs9MSl7dD1lW2FdO2ZvcihsZXQgZT0wO2U8dGhpcy5sZW5ndGg7ZSs9MSlpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7Y29uc3QgYT1zLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zm9yKGEuaW5uZXJIVE1MPXQ7YS5maXJzdENoaWxkOyl0aGlzW2VdLmFwcGVuZENoaWxkKGEuZmlyc3RDaGlsZCl9ZWxzZSBpZih0IGluc3RhbmNlb2Ygbilmb3IobGV0IHM9MDtzPHQubGVuZ3RoO3MrPTEpdGhpc1tlXS5hcHBlbmRDaGlsZCh0W3NdKTtlbHNlIHRoaXNbZV0uYXBwZW5kQ2hpbGQodCl9cmV0dXJuIHRoaXN9LHByZXBlbmQ6ZnVuY3Rpb24oZSl7Y29uc3QgdD1hKCk7bGV0IHMsaTtmb3Iocz0wO3M8dGhpcy5sZW5ndGg7cys9MSlpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7Y29uc3QgYT10LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zm9yKGEuaW5uZXJIVE1MPWUsaT1hLmNoaWxkTm9kZXMubGVuZ3RoLTE7aT49MDtpLT0xKXRoaXNbc10uaW5zZXJ0QmVmb3JlKGEuY2hpbGROb2Rlc1tpXSx0aGlzW3NdLmNoaWxkTm9kZXNbMF0pfWVsc2UgaWYoZSBpbnN0YW5jZW9mIG4pZm9yKGk9MDtpPGUubGVuZ3RoO2krPTEpdGhpc1tzXS5pbnNlcnRCZWZvcmUoZVtpXSx0aGlzW3NdLmNoaWxkTm9kZXNbMF0pO2Vsc2UgdGhpc1tzXS5pbnNlcnRCZWZvcmUoZSx0aGlzW3NdLmNoaWxkTm9kZXNbMF0pO3JldHVybiB0aGlzfSxuZXh0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxlbmd0aD4wP2U/dGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmcmJmQodGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmcpLmlzKGUpP2QoW3RoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nXSk6ZChbXSk6dGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmc/ZChbdGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmddKTpkKFtdKTpkKFtdKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtjb25zdCB0PVtdO2xldCBzPXRoaXNbMF07aWYoIXMpcmV0dXJuIGQoW10pO2Zvcig7cy5uZXh0RWxlbWVudFNpYmxpbmc7KXtjb25zdCBhPXMubmV4dEVsZW1lbnRTaWJsaW5nO2U/ZChhKS5pcyhlKSYmdC5wdXNoKGEpOnQucHVzaChhKSxzPWF9cmV0dXJuIGQodCl9LHByZXY6ZnVuY3Rpb24oZSl7aWYodGhpcy5sZW5ndGg+MCl7Y29uc3QgdD10aGlzWzBdO3JldHVybiBlP3QucHJldmlvdXNFbGVtZW50U2libGluZyYmZCh0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcpLmlzKGUpP2QoW3QucHJldmlvdXNFbGVtZW50U2libGluZ10pOmQoW10pOnQucHJldmlvdXNFbGVtZW50U2libGluZz9kKFt0LnByZXZpb3VzRWxlbWVudFNpYmxpbmddKTpkKFtdKX1yZXR1cm4gZChbXSl9LHByZXZBbGw6ZnVuY3Rpb24oZSl7Y29uc3QgdD1bXTtsZXQgcz10aGlzWzBdO2lmKCFzKXJldHVybiBkKFtdKTtmb3IoO3MucHJldmlvdXNFbGVtZW50U2libGluZzspe2NvbnN0IGE9cy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO2U/ZChhKS5pcyhlKSYmdC5wdXNoKGEpOnQucHVzaChhKSxzPWF9cmV0dXJuIGQodCl9LHBhcmVudDpmdW5jdGlvbihlKXtjb25zdCB0PVtdO2ZvcihsZXQgcz0wO3M8dGhpcy5sZW5ndGg7cys9MSludWxsIT09dGhpc1tzXS5wYXJlbnROb2RlJiYoZT9kKHRoaXNbc10ucGFyZW50Tm9kZSkuaXMoZSkmJnQucHVzaCh0aGlzW3NdLnBhcmVudE5vZGUpOnQucHVzaCh0aGlzW3NdLnBhcmVudE5vZGUpKTtyZXR1cm4gZCh0KX0scGFyZW50czpmdW5jdGlvbihlKXtjb25zdCB0PVtdO2ZvcihsZXQgcz0wO3M8dGhpcy5sZW5ndGg7cys9MSl7bGV0IGE9dGhpc1tzXS5wYXJlbnROb2RlO2Zvcig7YTspZT9kKGEpLmlzKGUpJiZ0LnB1c2goYSk6dC5wdXNoKGEpLGE9YS5wYXJlbnROb2RlfXJldHVybiBkKHQpfSxjbG9zZXN0OmZ1bmN0aW9uKGUpe2xldCB0PXRoaXM7cmV0dXJuIHZvaWQgMD09PWU/ZChbXSk6KHQuaXMoZSl8fCh0PXQucGFyZW50cyhlKS5lcSgwKSksdCl9LGZpbmQ6ZnVuY3Rpb24oZSl7Y29uc3QgdD1bXTtmb3IobGV0IHM9MDtzPHRoaXMubGVuZ3RoO3MrPTEpe2NvbnN0IGE9dGhpc1tzXS5xdWVyeVNlbGVjdG9yQWxsKGUpO2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSs9MSl0LnB1c2goYVtlXSl9cmV0dXJuIGQodCl9LGNoaWxkcmVuOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBzPTA7czx0aGlzLmxlbmd0aDtzKz0xKXtjb25zdCBhPXRoaXNbc10uY2hpbGRyZW47Zm9yKGxldCBzPTA7czxhLmxlbmd0aDtzKz0xKWUmJiFkKGFbc10pLmlzKGUpfHx0LnB1c2goYVtzXSl9cmV0dXJuIGQodCl9LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZChvKHRoaXMsZSkpfSxyZW1vdmU6ZnVuY3Rpb24oKXtmb3IobGV0IGU9MDtlPHRoaXMubGVuZ3RoO2UrPTEpdGhpc1tlXS5wYXJlbnROb2RlJiZ0aGlzW2VdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpc1tlXSk7cmV0dXJuIHRoaXN9fTtmdW5jdGlvbiBwKGUsdD0wKXtyZXR1cm4gc2V0VGltZW91dChlLHQpfWZ1bmN0aW9uIHUoKXtyZXR1cm4gRGF0ZS5ub3coKX1mdW5jdGlvbiBoKGUsdD1cInhcIil7Y29uc3Qgcz1yKCk7bGV0IGEsaSxuO2NvbnN0IGw9ZnVuY3Rpb24oZSl7Y29uc3QgdD1yKCk7bGV0IHM7cmV0dXJuIHQuZ2V0Q29tcHV0ZWRTdHlsZSYmKHM9dC5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkpLCFzJiZlLmN1cnJlbnRTdHlsZSYmKHM9ZS5jdXJyZW50U3R5bGUpLHN8fChzPWUuc3R5bGUpLHN9KGUpO3JldHVybiBzLldlYktpdENTU01hdHJpeD8oaT1sLnRyYW5zZm9ybXx8bC53ZWJraXRUcmFuc2Zvcm0saS5zcGxpdChcIixcIikubGVuZ3RoPjYmJihpPWkuc3BsaXQoXCIsIFwiKS5tYXAoKGU9PmUucmVwbGFjZShcIixcIixcIi5cIikpKS5qb2luKFwiLCBcIikpLG49bmV3IHMuV2ViS2l0Q1NTTWF0cml4KFwibm9uZVwiPT09aT9cIlwiOmkpKToobj1sLk1velRyYW5zZm9ybXx8bC5PVHJhbnNmb3JtfHxsLk1zVHJhbnNmb3JtfHxsLm1zVHJhbnNmb3JtfHxsLnRyYW5zZm9ybXx8bC5nZXRQcm9wZXJ0eVZhbHVlKFwidHJhbnNmb3JtXCIpLnJlcGxhY2UoXCJ0cmFuc2xhdGUoXCIsXCJtYXRyaXgoMSwgMCwgMCwgMSxcIiksYT1uLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpKSxcInhcIj09PXQmJihpPXMuV2ViS2l0Q1NTTWF0cml4P24ubTQxOjE2PT09YS5sZW5ndGg/cGFyc2VGbG9hdChhWzEyXSk6cGFyc2VGbG9hdChhWzRdKSksXCJ5XCI9PT10JiYoaT1zLldlYktpdENTU01hdHJpeD9uLm00MjoxNj09PWEubGVuZ3RoP3BhcnNlRmxvYXQoYVsxM10pOnBhcnNlRmxvYXQoYVs1XSkpLGl8fDB9ZnVuY3Rpb24gbShlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJmUuY29uc3RydWN0b3ImJlwiT2JqZWN0XCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSl9ZnVuY3Rpb24gZiguLi5lKXtjb25zdCB0PU9iamVjdChlWzBdKSxzPVtcIl9fcHJvdG9fX1wiLFwiY29uc3RydWN0b3JcIixcInByb3RvdHlwZVwiXTtmb3IobGV0IGk9MTtpPGUubGVuZ3RoO2krPTEpe2NvbnN0IHI9ZVtpXTtpZihudWxsIT1yJiYoYT1yLCEoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdm9pZCAwIT09d2luZG93LkhUTUxFbGVtZW50P2EgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDphJiYoMT09PWEubm9kZVR5cGV8fDExPT09YS5ub2RlVHlwZSkpKSl7Y29uc3QgZT1PYmplY3Qua2V5cyhPYmplY3QocikpLmZpbHRlcigoZT0+cy5pbmRleE9mKGUpPDApKTtmb3IobGV0IHM9MCxhPWUubGVuZ3RoO3M8YTtzKz0xKXtjb25zdCBhPWVbc10saT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsYSk7dm9pZCAwIT09aSYmaS5lbnVtZXJhYmxlJiYobSh0W2FdKSYmbShyW2FdKT9yW2FdLl9fc3dpcGVyX18/dFthXT1yW2FdOmYodFthXSxyW2FdKTohbSh0W2FdKSYmbShyW2FdKT8odFthXT17fSxyW2FdLl9fc3dpcGVyX18/dFthXT1yW2FdOmYodFthXSxyW2FdKSk6dFthXT1yW2FdKX19fXZhciBhO3JldHVybiB0fWZ1bmN0aW9uIGcoZSx0LHMpe2Uuc3R5bGUuc2V0UHJvcGVydHkodCxzKX1mdW5jdGlvbiB2KHtzd2lwZXI6ZSx0YXJnZXRQb3NpdGlvbjp0LHNpZGU6c30pe2NvbnN0IGE9cigpLGk9LWUudHJhbnNsYXRlO2xldCBuLGw9bnVsbDtjb25zdCBvPWUucGFyYW1zLnNwZWVkO2Uud3JhcHBlckVsLnN0eWxlLnNjcm9sbFNuYXBUeXBlPVwibm9uZVwiLGEuY2FuY2VsQW5pbWF0aW9uRnJhbWUoZS5jc3NNb2RlRnJhbWVJRCk7Y29uc3QgZD10Pmk/XCJuZXh0XCI6XCJwcmV2XCIsYz0oZSx0KT0+XCJuZXh0XCI9PT1kJiZlPj10fHxcInByZXZcIj09PWQmJmU8PXQscD0oKT0+e249KG5ldyBEYXRlKS5nZXRUaW1lKCksbnVsbD09PWwmJihsPW4pO2NvbnN0IHI9TWF0aC5tYXgoTWF0aC5taW4oKG4tbCkvbywxKSwwKSxkPS41LU1hdGguY29zKHIqTWF0aC5QSSkvMjtsZXQgdT1pK2QqKHQtaSk7aWYoYyh1LHQpJiYodT10KSxlLndyYXBwZXJFbC5zY3JvbGxUbyh7W3NdOnV9KSxjKHUsdCkpcmV0dXJuIGUud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsZS53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGU9XCJcIixzZXRUaW1lb3V0KCgoKT0+e2Uud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93PVwiXCIsZS53cmFwcGVyRWwuc2Nyb2xsVG8oe1tzXTp1fSl9KSksdm9pZCBhLmNhbmNlbEFuaW1hdGlvbkZyYW1lKGUuY3NzTW9kZUZyYW1lSUQpO2UuY3NzTW9kZUZyYW1lSUQ9YS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocCl9O3AoKX1sZXQgdyxiLHg7ZnVuY3Rpb24geSgpe3JldHVybiB3fHwodz1mdW5jdGlvbigpe2NvbnN0IGU9cigpLHQ9YSgpO3JldHVybntzbW9vdGhTY3JvbGw6dC5kb2N1bWVudEVsZW1lbnQmJlwic2Nyb2xsQmVoYXZpb3JcImluIHQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLHRvdWNoOiEhKFwib250b3VjaHN0YXJ0XCJpbiBlfHxlLkRvY3VtZW50VG91Y2gmJnQgaW5zdGFuY2VvZiBlLkRvY3VtZW50VG91Y2gpLHBhc3NpdmVMaXN0ZW5lcjpmdW5jdGlvbigpe2xldCB0PSExO3RyeXtjb25zdCBzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcInBhc3NpdmVcIix7Z2V0KCl7dD0hMH19KTtlLmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0UGFzc2l2ZUxpc3RlbmVyXCIsbnVsbCxzKX1jYXRjaChlKXt9cmV0dXJuIHR9KCksZ2VzdHVyZXM6XCJvbmdlc3R1cmVzdGFydFwiaW4gZX19KCkpLHd9ZnVuY3Rpb24gRShlPXt9KXtyZXR1cm4gYnx8KGI9ZnVuY3Rpb24oe3VzZXJBZ2VudDplfT17fSl7Y29uc3QgdD15KCkscz1yKCksYT1zLm5hdmlnYXRvci5wbGF0Zm9ybSxpPWV8fHMubmF2aWdhdG9yLnVzZXJBZ2VudCxuPXtpb3M6ITEsYW5kcm9pZDohMX0sbD1zLnNjcmVlbi53aWR0aCxvPXMuc2NyZWVuLmhlaWdodCxkPWkubWF0Y2goLyhBbmRyb2lkKTs/W1xcc1xcL10rKFtcXGQuXSspPy8pO2xldCBjPWkubWF0Y2goLyhpUGFkKS4qT1NcXHMoW1xcZF9dKykvKTtjb25zdCBwPWkubWF0Y2goLyhpUG9kKSguKk9TXFxzKFtcXGRfXSspKT8vKSx1PSFjJiZpLm1hdGNoKC8oaVBob25lXFxzT1N8aU9TKVxccyhbXFxkX10rKS8pLGg9XCJXaW4zMlwiPT09YTtsZXQgbT1cIk1hY0ludGVsXCI9PT1hO3JldHVybiFjJiZtJiZ0LnRvdWNoJiZbXCIxMDI0eDEzNjZcIixcIjEzNjZ4MTAyNFwiLFwiODM0eDExOTRcIixcIjExOTR4ODM0XCIsXCI4MzR4MTExMlwiLFwiMTExMng4MzRcIixcIjc2OHgxMDI0XCIsXCIxMDI0eDc2OFwiLFwiODIweDExODBcIixcIjExODB4ODIwXCIsXCI4MTB4MTA4MFwiLFwiMTA4MHg4MTBcIl0uaW5kZXhPZihgJHtsfXgke299YCk+PTAmJihjPWkubWF0Y2goLyhWZXJzaW9uKVxcLyhbXFxkLl0rKS8pLGN8fChjPVswLDEsXCIxM18wXzBcIl0pLG09ITEpLGQmJiFoJiYobi5vcz1cImFuZHJvaWRcIixuLmFuZHJvaWQ9ITApLChjfHx1fHxwKSYmKG4ub3M9XCJpb3NcIixuLmlvcz0hMCksbn0oZSkpLGJ9ZnVuY3Rpb24gVCgpe3JldHVybiB4fHwoeD1mdW5jdGlvbigpe2NvbnN0IGU9cigpO3JldHVybntpc1NhZmFyaTpmdW5jdGlvbigpe2NvbnN0IHQ9ZS5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7cmV0dXJuIHQuaW5kZXhPZihcInNhZmFyaVwiKT49MCYmdC5pbmRleE9mKFwiY2hyb21lXCIpPDAmJnQuaW5kZXhPZihcImFuZHJvaWRcIik8MH0oKSxpc1dlYlZpZXc6LyhpUGhvbmV8aVBvZHxpUGFkKS4qQXBwbGVXZWJLaXQoPyEuKlNhZmFyaSkvaS50ZXN0KGUubmF2aWdhdG9yLnVzZXJBZ2VudCl9fSgpKSx4fU9iamVjdC5rZXlzKGMpLmZvckVhY2goKGU9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZC5mbixlLHt2YWx1ZTpjW2VdLHdyaXRhYmxlOiEwfSl9KSk7dmFyIEM9e29uKGUsdCxzKXtjb25zdCBhPXRoaXM7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdClyZXR1cm4gYTtjb25zdCBpPXM/XCJ1bnNoaWZ0XCI6XCJwdXNoXCI7cmV0dXJuIGUuc3BsaXQoXCIgXCIpLmZvckVhY2goKGU9PnthLmV2ZW50c0xpc3RlbmVyc1tlXXx8KGEuZXZlbnRzTGlzdGVuZXJzW2VdPVtdKSxhLmV2ZW50c0xpc3RlbmVyc1tlXVtpXSh0KX0pKSxhfSxvbmNlKGUsdCxzKXtjb25zdCBhPXRoaXM7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdClyZXR1cm4gYTtmdW5jdGlvbiBpKC4uLnMpe2Eub2ZmKGUsaSksaS5fX2VtaXR0ZXJQcm94eSYmZGVsZXRlIGkuX19lbWl0dGVyUHJveHksdC5hcHBseShhLHMpfXJldHVybiBpLl9fZW1pdHRlclByb3h5PXQsYS5vbihlLGkscyl9LG9uQW55KGUsdCl7Y29uc3Qgcz10aGlzO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJuIHM7Y29uc3QgYT10P1widW5zaGlmdFwiOlwicHVzaFwiO3JldHVybiBzLmV2ZW50c0FueUxpc3RlbmVycy5pbmRleE9mKGUpPDAmJnMuZXZlbnRzQW55TGlzdGVuZXJzW2FdKGUpLHN9LG9mZkFueShlKXtjb25zdCB0PXRoaXM7aWYoIXQuZXZlbnRzQW55TGlzdGVuZXJzKXJldHVybiB0O2NvbnN0IHM9dC5ldmVudHNBbnlMaXN0ZW5lcnMuaW5kZXhPZihlKTtyZXR1cm4gcz49MCYmdC5ldmVudHNBbnlMaXN0ZW5lcnMuc3BsaWNlKHMsMSksdH0sb2ZmKGUsdCl7Y29uc3Qgcz10aGlzO3JldHVybiBzLmV2ZW50c0xpc3RlbmVycz8oZS5zcGxpdChcIiBcIikuZm9yRWFjaCgoZT0+e3ZvaWQgMD09PXQ/cy5ldmVudHNMaXN0ZW5lcnNbZV09W106cy5ldmVudHNMaXN0ZW5lcnNbZV0mJnMuZXZlbnRzTGlzdGVuZXJzW2VdLmZvckVhY2goKChhLGkpPT57KGE9PT10fHxhLl9fZW1pdHRlclByb3h5JiZhLl9fZW1pdHRlclByb3h5PT09dCkmJnMuZXZlbnRzTGlzdGVuZXJzW2VdLnNwbGljZShpLDEpfSkpfSkpLHMpOnN9LGVtaXQoLi4uZSl7Y29uc3QgdD10aGlzO2lmKCF0LmV2ZW50c0xpc3RlbmVycylyZXR1cm4gdDtsZXQgcyxhLGk7XCJzdHJpbmdcIj09dHlwZW9mIGVbMF18fEFycmF5LmlzQXJyYXkoZVswXSk/KHM9ZVswXSxhPWUuc2xpY2UoMSxlLmxlbmd0aCksaT10KToocz1lWzBdLmV2ZW50cyxhPWVbMF0uZGF0YSxpPWVbMF0uY29udGV4dHx8dCksYS51bnNoaWZ0KGkpO3JldHVybihBcnJheS5pc0FycmF5KHMpP3M6cy5zcGxpdChcIiBcIikpLmZvckVhY2goKGU9Pnt0LmV2ZW50c0FueUxpc3RlbmVycyYmdC5ldmVudHNBbnlMaXN0ZW5lcnMubGVuZ3RoJiZ0LmV2ZW50c0FueUxpc3RlbmVycy5mb3JFYWNoKCh0PT57dC5hcHBseShpLFtlLC4uLmFdKX0pKSx0LmV2ZW50c0xpc3RlbmVycyYmdC5ldmVudHNMaXN0ZW5lcnNbZV0mJnQuZXZlbnRzTGlzdGVuZXJzW2VdLmZvckVhY2goKGU9PntlLmFwcGx5KGksYSl9KSl9KSksdH19O2Z1bmN0aW9uICQoe3N3aXBlcjplLHJ1bkNhbGxiYWNrczp0LGRpcmVjdGlvbjpzLHN0ZXA6YX0pe2NvbnN0e2FjdGl2ZUluZGV4OmkscHJldmlvdXNJbmRleDpyfT1lO2xldCBuPXM7aWYobnx8KG49aT5yP1wibmV4dFwiOmk8cj9cInByZXZcIjpcInJlc2V0XCIpLGUuZW1pdChgdHJhbnNpdGlvbiR7YX1gKSx0JiZpIT09cil7aWYoXCJyZXNldFwiPT09bilyZXR1cm4gdm9pZCBlLmVtaXQoYHNsaWRlUmVzZXRUcmFuc2l0aW9uJHthfWApO2UuZW1pdChgc2xpZGVDaGFuZ2VUcmFuc2l0aW9uJHthfWApLFwibmV4dFwiPT09bj9lLmVtaXQoYHNsaWRlTmV4dFRyYW5zaXRpb24ke2F9YCk6ZS5lbWl0KGBzbGlkZVByZXZUcmFuc2l0aW9uJHthfWApfX1mdW5jdGlvbiBTKGUpe2NvbnN0IHQ9dGhpcyxzPWEoKSxpPXIoKSxuPXQudG91Y2hFdmVudHNEYXRhLHtwYXJhbXM6bCx0b3VjaGVzOm8sZW5hYmxlZDpjfT10O2lmKCFjKXJldHVybjtpZih0LmFuaW1hdGluZyYmbC5wcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb24pcmV0dXJuOyF0LmFuaW1hdGluZyYmbC5jc3NNb2RlJiZsLmxvb3AmJnQubG9vcEZpeCgpO2xldCBwPWU7cC5vcmlnaW5hbEV2ZW50JiYocD1wLm9yaWdpbmFsRXZlbnQpO2xldCBoPWQocC50YXJnZXQpO2lmKFwid3JhcHBlclwiPT09bC50b3VjaEV2ZW50c1RhcmdldCYmIWguY2xvc2VzdCh0LndyYXBwZXJFbCkubGVuZ3RoKXJldHVybjtpZihuLmlzVG91Y2hFdmVudD1cInRvdWNoc3RhcnRcIj09PXAudHlwZSwhbi5pc1RvdWNoRXZlbnQmJlwid2hpY2hcImluIHAmJjM9PT1wLndoaWNoKXJldHVybjtpZighbi5pc1RvdWNoRXZlbnQmJlwiYnV0dG9uXCJpbiBwJiZwLmJ1dHRvbj4wKXJldHVybjtpZihuLmlzVG91Y2hlZCYmbi5pc01vdmVkKXJldHVybjshIWwubm9Td2lwaW5nQ2xhc3MmJlwiXCIhPT1sLm5vU3dpcGluZ0NsYXNzJiZwLnRhcmdldCYmcC50YXJnZXQuc2hhZG93Um9vdCYmZS5wYXRoJiZlLnBhdGhbMF0mJihoPWQoZS5wYXRoWzBdKSk7Y29uc3QgbT1sLm5vU3dpcGluZ1NlbGVjdG9yP2wubm9Td2lwaW5nU2VsZWN0b3I6YC4ke2wubm9Td2lwaW5nQ2xhc3N9YCxmPSEoIXAudGFyZ2V0fHwhcC50YXJnZXQuc2hhZG93Um9vdCk7aWYobC5ub1N3aXBpbmcmJihmP2Z1bmN0aW9uKGUsdD10aGlzKXtyZXR1cm4gZnVuY3Rpb24gdChzKXtyZXR1cm4gcyYmcyE9PWEoKSYmcyE9PXIoKT8ocy5hc3NpZ25lZFNsb3QmJihzPXMuYXNzaWduZWRTbG90KSxzLmNsb3Nlc3QoZSl8fHQocy5nZXRSb290Tm9kZSgpLmhvc3QpKTpudWxsfSh0KX0obSxwLnRhcmdldCk6aC5jbG9zZXN0KG0pWzBdKSlyZXR1cm4gdm9pZCh0LmFsbG93Q2xpY2s9ITApO2lmKGwuc3dpcGVIYW5kbGVyJiYhaC5jbG9zZXN0KGwuc3dpcGVIYW5kbGVyKVswXSlyZXR1cm47by5jdXJyZW50WD1cInRvdWNoc3RhcnRcIj09PXAudHlwZT9wLnRhcmdldFRvdWNoZXNbMF0ucGFnZVg6cC5wYWdlWCxvLmN1cnJlbnRZPVwidG91Y2hzdGFydFwiPT09cC50eXBlP3AudGFyZ2V0VG91Y2hlc1swXS5wYWdlWTpwLnBhZ2VZO2NvbnN0IGc9by5jdXJyZW50WCx2PW8uY3VycmVudFksdz1sLmVkZ2VTd2lwZURldGVjdGlvbnx8bC5pT1NFZGdlU3dpcGVEZXRlY3Rpb24sYj1sLmVkZ2VTd2lwZVRocmVzaG9sZHx8bC5pT1NFZGdlU3dpcGVUaHJlc2hvbGQ7aWYodyYmKGc8PWJ8fGc+PWkuaW5uZXJXaWR0aC1iKSl7aWYoXCJwcmV2ZW50XCIhPT13KXJldHVybjtlLnByZXZlbnREZWZhdWx0KCl9aWYoT2JqZWN0LmFzc2lnbihuLHtpc1RvdWNoZWQ6ITAsaXNNb3ZlZDohMSxhbGxvd1RvdWNoQ2FsbGJhY2tzOiEwLGlzU2Nyb2xsaW5nOnZvaWQgMCxzdGFydE1vdmluZzp2b2lkIDB9KSxvLnN0YXJ0WD1nLG8uc3RhcnRZPXYsbi50b3VjaFN0YXJ0VGltZT11KCksdC5hbGxvd0NsaWNrPSEwLHQudXBkYXRlU2l6ZSgpLHQuc3dpcGVEaXJlY3Rpb249dm9pZCAwLGwudGhyZXNob2xkPjAmJihuLmFsbG93VGhyZXNob2xkTW92ZT0hMSksXCJ0b3VjaHN0YXJ0XCIhPT1wLnR5cGUpe2xldCBlPSEwO2guaXMobi5mb2N1c2FibGVFbGVtZW50cykmJihlPSExKSxzLmFjdGl2ZUVsZW1lbnQmJmQocy5hY3RpdmVFbGVtZW50KS5pcyhuLmZvY3VzYWJsZUVsZW1lbnRzKSYmcy5hY3RpdmVFbGVtZW50IT09aFswXSYmcy5hY3RpdmVFbGVtZW50LmJsdXIoKTtjb25zdCBhPWUmJnQuYWxsb3dUb3VjaE1vdmUmJmwudG91Y2hTdGFydFByZXZlbnREZWZhdWx0OyFsLnRvdWNoU3RhcnRGb3JjZVByZXZlbnREZWZhdWx0JiYhYXx8aFswXS5pc0NvbnRlbnRFZGl0YWJsZXx8cC5wcmV2ZW50RGVmYXVsdCgpfXQuZW1pdChcInRvdWNoU3RhcnRcIixwKX1mdW5jdGlvbiBNKGUpe2NvbnN0IHQ9YSgpLHM9dGhpcyxpPXMudG91Y2hFdmVudHNEYXRhLHtwYXJhbXM6cix0b3VjaGVzOm4scnRsVHJhbnNsYXRlOmwsZW5hYmxlZDpvfT1zO2lmKCFvKXJldHVybjtsZXQgYz1lO2lmKGMub3JpZ2luYWxFdmVudCYmKGM9Yy5vcmlnaW5hbEV2ZW50KSwhaS5pc1RvdWNoZWQpcmV0dXJuIHZvaWQoaS5zdGFydE1vdmluZyYmaS5pc1Njcm9sbGluZyYmcy5lbWl0KFwidG91Y2hNb3ZlT3Bwb3NpdGVcIixjKSk7aWYoaS5pc1RvdWNoRXZlbnQmJlwidG91Y2htb3ZlXCIhPT1jLnR5cGUpcmV0dXJuO2NvbnN0IHA9XCJ0b3VjaG1vdmVcIj09PWMudHlwZSYmYy50YXJnZXRUb3VjaGVzJiYoYy50YXJnZXRUb3VjaGVzWzBdfHxjLmNoYW5nZWRUb3VjaGVzWzBdKSxoPVwidG91Y2htb3ZlXCI9PT1jLnR5cGU/cC5wYWdlWDpjLnBhZ2VYLG09XCJ0b3VjaG1vdmVcIj09PWMudHlwZT9wLnBhZ2VZOmMucGFnZVk7aWYoYy5wcmV2ZW50ZWRCeU5lc3RlZFN3aXBlcilyZXR1cm4gbi5zdGFydFg9aCx2b2lkKG4uc3RhcnRZPW0pO2lmKCFzLmFsbG93VG91Y2hNb3ZlKXJldHVybiBzLmFsbG93Q2xpY2s9ITEsdm9pZChpLmlzVG91Y2hlZCYmKE9iamVjdC5hc3NpZ24obix7c3RhcnRYOmgsc3RhcnRZOm0sY3VycmVudFg6aCxjdXJyZW50WTptfSksaS50b3VjaFN0YXJ0VGltZT11KCkpKTtpZihpLmlzVG91Y2hFdmVudCYmci50b3VjaFJlbGVhc2VPbkVkZ2VzJiYhci5sb29wKWlmKHMuaXNWZXJ0aWNhbCgpKXtpZihtPG4uc3RhcnRZJiZzLnRyYW5zbGF0ZTw9cy5tYXhUcmFuc2xhdGUoKXx8bT5uLnN0YXJ0WSYmcy50cmFuc2xhdGU+PXMubWluVHJhbnNsYXRlKCkpcmV0dXJuIGkuaXNUb3VjaGVkPSExLHZvaWQoaS5pc01vdmVkPSExKX1lbHNlIGlmKGg8bi5zdGFydFgmJnMudHJhbnNsYXRlPD1zLm1heFRyYW5zbGF0ZSgpfHxoPm4uc3RhcnRYJiZzLnRyYW5zbGF0ZT49cy5taW5UcmFuc2xhdGUoKSlyZXR1cm47aWYoaS5pc1RvdWNoRXZlbnQmJnQuYWN0aXZlRWxlbWVudCYmYy50YXJnZXQ9PT10LmFjdGl2ZUVsZW1lbnQmJmQoYy50YXJnZXQpLmlzKGkuZm9jdXNhYmxlRWxlbWVudHMpKXJldHVybiBpLmlzTW92ZWQ9ITAsdm9pZChzLmFsbG93Q2xpY2s9ITEpO2lmKGkuYWxsb3dUb3VjaENhbGxiYWNrcyYmcy5lbWl0KFwidG91Y2hNb3ZlXCIsYyksYy50YXJnZXRUb3VjaGVzJiZjLnRhcmdldFRvdWNoZXMubGVuZ3RoPjEpcmV0dXJuO24uY3VycmVudFg9aCxuLmN1cnJlbnRZPW07Y29uc3QgZj1uLmN1cnJlbnRYLW4uc3RhcnRYLGc9bi5jdXJyZW50WS1uLnN0YXJ0WTtpZihzLnBhcmFtcy50aHJlc2hvbGQmJk1hdGguc3FydChmKioyK2cqKjIpPHMucGFyYW1zLnRocmVzaG9sZClyZXR1cm47aWYodm9pZCAwPT09aS5pc1Njcm9sbGluZyl7bGV0IGU7cy5pc0hvcml6b250YWwoKSYmbi5jdXJyZW50WT09PW4uc3RhcnRZfHxzLmlzVmVydGljYWwoKSYmbi5jdXJyZW50WD09PW4uc3RhcnRYP2kuaXNTY3JvbGxpbmc9ITE6ZipmK2cqZz49MjUmJihlPTE4MCpNYXRoLmF0YW4yKE1hdGguYWJzKGcpLE1hdGguYWJzKGYpKS9NYXRoLlBJLGkuaXNTY3JvbGxpbmc9cy5pc0hvcml6b250YWwoKT9lPnIudG91Y2hBbmdsZTo5MC1lPnIudG91Y2hBbmdsZSl9aWYoaS5pc1Njcm9sbGluZyYmcy5lbWl0KFwidG91Y2hNb3ZlT3Bwb3NpdGVcIixjKSx2b2lkIDA9PT1pLnN0YXJ0TW92aW5nJiYobi5jdXJyZW50WD09PW4uc3RhcnRYJiZuLmN1cnJlbnRZPT09bi5zdGFydFl8fChpLnN0YXJ0TW92aW5nPSEwKSksaS5pc1Njcm9sbGluZylyZXR1cm4gdm9pZChpLmlzVG91Y2hlZD0hMSk7aWYoIWkuc3RhcnRNb3ZpbmcpcmV0dXJuO3MuYWxsb3dDbGljaz0hMSwhci5jc3NNb2RlJiZjLmNhbmNlbGFibGUmJmMucHJldmVudERlZmF1bHQoKSxyLnRvdWNoTW92ZVN0b3BQcm9wYWdhdGlvbiYmIXIubmVzdGVkJiZjLnN0b3BQcm9wYWdhdGlvbigpLGkuaXNNb3ZlZHx8KHIubG9vcCYmIXIuY3NzTW9kZSYmcy5sb29wRml4KCksaS5zdGFydFRyYW5zbGF0ZT1zLmdldFRyYW5zbGF0ZSgpLHMuc2V0VHJhbnNpdGlvbigwKSxzLmFuaW1hdGluZyYmcy4kd3JhcHBlckVsLnRyaWdnZXIoXCJ3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmRcIiksaS5hbGxvd01vbWVudHVtQm91bmNlPSExLCFyLmdyYWJDdXJzb3J8fCEwIT09cy5hbGxvd1NsaWRlTmV4dCYmITAhPT1zLmFsbG93U2xpZGVQcmV2fHxzLnNldEdyYWJDdXJzb3IoITApLHMuZW1pdChcInNsaWRlckZpcnN0TW92ZVwiLGMpKSxzLmVtaXQoXCJzbGlkZXJNb3ZlXCIsYyksaS5pc01vdmVkPSEwO2xldCB2PXMuaXNIb3Jpem9udGFsKCk/ZjpnO24uZGlmZj12LHYqPXIudG91Y2hSYXRpbyxsJiYodj0tdikscy5zd2lwZURpcmVjdGlvbj12PjA/XCJwcmV2XCI6XCJuZXh0XCIsaS5jdXJyZW50VHJhbnNsYXRlPXYraS5zdGFydFRyYW5zbGF0ZTtsZXQgdz0hMCxiPXIucmVzaXN0YW5jZVJhdGlvO2lmKHIudG91Y2hSZWxlYXNlT25FZGdlcyYmKGI9MCksdj4wJiZpLmN1cnJlbnRUcmFuc2xhdGU+cy5taW5UcmFuc2xhdGUoKT8odz0hMSxyLnJlc2lzdGFuY2UmJihpLmN1cnJlbnRUcmFuc2xhdGU9cy5taW5UcmFuc2xhdGUoKS0xKygtcy5taW5UcmFuc2xhdGUoKStpLnN0YXJ0VHJhbnNsYXRlK3YpKipiKSk6djwwJiZpLmN1cnJlbnRUcmFuc2xhdGU8cy5tYXhUcmFuc2xhdGUoKSYmKHc9ITEsci5yZXNpc3RhbmNlJiYoaS5jdXJyZW50VHJhbnNsYXRlPXMubWF4VHJhbnNsYXRlKCkrMS0ocy5tYXhUcmFuc2xhdGUoKS1pLnN0YXJ0VHJhbnNsYXRlLXYpKipiKSksdyYmKGMucHJldmVudGVkQnlOZXN0ZWRTd2lwZXI9ITApLCFzLmFsbG93U2xpZGVOZXh0JiZcIm5leHRcIj09PXMuc3dpcGVEaXJlY3Rpb24mJmkuY3VycmVudFRyYW5zbGF0ZTxpLnN0YXJ0VHJhbnNsYXRlJiYoaS5jdXJyZW50VHJhbnNsYXRlPWkuc3RhcnRUcmFuc2xhdGUpLCFzLmFsbG93U2xpZGVQcmV2JiZcInByZXZcIj09PXMuc3dpcGVEaXJlY3Rpb24mJmkuY3VycmVudFRyYW5zbGF0ZT5pLnN0YXJ0VHJhbnNsYXRlJiYoaS5jdXJyZW50VHJhbnNsYXRlPWkuc3RhcnRUcmFuc2xhdGUpLHMuYWxsb3dTbGlkZVByZXZ8fHMuYWxsb3dTbGlkZU5leHR8fChpLmN1cnJlbnRUcmFuc2xhdGU9aS5zdGFydFRyYW5zbGF0ZSksci50aHJlc2hvbGQ+MCl7aWYoIShNYXRoLmFicyh2KT5yLnRocmVzaG9sZHx8aS5hbGxvd1RocmVzaG9sZE1vdmUpKXJldHVybiB2b2lkKGkuY3VycmVudFRyYW5zbGF0ZT1pLnN0YXJ0VHJhbnNsYXRlKTtpZighaS5hbGxvd1RocmVzaG9sZE1vdmUpcmV0dXJuIGkuYWxsb3dUaHJlc2hvbGRNb3ZlPSEwLG4uc3RhcnRYPW4uY3VycmVudFgsbi5zdGFydFk9bi5jdXJyZW50WSxpLmN1cnJlbnRUcmFuc2xhdGU9aS5zdGFydFRyYW5zbGF0ZSx2b2lkKG4uZGlmZj1zLmlzSG9yaXpvbnRhbCgpP24uY3VycmVudFgtbi5zdGFydFg6bi5jdXJyZW50WS1uLnN0YXJ0WSl9ci5mb2xsb3dGaW5nZXImJiFyLmNzc01vZGUmJigoci5mcmVlTW9kZSYmci5mcmVlTW9kZS5lbmFibGVkJiZzLmZyZWVNb2RlfHxyLndhdGNoU2xpZGVzUHJvZ3Jlc3MpJiYocy51cGRhdGVBY3RpdmVJbmRleCgpLHMudXBkYXRlU2xpZGVzQ2xhc3NlcygpKSxzLnBhcmFtcy5mcmVlTW9kZSYmci5mcmVlTW9kZS5lbmFibGVkJiZzLmZyZWVNb2RlJiZzLmZyZWVNb2RlLm9uVG91Y2hNb3ZlKCkscy51cGRhdGVQcm9ncmVzcyhpLmN1cnJlbnRUcmFuc2xhdGUpLHMuc2V0VHJhbnNsYXRlKGkuY3VycmVudFRyYW5zbGF0ZSkpfWZ1bmN0aW9uIFAoZSl7Y29uc3QgdD10aGlzLHM9dC50b3VjaEV2ZW50c0RhdGEse3BhcmFtczphLHRvdWNoZXM6aSxydGxUcmFuc2xhdGU6cixzbGlkZXNHcmlkOm4sZW5hYmxlZDpsfT10O2lmKCFsKXJldHVybjtsZXQgbz1lO2lmKG8ub3JpZ2luYWxFdmVudCYmKG89by5vcmlnaW5hbEV2ZW50KSxzLmFsbG93VG91Y2hDYWxsYmFja3MmJnQuZW1pdChcInRvdWNoRW5kXCIsbykscy5hbGxvd1RvdWNoQ2FsbGJhY2tzPSExLCFzLmlzVG91Y2hlZClyZXR1cm4gcy5pc01vdmVkJiZhLmdyYWJDdXJzb3ImJnQuc2V0R3JhYkN1cnNvcighMSkscy5pc01vdmVkPSExLHZvaWQocy5zdGFydE1vdmluZz0hMSk7YS5ncmFiQ3Vyc29yJiZzLmlzTW92ZWQmJnMuaXNUb3VjaGVkJiYoITA9PT10LmFsbG93U2xpZGVOZXh0fHwhMD09PXQuYWxsb3dTbGlkZVByZXYpJiZ0LnNldEdyYWJDdXJzb3IoITEpO2NvbnN0IGQ9dSgpLGM9ZC1zLnRvdWNoU3RhcnRUaW1lO2lmKHQuYWxsb3dDbGljayYmKHQudXBkYXRlQ2xpY2tlZFNsaWRlKG8pLHQuZW1pdChcInRhcCBjbGlja1wiLG8pLGM8MzAwJiZkLXMubGFzdENsaWNrVGltZTwzMDAmJnQuZW1pdChcImRvdWJsZVRhcCBkb3VibGVDbGlja1wiLG8pKSxzLmxhc3RDbGlja1RpbWU9dSgpLHAoKCgpPT57dC5kZXN0cm95ZWR8fCh0LmFsbG93Q2xpY2s9ITApfSkpLCFzLmlzVG91Y2hlZHx8IXMuaXNNb3ZlZHx8IXQuc3dpcGVEaXJlY3Rpb258fDA9PT1pLmRpZmZ8fHMuY3VycmVudFRyYW5zbGF0ZT09PXMuc3RhcnRUcmFuc2xhdGUpcmV0dXJuIHMuaXNUb3VjaGVkPSExLHMuaXNNb3ZlZD0hMSx2b2lkKHMuc3RhcnRNb3Zpbmc9ITEpO2xldCBoO2lmKHMuaXNUb3VjaGVkPSExLHMuaXNNb3ZlZD0hMSxzLnN0YXJ0TW92aW5nPSExLGg9YS5mb2xsb3dGaW5nZXI/cj90LnRyYW5zbGF0ZTotdC50cmFuc2xhdGU6LXMuY3VycmVudFRyYW5zbGF0ZSxhLmNzc01vZGUpcmV0dXJuO2lmKHQucGFyYW1zLmZyZWVNb2RlJiZhLmZyZWVNb2RlLmVuYWJsZWQpcmV0dXJuIHZvaWQgdC5mcmVlTW9kZS5vblRvdWNoRW5kKHtjdXJyZW50UG9zOmh9KTtsZXQgbT0wLGY9dC5zbGlkZXNTaXplc0dyaWRbMF07Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKz1lPGEuc2xpZGVzUGVyR3JvdXBTa2lwPzE6YS5zbGlkZXNQZXJHcm91cCl7Y29uc3QgdD1lPGEuc2xpZGVzUGVyR3JvdXBTa2lwLTE/MTphLnNsaWRlc1Blckdyb3VwO3ZvaWQgMCE9PW5bZSt0XT9oPj1uW2VdJiZoPG5bZSt0XSYmKG09ZSxmPW5bZSt0XS1uW2VdKTpoPj1uW2VdJiYobT1lLGY9bltuLmxlbmd0aC0xXS1uW24ubGVuZ3RoLTJdKX1jb25zdCBnPShoLW5bbV0pL2Ysdj1tPGEuc2xpZGVzUGVyR3JvdXBTa2lwLTE/MTphLnNsaWRlc1Blckdyb3VwO2lmKGM+YS5sb25nU3dpcGVzTXMpe2lmKCFhLmxvbmdTd2lwZXMpcmV0dXJuIHZvaWQgdC5zbGlkZVRvKHQuYWN0aXZlSW5kZXgpO1wibmV4dFwiPT09dC5zd2lwZURpcmVjdGlvbiYmKGc+PWEubG9uZ1N3aXBlc1JhdGlvP3Quc2xpZGVUbyhtK3YpOnQuc2xpZGVUbyhtKSksXCJwcmV2XCI9PT10LnN3aXBlRGlyZWN0aW9uJiYoZz4xLWEubG9uZ1N3aXBlc1JhdGlvP3Quc2xpZGVUbyhtK3YpOnQuc2xpZGVUbyhtKSl9ZWxzZXtpZighYS5zaG9ydFN3aXBlcylyZXR1cm4gdm9pZCB0LnNsaWRlVG8odC5hY3RpdmVJbmRleCk7dC5uYXZpZ2F0aW9uJiYoby50YXJnZXQ9PT10Lm5hdmlnYXRpb24ubmV4dEVsfHxvLnRhcmdldD09PXQubmF2aWdhdGlvbi5wcmV2RWwpP28udGFyZ2V0PT09dC5uYXZpZ2F0aW9uLm5leHRFbD90LnNsaWRlVG8obSt2KTp0LnNsaWRlVG8obSk6KFwibmV4dFwiPT09dC5zd2lwZURpcmVjdGlvbiYmdC5zbGlkZVRvKG0rdiksXCJwcmV2XCI9PT10LnN3aXBlRGlyZWN0aW9uJiZ0LnNsaWRlVG8obSkpfX1mdW5jdGlvbiBrKCl7Y29uc3QgZT10aGlzLHtwYXJhbXM6dCxlbDpzfT1lO2lmKHMmJjA9PT1zLm9mZnNldFdpZHRoKXJldHVybjt0LmJyZWFrcG9pbnRzJiZlLnNldEJyZWFrcG9pbnQoKTtjb25zdHthbGxvd1NsaWRlTmV4dDphLGFsbG93U2xpZGVQcmV2Omksc25hcEdyaWQ6cn09ZTtlLmFsbG93U2xpZGVOZXh0PSEwLGUuYWxsb3dTbGlkZVByZXY9ITAsZS51cGRhdGVTaXplKCksZS51cGRhdGVTbGlkZXMoKSxlLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKSwoXCJhdXRvXCI9PT10LnNsaWRlc1BlclZpZXd8fHQuc2xpZGVzUGVyVmlldz4xKSYmZS5pc0VuZCYmIWUuaXNCZWdpbm5pbmcmJiFlLnBhcmFtcy5jZW50ZXJlZFNsaWRlcz9lLnNsaWRlVG8oZS5zbGlkZXMubGVuZ3RoLTEsMCwhMSwhMCk6ZS5zbGlkZVRvKGUuYWN0aXZlSW5kZXgsMCwhMSwhMCksZS5hdXRvcGxheSYmZS5hdXRvcGxheS5ydW5uaW5nJiZlLmF1dG9wbGF5LnBhdXNlZCYmZS5hdXRvcGxheS5ydW4oKSxlLmFsbG93U2xpZGVQcmV2PWksZS5hbGxvd1NsaWRlTmV4dD1hLGUucGFyYW1zLndhdGNoT3ZlcmZsb3cmJnIhPT1lLnNuYXBHcmlkJiZlLmNoZWNrT3ZlcmZsb3coKX1mdW5jdGlvbiB6KGUpe2NvbnN0IHQ9dGhpczt0LmVuYWJsZWQmJih0LmFsbG93Q2xpY2t8fCh0LnBhcmFtcy5wcmV2ZW50Q2xpY2tzJiZlLnByZXZlbnREZWZhdWx0KCksdC5wYXJhbXMucHJldmVudENsaWNrc1Byb3BhZ2F0aW9uJiZ0LmFuaW1hdGluZyYmKGUuc3RvcFByb3BhZ2F0aW9uKCksZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSkpKX1mdW5jdGlvbiBPKCl7Y29uc3QgZT10aGlzLHt3cmFwcGVyRWw6dCxydGxUcmFuc2xhdGU6cyxlbmFibGVkOmF9PWU7aWYoIWEpcmV0dXJuO2xldCBpO2UucHJldmlvdXNUcmFuc2xhdGU9ZS50cmFuc2xhdGUsZS5pc0hvcml6b250YWwoKT9lLnRyYW5zbGF0ZT0tdC5zY3JvbGxMZWZ0OmUudHJhbnNsYXRlPS10LnNjcm9sbFRvcCwtMD09PWUudHJhbnNsYXRlJiYoZS50cmFuc2xhdGU9MCksZS51cGRhdGVBY3RpdmVJbmRleCgpLGUudXBkYXRlU2xpZGVzQ2xhc3NlcygpO2NvbnN0IHI9ZS5tYXhUcmFuc2xhdGUoKS1lLm1pblRyYW5zbGF0ZSgpO2k9MD09PXI/MDooZS50cmFuc2xhdGUtZS5taW5UcmFuc2xhdGUoKSkvcixpIT09ZS5wcm9ncmVzcyYmZS51cGRhdGVQcm9ncmVzcyhzPy1lLnRyYW5zbGF0ZTplLnRyYW5zbGF0ZSksZS5lbWl0KFwic2V0VHJhbnNsYXRlXCIsZS50cmFuc2xhdGUsITEpfWxldCBJPSExO2Z1bmN0aW9uIEwoKXt9Y29uc3QgQT0oZSx0KT0+e2NvbnN0IHM9YSgpLHtwYXJhbXM6aSx0b3VjaEV2ZW50czpyLGVsOm4sd3JhcHBlckVsOmwsZGV2aWNlOm8sc3VwcG9ydDpkfT1lLGM9ISFpLm5lc3RlZCxwPVwib25cIj09PXQ/XCJhZGRFdmVudExpc3RlbmVyXCI6XCJyZW1vdmVFdmVudExpc3RlbmVyXCIsdT10O2lmKGQudG91Y2gpe2NvbnN0IHQ9IShcInRvdWNoc3RhcnRcIiE9PXIuc3RhcnR8fCFkLnBhc3NpdmVMaXN0ZW5lcnx8IWkucGFzc2l2ZUxpc3RlbmVycykmJntwYXNzaXZlOiEwLGNhcHR1cmU6ITF9O25bcF0oci5zdGFydCxlLm9uVG91Y2hTdGFydCx0KSxuW3BdKHIubW92ZSxlLm9uVG91Y2hNb3ZlLGQucGFzc2l2ZUxpc3RlbmVyP3twYXNzaXZlOiExLGNhcHR1cmU6Y306YyksbltwXShyLmVuZCxlLm9uVG91Y2hFbmQsdCksci5jYW5jZWwmJm5bcF0oci5jYW5jZWwsZS5vblRvdWNoRW5kLHQpfWVsc2UgbltwXShyLnN0YXJ0LGUub25Ub3VjaFN0YXJ0LCExKSxzW3BdKHIubW92ZSxlLm9uVG91Y2hNb3ZlLGMpLHNbcF0oci5lbmQsZS5vblRvdWNoRW5kLCExKTsoaS5wcmV2ZW50Q2xpY2tzfHxpLnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbikmJm5bcF0oXCJjbGlja1wiLGUub25DbGljaywhMCksaS5jc3NNb2RlJiZsW3BdKFwic2Nyb2xsXCIsZS5vblNjcm9sbCksaS51cGRhdGVPbldpbmRvd1Jlc2l6ZT9lW3VdKG8uaW9zfHxvLmFuZHJvaWQ/XCJyZXNpemUgb3JpZW50YXRpb25jaGFuZ2Ugb2JzZXJ2ZXJVcGRhdGVcIjpcInJlc2l6ZSBvYnNlcnZlclVwZGF0ZVwiLGssITApOmVbdV0oXCJvYnNlcnZlclVwZGF0ZVwiLGssITApfTtjb25zdCBEPShlLHQpPT5lLmdyaWQmJnQuZ3JpZCYmdC5ncmlkLnJvd3M+MTt2YXIgRz17aW5pdDohMCxkaXJlY3Rpb246XCJob3Jpem9udGFsXCIsdG91Y2hFdmVudHNUYXJnZXQ6XCJ3cmFwcGVyXCIsaW5pdGlhbFNsaWRlOjAsc3BlZWQ6MzAwLGNzc01vZGU6ITEsdXBkYXRlT25XaW5kb3dSZXNpemU6ITAscmVzaXplT2JzZXJ2ZXI6ITAsbmVzdGVkOiExLGNyZWF0ZUVsZW1lbnRzOiExLGVuYWJsZWQ6ITAsZm9jdXNhYmxlRWxlbWVudHM6XCJpbnB1dCwgc2VsZWN0LCBvcHRpb24sIHRleHRhcmVhLCBidXR0b24sIHZpZGVvLCBsYWJlbFwiLHdpZHRoOm51bGwsaGVpZ2h0Om51bGwscHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uOiExLHVzZXJBZ2VudDpudWxsLHVybDpudWxsLGVkZ2VTd2lwZURldGVjdGlvbjohMSxlZGdlU3dpcGVUaHJlc2hvbGQ6MjAsYXV0b0hlaWdodDohMSxzZXRXcmFwcGVyU2l6ZTohMSx2aXJ0dWFsVHJhbnNsYXRlOiExLGVmZmVjdDpcInNsaWRlXCIsYnJlYWtwb2ludHM6dm9pZCAwLGJyZWFrcG9pbnRzQmFzZTpcIndpbmRvd1wiLHNwYWNlQmV0d2VlbjowLHNsaWRlc1BlclZpZXc6MSxzbGlkZXNQZXJHcm91cDoxLHNsaWRlc1Blckdyb3VwU2tpcDowLHNsaWRlc1Blckdyb3VwQXV0bzohMSxjZW50ZXJlZFNsaWRlczohMSxjZW50ZXJlZFNsaWRlc0JvdW5kczohMSxzbGlkZXNPZmZzZXRCZWZvcmU6MCxzbGlkZXNPZmZzZXRBZnRlcjowLG5vcm1hbGl6ZVNsaWRlSW5kZXg6ITAsY2VudGVySW5zdWZmaWNpZW50U2xpZGVzOiExLHdhdGNoT3ZlcmZsb3c6ITAscm91bmRMZW5ndGhzOiExLHRvdWNoUmF0aW86MSx0b3VjaEFuZ2xlOjQ1LHNpbXVsYXRlVG91Y2g6ITAsc2hvcnRTd2lwZXM6ITAsbG9uZ1N3aXBlczohMCxsb25nU3dpcGVzUmF0aW86LjUsbG9uZ1N3aXBlc01zOjMwMCxmb2xsb3dGaW5nZXI6ITAsYWxsb3dUb3VjaE1vdmU6ITAsdGhyZXNob2xkOjAsdG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uOiExLHRvdWNoU3RhcnRQcmV2ZW50RGVmYXVsdDohMCx0b3VjaFN0YXJ0Rm9yY2VQcmV2ZW50RGVmYXVsdDohMSx0b3VjaFJlbGVhc2VPbkVkZ2VzOiExLHVuaXF1ZU5hdkVsZW1lbnRzOiEwLHJlc2lzdGFuY2U6ITAscmVzaXN0YW5jZVJhdGlvOi44NSx3YXRjaFNsaWRlc1Byb2dyZXNzOiExLGdyYWJDdXJzb3I6ITEscHJldmVudENsaWNrczohMCxwcmV2ZW50Q2xpY2tzUHJvcGFnYXRpb246ITAsc2xpZGVUb0NsaWNrZWRTbGlkZTohMSxwcmVsb2FkSW1hZ2VzOiEwLHVwZGF0ZU9uSW1hZ2VzUmVhZHk6ITAsbG9vcDohMSxsb29wQWRkaXRpb25hbFNsaWRlczowLGxvb3BlZFNsaWRlczpudWxsLGxvb3BGaWxsR3JvdXBXaXRoQmxhbms6ITEsbG9vcFByZXZlbnRzU2xpZGU6ITAsYWxsb3dTbGlkZVByZXY6ITAsYWxsb3dTbGlkZU5leHQ6ITAsc3dpcGVIYW5kbGVyOm51bGwsbm9Td2lwaW5nOiEwLG5vU3dpcGluZ0NsYXNzOlwic3dpcGVyLW5vLXN3aXBpbmdcIixub1N3aXBpbmdTZWxlY3RvcjpudWxsLHBhc3NpdmVMaXN0ZW5lcnM6ITAsY29udGFpbmVyTW9kaWZpZXJDbGFzczpcInN3aXBlci1cIixzbGlkZUNsYXNzOlwic3dpcGVyLXNsaWRlXCIsc2xpZGVCbGFua0NsYXNzOlwic3dpcGVyLXNsaWRlLWludmlzaWJsZS1ibGFua1wiLHNsaWRlQWN0aXZlQ2xhc3M6XCJzd2lwZXItc2xpZGUtYWN0aXZlXCIsc2xpZGVEdXBsaWNhdGVBY3RpdmVDbGFzczpcInN3aXBlci1zbGlkZS1kdXBsaWNhdGUtYWN0aXZlXCIsc2xpZGVWaXNpYmxlQ2xhc3M6XCJzd2lwZXItc2xpZGUtdmlzaWJsZVwiLHNsaWRlRHVwbGljYXRlQ2xhc3M6XCJzd2lwZXItc2xpZGUtZHVwbGljYXRlXCIsc2xpZGVOZXh0Q2xhc3M6XCJzd2lwZXItc2xpZGUtbmV4dFwiLHNsaWRlRHVwbGljYXRlTmV4dENsYXNzOlwic3dpcGVyLXNsaWRlLWR1cGxpY2F0ZS1uZXh0XCIsc2xpZGVQcmV2Q2xhc3M6XCJzd2lwZXItc2xpZGUtcHJldlwiLHNsaWRlRHVwbGljYXRlUHJldkNsYXNzOlwic3dpcGVyLXNsaWRlLWR1cGxpY2F0ZS1wcmV2XCIsd3JhcHBlckNsYXNzOlwic3dpcGVyLXdyYXBwZXJcIixydW5DYWxsYmFja3NPbkluaXQ6ITAsX2VtaXRDbGFzc2VzOiExfTtmdW5jdGlvbiBOKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHM9e30pe2NvbnN0IGE9T2JqZWN0LmtleXMocylbMF0saT1zW2FdO1wib2JqZWN0XCI9PXR5cGVvZiBpJiZudWxsIT09aT8oW1wibmF2aWdhdGlvblwiLFwicGFnaW5hdGlvblwiLFwic2Nyb2xsYmFyXCJdLmluZGV4T2YoYSk+PTAmJiEwPT09ZVthXSYmKGVbYV09e2F1dG86ITB9KSxhIGluIGUmJlwiZW5hYmxlZFwiaW4gaT8oITA9PT1lW2FdJiYoZVthXT17ZW5hYmxlZDohMH0pLFwib2JqZWN0XCIhPXR5cGVvZiBlW2FdfHxcImVuYWJsZWRcImluIGVbYV18fChlW2FdLmVuYWJsZWQ9ITApLGVbYV18fChlW2FdPXtlbmFibGVkOiExfSksZih0LHMpKTpmKHQscykpOmYodCxzKX19Y29uc3QgQj17ZXZlbnRzRW1pdHRlcjpDLHVwZGF0ZTp7dXBkYXRlU2l6ZTpmdW5jdGlvbigpe2NvbnN0IGU9dGhpcztsZXQgdCxzO2NvbnN0IGE9ZS4kZWw7dD12b2lkIDAhPT1lLnBhcmFtcy53aWR0aCYmbnVsbCE9PWUucGFyYW1zLndpZHRoP2UucGFyYW1zLndpZHRoOmFbMF0uY2xpZW50V2lkdGgscz12b2lkIDAhPT1lLnBhcmFtcy5oZWlnaHQmJm51bGwhPT1lLnBhcmFtcy5oZWlnaHQ/ZS5wYXJhbXMuaGVpZ2h0OmFbMF0uY2xpZW50SGVpZ2h0LDA9PT10JiZlLmlzSG9yaXpvbnRhbCgpfHwwPT09cyYmZS5pc1ZlcnRpY2FsKCl8fCh0PXQtcGFyc2VJbnQoYS5jc3MoXCJwYWRkaW5nLWxlZnRcIil8fDAsMTApLXBhcnNlSW50KGEuY3NzKFwicGFkZGluZy1yaWdodFwiKXx8MCwxMCkscz1zLXBhcnNlSW50KGEuY3NzKFwicGFkZGluZy10b3BcIil8fDAsMTApLXBhcnNlSW50KGEuY3NzKFwicGFkZGluZy1ib3R0b21cIil8fDAsMTApLE51bWJlci5pc05hTih0KSYmKHQ9MCksTnVtYmVyLmlzTmFOKHMpJiYocz0wKSxPYmplY3QuYXNzaWduKGUse3dpZHRoOnQsaGVpZ2h0OnMsc2l6ZTplLmlzSG9yaXpvbnRhbCgpP3Q6c30pKX0sdXBkYXRlU2xpZGVzOmZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzO2Z1bmN0aW9uIHQodCl7cmV0dXJuIGUuaXNIb3Jpem9udGFsKCk/dDp7d2lkdGg6XCJoZWlnaHRcIixcIm1hcmdpbi10b3BcIjpcIm1hcmdpbi1sZWZ0XCIsXCJtYXJnaW4tYm90dG9tIFwiOlwibWFyZ2luLXJpZ2h0XCIsXCJtYXJnaW4tbGVmdFwiOlwibWFyZ2luLXRvcFwiLFwibWFyZ2luLXJpZ2h0XCI6XCJtYXJnaW4tYm90dG9tXCIsXCJwYWRkaW5nLWxlZnRcIjpcInBhZGRpbmctdG9wXCIsXCJwYWRkaW5nLXJpZ2h0XCI6XCJwYWRkaW5nLWJvdHRvbVwiLG1hcmdpblJpZ2h0OlwibWFyZ2luQm90dG9tXCJ9W3RdfWZ1bmN0aW9uIHMoZSxzKXtyZXR1cm4gcGFyc2VGbG9hdChlLmdldFByb3BlcnR5VmFsdWUodChzKSl8fDApfWNvbnN0IGE9ZS5wYXJhbXMseyR3cmFwcGVyRWw6aSxzaXplOnIscnRsVHJhbnNsYXRlOm4sd3JvbmdSVEw6bH09ZSxvPWUudmlydHVhbCYmYS52aXJ0dWFsLmVuYWJsZWQsZD1vP2UudmlydHVhbC5zbGlkZXMubGVuZ3RoOmUuc2xpZGVzLmxlbmd0aCxjPWkuY2hpbGRyZW4oYC4ke2UucGFyYW1zLnNsaWRlQ2xhc3N9YCkscD1vP2UudmlydHVhbC5zbGlkZXMubGVuZ3RoOmMubGVuZ3RoO2xldCB1PVtdO2NvbnN0IGg9W10sbT1bXTtsZXQgZj1hLnNsaWRlc09mZnNldEJlZm9yZTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBmJiYoZj1hLnNsaWRlc09mZnNldEJlZm9yZS5jYWxsKGUpKTtsZXQgdj1hLnNsaWRlc09mZnNldEFmdGVyO1wiZnVuY3Rpb25cIj09dHlwZW9mIHYmJih2PWEuc2xpZGVzT2Zmc2V0QWZ0ZXIuY2FsbChlKSk7Y29uc3Qgdz1lLnNuYXBHcmlkLmxlbmd0aCxiPWUuc2xpZGVzR3JpZC5sZW5ndGg7bGV0IHg9YS5zcGFjZUJldHdlZW4seT0tZixFPTAsVD0wO2lmKHZvaWQgMD09PXIpcmV0dXJuO1wic3RyaW5nXCI9PXR5cGVvZiB4JiZ4LmluZGV4T2YoXCIlXCIpPj0wJiYoeD1wYXJzZUZsb2F0KHgucmVwbGFjZShcIiVcIixcIlwiKSkvMTAwKnIpLGUudmlydHVhbFNpemU9LXgsbj9jLmNzcyh7bWFyZ2luTGVmdDpcIlwiLG1hcmdpbkJvdHRvbTpcIlwiLG1hcmdpblRvcDpcIlwifSk6Yy5jc3Moe21hcmdpblJpZ2h0OlwiXCIsbWFyZ2luQm90dG9tOlwiXCIsbWFyZ2luVG9wOlwiXCJ9KSxhLmNlbnRlcmVkU2xpZGVzJiZhLmNzc01vZGUmJihnKGUud3JhcHBlckVsLFwiLS1zd2lwZXItY2VudGVyZWQtb2Zmc2V0LWJlZm9yZVwiLFwiXCIpLGcoZS53cmFwcGVyRWwsXCItLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYWZ0ZXJcIixcIlwiKSk7Y29uc3QgQz1hLmdyaWQmJmEuZ3JpZC5yb3dzPjEmJmUuZ3JpZDtsZXQgJDtDJiZlLmdyaWQuaW5pdFNsaWRlcyhwKTtjb25zdCBTPVwiYXV0b1wiPT09YS5zbGlkZXNQZXJWaWV3JiZhLmJyZWFrcG9pbnRzJiZPYmplY3Qua2V5cyhhLmJyZWFrcG9pbnRzKS5maWx0ZXIoKGU9PnZvaWQgMCE9PWEuYnJlYWtwb2ludHNbZV0uc2xpZGVzUGVyVmlldykpLmxlbmd0aD4wO2ZvcihsZXQgaT0wO2k8cDtpKz0xKXskPTA7Y29uc3Qgbj1jLmVxKGkpO2lmKEMmJmUuZ3JpZC51cGRhdGVTbGlkZShpLG4scCx0KSxcIm5vbmVcIiE9PW4uY3NzKFwiZGlzcGxheVwiKSl7aWYoXCJhdXRvXCI9PT1hLnNsaWRlc1BlclZpZXcpe1MmJihjW2ldLnN0eWxlW3QoXCJ3aWR0aFwiKV09XCJcIik7Y29uc3Qgcj1nZXRDb21wdXRlZFN0eWxlKG5bMF0pLGw9blswXS5zdHlsZS50cmFuc2Zvcm0sbz1uWzBdLnN0eWxlLndlYmtpdFRyYW5zZm9ybTtpZihsJiYoblswXS5zdHlsZS50cmFuc2Zvcm09XCJub25lXCIpLG8mJihuWzBdLnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cIm5vbmVcIiksYS5yb3VuZExlbmd0aHMpJD1lLmlzSG9yaXpvbnRhbCgpP24ub3V0ZXJXaWR0aCghMCk6bi5vdXRlckhlaWdodCghMCk7ZWxzZXtjb25zdCBlPXMocixcIndpZHRoXCIpLHQ9cyhyLFwicGFkZGluZy1sZWZ0XCIpLGE9cyhyLFwicGFkZGluZy1yaWdodFwiKSxpPXMocixcIm1hcmdpbi1sZWZ0XCIpLGw9cyhyLFwibWFyZ2luLXJpZ2h0XCIpLG89ci5nZXRQcm9wZXJ0eVZhbHVlKFwiYm94LXNpemluZ1wiKTtpZihvJiZcImJvcmRlci1ib3hcIj09PW8pJD1lK2krbDtlbHNle2NvbnN0e2NsaWVudFdpZHRoOnMsb2Zmc2V0V2lkdGg6cn09blswXTskPWUrdCthK2krbCsoci1zKX19bCYmKG5bMF0uc3R5bGUudHJhbnNmb3JtPWwpLG8mJihuWzBdLnN0eWxlLndlYmtpdFRyYW5zZm9ybT1vKSxhLnJvdW5kTGVuZ3RocyYmKCQ9TWF0aC5mbG9vcigkKSl9ZWxzZSAkPShyLShhLnNsaWRlc1BlclZpZXctMSkqeCkvYS5zbGlkZXNQZXJWaWV3LGEucm91bmRMZW5ndGhzJiYoJD1NYXRoLmZsb29yKCQpKSxjW2ldJiYoY1tpXS5zdHlsZVt0KFwid2lkdGhcIildPWAkeyR9cHhgKTtjW2ldJiYoY1tpXS5zd2lwZXJTbGlkZVNpemU9JCksbS5wdXNoKCQpLGEuY2VudGVyZWRTbGlkZXM/KHk9eSskLzIrRS8yK3gsMD09PUUmJjAhPT1pJiYoeT15LXIvMi14KSwwPT09aSYmKHk9eS1yLzIteCksTWF0aC5hYnMoeSk8LjAwMSYmKHk9MCksYS5yb3VuZExlbmd0aHMmJih5PU1hdGguZmxvb3IoeSkpLFQlYS5zbGlkZXNQZXJHcm91cD09MCYmdS5wdXNoKHkpLGgucHVzaCh5KSk6KGEucm91bmRMZW5ndGhzJiYoeT1NYXRoLmZsb29yKHkpKSwoVC1NYXRoLm1pbihlLnBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsVCkpJWUucGFyYW1zLnNsaWRlc1Blckdyb3VwPT0wJiZ1LnB1c2goeSksaC5wdXNoKHkpLHk9eSskK3gpLGUudmlydHVhbFNpemUrPSQreCxFPSQsVCs9MX19aWYoZS52aXJ0dWFsU2l6ZT1NYXRoLm1heChlLnZpcnR1YWxTaXplLHIpK3YsbiYmbCYmKFwic2xpZGVcIj09PWEuZWZmZWN0fHxcImNvdmVyZmxvd1wiPT09YS5lZmZlY3QpJiZpLmNzcyh7d2lkdGg6YCR7ZS52aXJ0dWFsU2l6ZSthLnNwYWNlQmV0d2Vlbn1weGB9KSxhLnNldFdyYXBwZXJTaXplJiZpLmNzcyh7W3QoXCJ3aWR0aFwiKV06YCR7ZS52aXJ0dWFsU2l6ZSthLnNwYWNlQmV0d2Vlbn1weGB9KSxDJiZlLmdyaWQudXBkYXRlV3JhcHBlclNpemUoJCx1LHQpLCFhLmNlbnRlcmVkU2xpZGVzKXtjb25zdCB0PVtdO2ZvcihsZXQgcz0wO3M8dS5sZW5ndGg7cys9MSl7bGV0IGk9dVtzXTthLnJvdW5kTGVuZ3RocyYmKGk9TWF0aC5mbG9vcihpKSksdVtzXTw9ZS52aXJ0dWFsU2l6ZS1yJiZ0LnB1c2goaSl9dT10LE1hdGguZmxvb3IoZS52aXJ0dWFsU2l6ZS1yKS1NYXRoLmZsb29yKHVbdS5sZW5ndGgtMV0pPjEmJnUucHVzaChlLnZpcnR1YWxTaXplLXIpfWlmKDA9PT11Lmxlbmd0aCYmKHU9WzBdKSwwIT09YS5zcGFjZUJldHdlZW4pe2NvbnN0IHM9ZS5pc0hvcml6b250YWwoKSYmbj9cIm1hcmdpbkxlZnRcIjp0KFwibWFyZ2luUmlnaHRcIik7Yy5maWx0ZXIoKChlLHQpPT4hYS5jc3NNb2RlfHx0IT09Yy5sZW5ndGgtMSkpLmNzcyh7W3NdOmAke3h9cHhgfSl9aWYoYS5jZW50ZXJlZFNsaWRlcyYmYS5jZW50ZXJlZFNsaWRlc0JvdW5kcyl7bGV0IGU9MDttLmZvckVhY2goKHQ9PntlKz10KyhhLnNwYWNlQmV0d2Vlbj9hLnNwYWNlQmV0d2VlbjowKX0pKSxlLT1hLnNwYWNlQmV0d2Vlbjtjb25zdCB0PWUtcjt1PXUubWFwKChlPT5lPDA/LWY6ZT50P3QrdjplKSl9aWYoYS5jZW50ZXJJbnN1ZmZpY2llbnRTbGlkZXMpe2xldCBlPTA7aWYobS5mb3JFYWNoKCh0PT57ZSs9dCsoYS5zcGFjZUJldHdlZW4/YS5zcGFjZUJldHdlZW46MCl9KSksZS09YS5zcGFjZUJldHdlZW4sZTxyKXtjb25zdCB0PShyLWUpLzI7dS5mb3JFYWNoKCgoZSxzKT0+e3Vbc109ZS10fSkpLGguZm9yRWFjaCgoKGUscyk9PntoW3NdPWUrdH0pKX19aWYoT2JqZWN0LmFzc2lnbihlLHtzbGlkZXM6YyxzbmFwR3JpZDp1LHNsaWRlc0dyaWQ6aCxzbGlkZXNTaXplc0dyaWQ6bX0pLGEuY2VudGVyZWRTbGlkZXMmJmEuY3NzTW9kZSYmIWEuY2VudGVyZWRTbGlkZXNCb3VuZHMpe2coZS53cmFwcGVyRWwsXCItLXN3aXBlci1jZW50ZXJlZC1vZmZzZXQtYmVmb3JlXCIsLXVbMF0rXCJweFwiKSxnKGUud3JhcHBlckVsLFwiLS1zd2lwZXItY2VudGVyZWQtb2Zmc2V0LWFmdGVyXCIsZS5zaXplLzItbVttLmxlbmd0aC0xXS8yK1wicHhcIik7Y29uc3QgdD0tZS5zbmFwR3JpZFswXSxzPS1lLnNsaWRlc0dyaWRbMF07ZS5zbmFwR3JpZD1lLnNuYXBHcmlkLm1hcCgoZT0+ZSt0KSksZS5zbGlkZXNHcmlkPWUuc2xpZGVzR3JpZC5tYXAoKGU9PmUrcykpfXAhPT1kJiZlLmVtaXQoXCJzbGlkZXNMZW5ndGhDaGFuZ2VcIiksdS5sZW5ndGghPT13JiYoZS5wYXJhbXMud2F0Y2hPdmVyZmxvdyYmZS5jaGVja092ZXJmbG93KCksZS5lbWl0KFwic25hcEdyaWRMZW5ndGhDaGFuZ2VcIikpLGgubGVuZ3RoIT09YiYmZS5lbWl0KFwic2xpZGVzR3JpZExlbmd0aENoYW5nZVwiKSxhLndhdGNoU2xpZGVzUHJvZ3Jlc3MmJmUudXBkYXRlU2xpZGVzT2Zmc2V0KCl9LHVwZGF0ZUF1dG9IZWlnaHQ6ZnVuY3Rpb24oZSl7Y29uc3QgdD10aGlzLHM9W10sYT10LnZpcnR1YWwmJnQucGFyYW1zLnZpcnR1YWwuZW5hYmxlZDtsZXQgaSxyPTA7XCJudW1iZXJcIj09dHlwZW9mIGU/dC5zZXRUcmFuc2l0aW9uKGUpOiEwPT09ZSYmdC5zZXRUcmFuc2l0aW9uKHQucGFyYW1zLnNwZWVkKTtjb25zdCBuPWU9PmE/dC5zbGlkZXMuZmlsdGVyKCh0PT5wYXJzZUludCh0LmdldEF0dHJpYnV0ZShcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpLDEwKT09PWUpKVswXTp0LnNsaWRlcy5lcShlKVswXTtpZihcImF1dG9cIiE9PXQucGFyYW1zLnNsaWRlc1BlclZpZXcmJnQucGFyYW1zLnNsaWRlc1BlclZpZXc+MSlpZih0LnBhcmFtcy5jZW50ZXJlZFNsaWRlcyl0LnZpc2libGVTbGlkZXMuZWFjaCgoZT0+e3MucHVzaChlKX0pKTtlbHNlIGZvcihpPTA7aTxNYXRoLmNlaWwodC5wYXJhbXMuc2xpZGVzUGVyVmlldyk7aSs9MSl7Y29uc3QgZT10LmFjdGl2ZUluZGV4K2k7aWYoZT50LnNsaWRlcy5sZW5ndGgmJiFhKWJyZWFrO3MucHVzaChuKGUpKX1lbHNlIHMucHVzaChuKHQuYWN0aXZlSW5kZXgpKTtmb3IoaT0wO2k8cy5sZW5ndGg7aSs9MSlpZih2b2lkIDAhPT1zW2ldKXtjb25zdCBlPXNbaV0ub2Zmc2V0SGVpZ2h0O3I9ZT5yP2U6cn1yJiZ0LiR3cmFwcGVyRWwuY3NzKFwiaGVpZ2h0XCIsYCR7cn1weGApfSx1cGRhdGVTbGlkZXNPZmZzZXQ6ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMsdD1lLnNsaWRlcztmb3IobGV0IHM9MDtzPHQubGVuZ3RoO3MrPTEpdFtzXS5zd2lwZXJTbGlkZU9mZnNldD1lLmlzSG9yaXpvbnRhbCgpP3Rbc10ub2Zmc2V0TGVmdDp0W3NdLm9mZnNldFRvcH0sdXBkYXRlU2xpZGVzUHJvZ3Jlc3M6ZnVuY3Rpb24oZT10aGlzJiZ0aGlzLnRyYW5zbGF0ZXx8MCl7Y29uc3QgdD10aGlzLHM9dC5wYXJhbXMse3NsaWRlczphLHJ0bFRyYW5zbGF0ZTppfT10O2lmKDA9PT1hLmxlbmd0aClyZXR1cm47dm9pZCAwPT09YVswXS5zd2lwZXJTbGlkZU9mZnNldCYmdC51cGRhdGVTbGlkZXNPZmZzZXQoKTtsZXQgcj0tZTtpJiYocj1lKSxhLnJlbW92ZUNsYXNzKHMuc2xpZGVWaXNpYmxlQ2xhc3MpLHQudmlzaWJsZVNsaWRlc0luZGV4ZXM9W10sdC52aXNpYmxlU2xpZGVzPVtdO2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSs9MSl7Y29uc3Qgbj1hW2VdO2xldCBsPW4uc3dpcGVyU2xpZGVPZmZzZXQ7cy5jc3NNb2RlJiZzLmNlbnRlcmVkU2xpZGVzJiYobC09YVswXS5zd2lwZXJTbGlkZU9mZnNldCk7Y29uc3Qgbz0ocisocy5jZW50ZXJlZFNsaWRlcz90Lm1pblRyYW5zbGF0ZSgpOjApLWwpLyhuLnN3aXBlclNsaWRlU2l6ZStzLnNwYWNlQmV0d2VlbiksZD0tKHItbCksYz1kK3Quc2xpZGVzU2l6ZXNHcmlkW2VdOyhkPj0wJiZkPHQuc2l6ZS0xfHxjPjEmJmM8PXQuc2l6ZXx8ZDw9MCYmYz49dC5zaXplKSYmKHQudmlzaWJsZVNsaWRlcy5wdXNoKG4pLHQudmlzaWJsZVNsaWRlc0luZGV4ZXMucHVzaChlKSxhLmVxKGUpLmFkZENsYXNzKHMuc2xpZGVWaXNpYmxlQ2xhc3MpKSxuLnByb2dyZXNzPWk/LW86b310LnZpc2libGVTbGlkZXM9ZCh0LnZpc2libGVTbGlkZXMpfSx1cGRhdGVQcm9ncmVzczpmdW5jdGlvbihlKXtjb25zdCB0PXRoaXM7aWYodm9pZCAwPT09ZSl7Y29uc3Qgcz10LnJ0bFRyYW5zbGF0ZT8tMToxO2U9dCYmdC50cmFuc2xhdGUmJnQudHJhbnNsYXRlKnN8fDB9Y29uc3Qgcz10LnBhcmFtcyxhPXQubWF4VHJhbnNsYXRlKCktdC5taW5UcmFuc2xhdGUoKTtsZXR7cHJvZ3Jlc3M6aSxpc0JlZ2lubmluZzpyLGlzRW5kOm59PXQ7Y29uc3QgbD1yLG89bjswPT09YT8oaT0wLHI9ITAsbj0hMCk6KGk9KGUtdC5taW5UcmFuc2xhdGUoKSkvYSxyPWk8PTAsbj1pPj0xKSxPYmplY3QuYXNzaWduKHQse3Byb2dyZXNzOmksaXNCZWdpbm5pbmc6cixpc0VuZDpufSksKHMud2F0Y2hTbGlkZXNQcm9ncmVzc3x8cy5jZW50ZXJlZFNsaWRlcyYmcy5hdXRvSGVpZ2h0KSYmdC51cGRhdGVTbGlkZXNQcm9ncmVzcyhlKSxyJiYhbCYmdC5lbWl0KFwicmVhY2hCZWdpbm5pbmcgdG9FZGdlXCIpLG4mJiFvJiZ0LmVtaXQoXCJyZWFjaEVuZCB0b0VkZ2VcIiksKGwmJiFyfHxvJiYhbikmJnQuZW1pdChcImZyb21FZGdlXCIpLHQuZW1pdChcInByb2dyZXNzXCIsaSl9LHVwZGF0ZVNsaWRlc0NsYXNzZXM6ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMse3NsaWRlczp0LHBhcmFtczpzLCR3cmFwcGVyRWw6YSxhY3RpdmVJbmRleDppLHJlYWxJbmRleDpyfT1lLG49ZS52aXJ0dWFsJiZzLnZpcnR1YWwuZW5hYmxlZDtsZXQgbDt0LnJlbW92ZUNsYXNzKGAke3Muc2xpZGVBY3RpdmVDbGFzc30gJHtzLnNsaWRlTmV4dENsYXNzfSAke3Muc2xpZGVQcmV2Q2xhc3N9ICR7cy5zbGlkZUR1cGxpY2F0ZUFjdGl2ZUNsYXNzfSAke3Muc2xpZGVEdXBsaWNhdGVOZXh0Q2xhc3N9ICR7cy5zbGlkZUR1cGxpY2F0ZVByZXZDbGFzc31gKSxsPW4/ZS4kd3JhcHBlckVsLmZpbmQoYC4ke3Muc2xpZGVDbGFzc31bZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke2l9XCJdYCk6dC5lcShpKSxsLmFkZENsYXNzKHMuc2xpZGVBY3RpdmVDbGFzcykscy5sb29wJiYobC5oYXNDbGFzcyhzLnNsaWRlRHVwbGljYXRlQ2xhc3MpP2EuY2hpbGRyZW4oYC4ke3Muc2xpZGVDbGFzc306bm90KC4ke3Muc2xpZGVEdXBsaWNhdGVDbGFzc30pW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtyfVwiXWApLmFkZENsYXNzKHMuc2xpZGVEdXBsaWNhdGVBY3RpdmVDbGFzcyk6YS5jaGlsZHJlbihgLiR7cy5zbGlkZUNsYXNzfS4ke3Muc2xpZGVEdXBsaWNhdGVDbGFzc31bZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3J9XCJdYCkuYWRkQ2xhc3Mocy5zbGlkZUR1cGxpY2F0ZUFjdGl2ZUNsYXNzKSk7bGV0IG89bC5uZXh0QWxsKGAuJHtzLnNsaWRlQ2xhc3N9YCkuZXEoMCkuYWRkQ2xhc3Mocy5zbGlkZU5leHRDbGFzcyk7cy5sb29wJiYwPT09by5sZW5ndGgmJihvPXQuZXEoMCksby5hZGRDbGFzcyhzLnNsaWRlTmV4dENsYXNzKSk7bGV0IGQ9bC5wcmV2QWxsKGAuJHtzLnNsaWRlQ2xhc3N9YCkuZXEoMCkuYWRkQ2xhc3Mocy5zbGlkZVByZXZDbGFzcyk7cy5sb29wJiYwPT09ZC5sZW5ndGgmJihkPXQuZXEoLTEpLGQuYWRkQ2xhc3Mocy5zbGlkZVByZXZDbGFzcykpLHMubG9vcCYmKG8uaGFzQ2xhc3Mocy5zbGlkZUR1cGxpY2F0ZUNsYXNzKT9hLmNoaWxkcmVuKGAuJHtzLnNsaWRlQ2xhc3N9Om5vdCguJHtzLnNsaWRlRHVwbGljYXRlQ2xhc3N9KVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7by5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIil9XCJdYCkuYWRkQ2xhc3Mocy5zbGlkZUR1cGxpY2F0ZU5leHRDbGFzcyk6YS5jaGlsZHJlbihgLiR7cy5zbGlkZUNsYXNzfS4ke3Muc2xpZGVEdXBsaWNhdGVDbGFzc31bZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke28uYXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpfVwiXWApLmFkZENsYXNzKHMuc2xpZGVEdXBsaWNhdGVOZXh0Q2xhc3MpLGQuaGFzQ2xhc3Mocy5zbGlkZUR1cGxpY2F0ZUNsYXNzKT9hLmNoaWxkcmVuKGAuJHtzLnNsaWRlQ2xhc3N9Om5vdCguJHtzLnNsaWRlRHVwbGljYXRlQ2xhc3N9KVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7ZC5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIil9XCJdYCkuYWRkQ2xhc3Mocy5zbGlkZUR1cGxpY2F0ZVByZXZDbGFzcyk6YS5jaGlsZHJlbihgLiR7cy5zbGlkZUNsYXNzfS4ke3Muc2xpZGVEdXBsaWNhdGVDbGFzc31bZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke2QuYXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpfVwiXWApLmFkZENsYXNzKHMuc2xpZGVEdXBsaWNhdGVQcmV2Q2xhc3MpKSxlLmVtaXRTbGlkZXNDbGFzc2VzKCl9LHVwZGF0ZUFjdGl2ZUluZGV4OmZ1bmN0aW9uKGUpe2NvbnN0IHQ9dGhpcyxzPXQucnRsVHJhbnNsYXRlP3QudHJhbnNsYXRlOi10LnRyYW5zbGF0ZSx7c2xpZGVzR3JpZDphLHNuYXBHcmlkOmkscGFyYW1zOnIsYWN0aXZlSW5kZXg6bixyZWFsSW5kZXg6bCxzbmFwSW5kZXg6b309dDtsZXQgZCxjPWU7aWYodm9pZCAwPT09Yyl7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKz0xKXZvaWQgMCE9PWFbZSsxXT9zPj1hW2VdJiZzPGFbZSsxXS0oYVtlKzFdLWFbZV0pLzI/Yz1lOnM+PWFbZV0mJnM8YVtlKzFdJiYoYz1lKzEpOnM+PWFbZV0mJihjPWUpO3Iubm9ybWFsaXplU2xpZGVJbmRleCYmKGM8MHx8dm9pZCAwPT09YykmJihjPTApfWlmKGkuaW5kZXhPZihzKT49MClkPWkuaW5kZXhPZihzKTtlbHNle2NvbnN0IGU9TWF0aC5taW4oci5zbGlkZXNQZXJHcm91cFNraXAsYyk7ZD1lK01hdGguZmxvb3IoKGMtZSkvci5zbGlkZXNQZXJHcm91cCl9aWYoZD49aS5sZW5ndGgmJihkPWkubGVuZ3RoLTEpLGM9PT1uKXJldHVybiB2b2lkKGQhPT1vJiYodC5zbmFwSW5kZXg9ZCx0LmVtaXQoXCJzbmFwSW5kZXhDaGFuZ2VcIikpKTtjb25zdCBwPXBhcnNlSW50KHQuc2xpZGVzLmVxKGMpLmF0dHIoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKXx8YywxMCk7T2JqZWN0LmFzc2lnbih0LHtzbmFwSW5kZXg6ZCxyZWFsSW5kZXg6cCxwcmV2aW91c0luZGV4Om4sYWN0aXZlSW5kZXg6Y30pLHQuZW1pdChcImFjdGl2ZUluZGV4Q2hhbmdlXCIpLHQuZW1pdChcInNuYXBJbmRleENoYW5nZVwiKSxsIT09cCYmdC5lbWl0KFwicmVhbEluZGV4Q2hhbmdlXCIpLCh0LmluaXRpYWxpemVkfHx0LnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQpJiZ0LmVtaXQoXCJzbGlkZUNoYW5nZVwiKX0sdXBkYXRlQ2xpY2tlZFNsaWRlOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9dGhpcyxzPXQucGFyYW1zLGE9ZChlLnRhcmdldCkuY2xvc2VzdChgLiR7cy5zbGlkZUNsYXNzfWApWzBdO2xldCBpLHI9ITE7aWYoYSlmb3IobGV0IGU9MDtlPHQuc2xpZGVzLmxlbmd0aDtlKz0xKWlmKHQuc2xpZGVzW2VdPT09YSl7cj0hMCxpPWU7YnJlYWt9aWYoIWF8fCFyKXJldHVybiB0LmNsaWNrZWRTbGlkZT12b2lkIDAsdm9pZCh0LmNsaWNrZWRJbmRleD12b2lkIDApO3QuY2xpY2tlZFNsaWRlPWEsdC52aXJ0dWFsJiZ0LnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ/dC5jbGlja2VkSW5kZXg9cGFyc2VJbnQoZChhKS5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIiksMTApOnQuY2xpY2tlZEluZGV4PWkscy5zbGlkZVRvQ2xpY2tlZFNsaWRlJiZ2b2lkIDAhPT10LmNsaWNrZWRJbmRleCYmdC5jbGlja2VkSW5kZXghPT10LmFjdGl2ZUluZGV4JiZ0LnNsaWRlVG9DbGlja2VkU2xpZGUoKX19LHRyYW5zbGF0ZTp7Z2V0VHJhbnNsYXRlOmZ1bmN0aW9uKGU9KHRoaXMuaXNIb3Jpem9udGFsKCk/XCJ4XCI6XCJ5XCIpKXtjb25zdHtwYXJhbXM6dCxydGxUcmFuc2xhdGU6cyx0cmFuc2xhdGU6YSwkd3JhcHBlckVsOml9PXRoaXM7aWYodC52aXJ0dWFsVHJhbnNsYXRlKXJldHVybiBzPy1hOmE7aWYodC5jc3NNb2RlKXJldHVybiBhO2xldCByPWgoaVswXSxlKTtyZXR1cm4gcyYmKHI9LXIpLHJ8fDB9LHNldFRyYW5zbGF0ZTpmdW5jdGlvbihlLHQpe2NvbnN0IHM9dGhpcyx7cnRsVHJhbnNsYXRlOmEscGFyYW1zOmksJHdyYXBwZXJFbDpyLHdyYXBwZXJFbDpuLHByb2dyZXNzOmx9PXM7bGV0IG8sZD0wLGM9MDtzLmlzSG9yaXpvbnRhbCgpP2Q9YT8tZTplOmM9ZSxpLnJvdW5kTGVuZ3RocyYmKGQ9TWF0aC5mbG9vcihkKSxjPU1hdGguZmxvb3IoYykpLGkuY3NzTW9kZT9uW3MuaXNIb3Jpem9udGFsKCk/XCJzY3JvbGxMZWZ0XCI6XCJzY3JvbGxUb3BcIl09cy5pc0hvcml6b250YWwoKT8tZDotYzppLnZpcnR1YWxUcmFuc2xhdGV8fHIudHJhbnNmb3JtKGB0cmFuc2xhdGUzZCgke2R9cHgsICR7Y31weCwgMHB4KWApLHMucHJldmlvdXNUcmFuc2xhdGU9cy50cmFuc2xhdGUscy50cmFuc2xhdGU9cy5pc0hvcml6b250YWwoKT9kOmM7Y29uc3QgcD1zLm1heFRyYW5zbGF0ZSgpLXMubWluVHJhbnNsYXRlKCk7bz0wPT09cD8wOihlLXMubWluVHJhbnNsYXRlKCkpL3AsbyE9PWwmJnMudXBkYXRlUHJvZ3Jlc3MoZSkscy5lbWl0KFwic2V0VHJhbnNsYXRlXCIscy50cmFuc2xhdGUsdCl9LG1pblRyYW5zbGF0ZTpmdW5jdGlvbigpe3JldHVybi10aGlzLnNuYXBHcmlkWzBdfSxtYXhUcmFuc2xhdGU6ZnVuY3Rpb24oKXtyZXR1cm4tdGhpcy5zbmFwR3JpZFt0aGlzLnNuYXBHcmlkLmxlbmd0aC0xXX0sdHJhbnNsYXRlVG86ZnVuY3Rpb24oZT0wLHQ9dGhpcy5wYXJhbXMuc3BlZWQscz0hMCxhPSEwLGkpe2NvbnN0IHI9dGhpcyx7cGFyYW1zOm4sd3JhcHBlckVsOmx9PXI7aWYoci5hbmltYXRpbmcmJm4ucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKXJldHVybiExO2NvbnN0IG89ci5taW5UcmFuc2xhdGUoKSxkPXIubWF4VHJhbnNsYXRlKCk7bGV0IGM7aWYoYz1hJiZlPm8/bzphJiZlPGQ/ZDplLHIudXBkYXRlUHJvZ3Jlc3MoYyksbi5jc3NNb2RlKXtjb25zdCBlPXIuaXNIb3Jpem9udGFsKCk7aWYoMD09PXQpbFtlP1wic2Nyb2xsTGVmdFwiOlwic2Nyb2xsVG9wXCJdPS1jO2Vsc2V7aWYoIXIuc3VwcG9ydC5zbW9vdGhTY3JvbGwpcmV0dXJuIHYoe3N3aXBlcjpyLHRhcmdldFBvc2l0aW9uOi1jLHNpZGU6ZT9cImxlZnRcIjpcInRvcFwifSksITA7bC5zY3JvbGxUbyh7W2U/XCJsZWZ0XCI6XCJ0b3BcIl06LWMsYmVoYXZpb3I6XCJzbW9vdGhcIn0pfXJldHVybiEwfXJldHVybiAwPT09dD8oci5zZXRUcmFuc2l0aW9uKDApLHIuc2V0VHJhbnNsYXRlKGMpLHMmJihyLmVtaXQoXCJiZWZvcmVUcmFuc2l0aW9uU3RhcnRcIix0LGkpLHIuZW1pdChcInRyYW5zaXRpb25FbmRcIikpKTooci5zZXRUcmFuc2l0aW9uKHQpLHIuc2V0VHJhbnNsYXRlKGMpLHMmJihyLmVtaXQoXCJiZWZvcmVUcmFuc2l0aW9uU3RhcnRcIix0LGkpLHIuZW1pdChcInRyYW5zaXRpb25TdGFydFwiKSksci5hbmltYXRpbmd8fChyLmFuaW1hdGluZz0hMCxyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZHx8KHIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kPWZ1bmN0aW9uKGUpe3ImJiFyLmRlc3Ryb3llZCYmZS50YXJnZXQ9PT10aGlzJiYoci4kd3JhcHBlckVsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsci5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpLHIuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0VHJhbnNpdGlvbkVuZFwiLHIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKSxyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZD1udWxsLGRlbGV0ZSByLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCxzJiZyLmVtaXQoXCJ0cmFuc2l0aW9uRW5kXCIpKX0pLHIuJHdyYXBwZXJFbFswXS5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLHIub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKSxyLiR3cmFwcGVyRWxbMF0uYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdFRyYW5zaXRpb25FbmRcIixyLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCkpKSwhMH19LHRyYW5zaXRpb246e3NldFRyYW5zaXRpb246ZnVuY3Rpb24oZSx0KXtjb25zdCBzPXRoaXM7cy5wYXJhbXMuY3NzTW9kZXx8cy4kd3JhcHBlckVsLnRyYW5zaXRpb24oZSkscy5lbWl0KFwic2V0VHJhbnNpdGlvblwiLGUsdCl9LHRyYW5zaXRpb25TdGFydDpmdW5jdGlvbihlPSEwLHQpe2NvbnN0IHM9dGhpcyx7cGFyYW1zOmF9PXM7YS5jc3NNb2RlfHwoYS5hdXRvSGVpZ2h0JiZzLnVwZGF0ZUF1dG9IZWlnaHQoKSwkKHtzd2lwZXI6cyxydW5DYWxsYmFja3M6ZSxkaXJlY3Rpb246dCxzdGVwOlwiU3RhcnRcIn0pKX0sdHJhbnNpdGlvbkVuZDpmdW5jdGlvbihlPSEwLHQpe2NvbnN0IHM9dGhpcyx7cGFyYW1zOmF9PXM7cy5hbmltYXRpbmc9ITEsYS5jc3NNb2RlfHwocy5zZXRUcmFuc2l0aW9uKDApLCQoe3N3aXBlcjpzLHJ1bkNhbGxiYWNrczplLGRpcmVjdGlvbjp0LHN0ZXA6XCJFbmRcIn0pKX19LHNsaWRlOntzbGlkZVRvOmZ1bmN0aW9uKGU9MCx0PXRoaXMucGFyYW1zLnNwZWVkLHM9ITAsYSxpKXtpZihcIm51bWJlclwiIT10eXBlb2YgZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKGBUaGUgJ2luZGV4JyBhcmd1bWVudCBjYW5ub3QgaGF2ZSB0eXBlIG90aGVyIHRoYW4gJ251bWJlcicgb3IgJ3N0cmluZycuIFske3R5cGVvZiBlfV0gZ2l2ZW4uYCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2NvbnN0IHQ9cGFyc2VJbnQoZSwxMCk7aWYoIWlzRmluaXRlKHQpKXRocm93IG5ldyBFcnJvcihgVGhlIHBhc3NlZC1pbiAnaW5kZXgnIChzdHJpbmcpIGNvdWxkbid0IGJlIGNvbnZlcnRlZCB0byAnbnVtYmVyJy4gWyR7ZX1dIGdpdmVuLmApO2U9dH1jb25zdCByPXRoaXM7bGV0IG49ZTtuPDAmJihuPTApO2NvbnN0e3BhcmFtczpsLHNuYXBHcmlkOm8sc2xpZGVzR3JpZDpkLHByZXZpb3VzSW5kZXg6YyxhY3RpdmVJbmRleDpwLHJ0bFRyYW5zbGF0ZTp1LHdyYXBwZXJFbDpoLGVuYWJsZWQ6bX09cjtpZihyLmFuaW1hdGluZyYmbC5wcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb258fCFtJiYhYSYmIWkpcmV0dXJuITE7Y29uc3QgZj1NYXRoLm1pbihyLnBhcmFtcy5zbGlkZXNQZXJHcm91cFNraXAsbik7bGV0IGc9ZitNYXRoLmZsb29yKChuLWYpL3IucGFyYW1zLnNsaWRlc1Blckdyb3VwKTtnPj1vLmxlbmd0aCYmKGc9by5sZW5ndGgtMSksKHB8fGwuaW5pdGlhbFNsaWRlfHwwKT09PShjfHwwKSYmcyYmci5lbWl0KFwiYmVmb3JlU2xpZGVDaGFuZ2VTdGFydFwiKTtjb25zdCB3PS1vW2ddO2lmKHIudXBkYXRlUHJvZ3Jlc3ModyksbC5ub3JtYWxpemVTbGlkZUluZGV4KWZvcihsZXQgZT0wO2U8ZC5sZW5ndGg7ZSs9MSl7Y29uc3QgdD0tTWF0aC5mbG9vcigxMDAqdykscz1NYXRoLmZsb29yKDEwMCpkW2VdKSxhPU1hdGguZmxvb3IoMTAwKmRbZSsxXSk7dm9pZCAwIT09ZFtlKzFdP3Q+PXMmJnQ8YS0oYS1zKS8yP249ZTp0Pj1zJiZ0PGEmJihuPWUrMSk6dD49cyYmKG49ZSl9aWYoci5pbml0aWFsaXplZCYmbiE9PXApe2lmKCFyLmFsbG93U2xpZGVOZXh0JiZ3PHIudHJhbnNsYXRlJiZ3PHIubWluVHJhbnNsYXRlKCkpcmV0dXJuITE7aWYoIXIuYWxsb3dTbGlkZVByZXYmJnc+ci50cmFuc2xhdGUmJnc+ci5tYXhUcmFuc2xhdGUoKSYmKHB8fDApIT09bilyZXR1cm4hMX1sZXQgYjtpZihiPW4+cD9cIm5leHRcIjpuPHA/XCJwcmV2XCI6XCJyZXNldFwiLHUmJi13PT09ci50cmFuc2xhdGV8fCF1JiZ3PT09ci50cmFuc2xhdGUpcmV0dXJuIHIudXBkYXRlQWN0aXZlSW5kZXgobiksbC5hdXRvSGVpZ2h0JiZyLnVwZGF0ZUF1dG9IZWlnaHQoKSxyLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKSxcInNsaWRlXCIhPT1sLmVmZmVjdCYmci5zZXRUcmFuc2xhdGUodyksXCJyZXNldFwiIT09YiYmKHIudHJhbnNpdGlvblN0YXJ0KHMsYiksci50cmFuc2l0aW9uRW5kKHMsYikpLCExO2lmKGwuY3NzTW9kZSl7Y29uc3QgZT1yLmlzSG9yaXpvbnRhbCgpLHM9dT93Oi13O2lmKDA9PT10KXtjb25zdCB0PXIudmlydHVhbCYmci5wYXJhbXMudmlydHVhbC5lbmFibGVkO3QmJihyLndyYXBwZXJFbC5zdHlsZS5zY3JvbGxTbmFwVHlwZT1cIm5vbmVcIixyLl9pbW1lZGlhdGVWaXJ0dWFsPSEwKSxoW2U/XCJzY3JvbGxMZWZ0XCI6XCJzY3JvbGxUb3BcIl09cyx0JiZyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpPT57ci53cmFwcGVyRWwuc3R5bGUuc2Nyb2xsU25hcFR5cGU9XCJcIixyLl9zd2lwZXJJbW1lZGlhdGVWaXJ0dWFsPSExfSkpfWVsc2V7aWYoIXIuc3VwcG9ydC5zbW9vdGhTY3JvbGwpcmV0dXJuIHYoe3N3aXBlcjpyLHRhcmdldFBvc2l0aW9uOnMsc2lkZTplP1wibGVmdFwiOlwidG9wXCJ9KSwhMDtoLnNjcm9sbFRvKHtbZT9cImxlZnRcIjpcInRvcFwiXTpzLGJlaGF2aW9yOlwic21vb3RoXCJ9KX1yZXR1cm4hMH1yZXR1cm4gMD09PXQ/KHIuc2V0VHJhbnNpdGlvbigwKSxyLnNldFRyYW5zbGF0ZSh3KSxyLnVwZGF0ZUFjdGl2ZUluZGV4KG4pLHIudXBkYXRlU2xpZGVzQ2xhc3NlcygpLHIuZW1pdChcImJlZm9yZVRyYW5zaXRpb25TdGFydFwiLHQsYSksci50cmFuc2l0aW9uU3RhcnQocyxiKSxyLnRyYW5zaXRpb25FbmQocyxiKSk6KHIuc2V0VHJhbnNpdGlvbih0KSxyLnNldFRyYW5zbGF0ZSh3KSxyLnVwZGF0ZUFjdGl2ZUluZGV4KG4pLHIudXBkYXRlU2xpZGVzQ2xhc3NlcygpLHIuZW1pdChcImJlZm9yZVRyYW5zaXRpb25TdGFydFwiLHQsYSksci50cmFuc2l0aW9uU3RhcnQocyxiKSxyLmFuaW1hdGluZ3x8KHIuYW5pbWF0aW5nPSEwLHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmR8fChyLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kPWZ1bmN0aW9uKGUpe3ImJiFyLmRlc3Ryb3llZCYmZS50YXJnZXQ9PT10aGlzJiYoci4kd3JhcHBlckVsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCksci4kd3JhcHBlckVsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCksci5vblNsaWRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZD1udWxsLGRlbGV0ZSByLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kLHIudHJhbnNpdGlvbkVuZChzLGIpKX0pLHIuJHdyYXBwZXJFbFswXS5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpLHIuJHdyYXBwZXJFbFswXS5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0VHJhbnNpdGlvbkVuZFwiLHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpKSksITB9LHNsaWRlVG9Mb29wOmZ1bmN0aW9uKGU9MCx0PXRoaXMucGFyYW1zLnNwZWVkLHM9ITAsYSl7Y29uc3QgaT10aGlzO2xldCByPWU7cmV0dXJuIGkucGFyYW1zLmxvb3AmJihyKz1pLmxvb3BlZFNsaWRlcyksaS5zbGlkZVRvKHIsdCxzLGEpfSxzbGlkZU5leHQ6ZnVuY3Rpb24oZT10aGlzLnBhcmFtcy5zcGVlZCx0PSEwLHMpe2NvbnN0IGE9dGhpcyx7YW5pbWF0aW5nOmksZW5hYmxlZDpyLHBhcmFtczpufT1hO2lmKCFyKXJldHVybiBhO2xldCBsPW4uc2xpZGVzUGVyR3JvdXA7XCJhdXRvXCI9PT1uLnNsaWRlc1BlclZpZXcmJjE9PT1uLnNsaWRlc1Blckdyb3VwJiZuLnNsaWRlc1Blckdyb3VwQXV0byYmKGw9TWF0aC5tYXgoYS5zbGlkZXNQZXJWaWV3RHluYW1pYyhcImN1cnJlbnRcIiwhMCksMSkpO2NvbnN0IG89YS5hY3RpdmVJbmRleDxuLnNsaWRlc1Blckdyb3VwU2tpcD8xOmw7aWYobi5sb29wKXtpZihpJiZuLmxvb3BQcmV2ZW50c1NsaWRlKXJldHVybiExO2EubG9vcEZpeCgpLGEuX2NsaWVudExlZnQ9YS4kd3JhcHBlckVsWzBdLmNsaWVudExlZnR9cmV0dXJuIGEuc2xpZGVUbyhhLmFjdGl2ZUluZGV4K28sZSx0LHMpfSxzbGlkZVByZXY6ZnVuY3Rpb24oZT10aGlzLnBhcmFtcy5zcGVlZCx0PSEwLHMpe2NvbnN0IGE9dGhpcyx7cGFyYW1zOmksYW5pbWF0aW5nOnIsc25hcEdyaWQ6bixzbGlkZXNHcmlkOmwscnRsVHJhbnNsYXRlOm8sZW5hYmxlZDpkfT1hO2lmKCFkKXJldHVybiBhO2lmKGkubG9vcCl7aWYociYmaS5sb29wUHJldmVudHNTbGlkZSlyZXR1cm4hMTthLmxvb3BGaXgoKSxhLl9jbGllbnRMZWZ0PWEuJHdyYXBwZXJFbFswXS5jbGllbnRMZWZ0fWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU8MD8tTWF0aC5mbG9vcihNYXRoLmFicyhlKSk6TWF0aC5mbG9vcihlKX1jb25zdCBwPWMobz9hLnRyYW5zbGF0ZTotYS50cmFuc2xhdGUpLHU9bi5tYXAoKGU9PmMoZSkpKTtsZXQgaD1uW3UuaW5kZXhPZihwKS0xXTtpZih2b2lkIDA9PT1oJiZpLmNzc01vZGUpe2xldCBlO24uZm9yRWFjaCgoKHQscyk9PntwPj10JiYoZT1zKX0pKSx2b2lkIDAhPT1lJiYoaD1uW2U+MD9lLTE6ZV0pfWxldCBtPTA7cmV0dXJuIHZvaWQgMCE9PWgmJihtPWwuaW5kZXhPZihoKSxtPDAmJihtPWEuYWN0aXZlSW5kZXgtMSksXCJhdXRvXCI9PT1pLnNsaWRlc1BlclZpZXcmJjE9PT1pLnNsaWRlc1Blckdyb3VwJiZpLnNsaWRlc1Blckdyb3VwQXV0byYmKG09bS1hLnNsaWRlc1BlclZpZXdEeW5hbWljKFwicHJldmlvdXNcIiwhMCkrMSxtPU1hdGgubWF4KG0sMCkpKSxhLnNsaWRlVG8obSxlLHQscyl9LHNsaWRlUmVzZXQ6ZnVuY3Rpb24oZT10aGlzLnBhcmFtcy5zcGVlZCx0PSEwLHMpe3JldHVybiB0aGlzLnNsaWRlVG8odGhpcy5hY3RpdmVJbmRleCxlLHQscyl9LHNsaWRlVG9DbG9zZXN0OmZ1bmN0aW9uKGU9dGhpcy5wYXJhbXMuc3BlZWQsdD0hMCxzLGE9LjUpe2NvbnN0IGk9dGhpcztsZXQgcj1pLmFjdGl2ZUluZGV4O2NvbnN0IG49TWF0aC5taW4oaS5wYXJhbXMuc2xpZGVzUGVyR3JvdXBTa2lwLHIpLGw9bitNYXRoLmZsb29yKChyLW4pL2kucGFyYW1zLnNsaWRlc1Blckdyb3VwKSxvPWkucnRsVHJhbnNsYXRlP2kudHJhbnNsYXRlOi1pLnRyYW5zbGF0ZTtpZihvPj1pLnNuYXBHcmlkW2xdKXtjb25zdCBlPWkuc25hcEdyaWRbbF07by1lPihpLnNuYXBHcmlkW2wrMV0tZSkqYSYmKHIrPWkucGFyYW1zLnNsaWRlc1Blckdyb3VwKX1lbHNle2NvbnN0IGU9aS5zbmFwR3JpZFtsLTFdO28tZTw9KGkuc25hcEdyaWRbbF0tZSkqYSYmKHItPWkucGFyYW1zLnNsaWRlc1Blckdyb3VwKX1yZXR1cm4gcj1NYXRoLm1heChyLDApLHI9TWF0aC5taW4ocixpLnNsaWRlc0dyaWQubGVuZ3RoLTEpLGkuc2xpZGVUbyhyLGUsdCxzKX0sc2xpZGVUb0NsaWNrZWRTbGlkZTpmdW5jdGlvbigpe2NvbnN0IGU9dGhpcyx7cGFyYW1zOnQsJHdyYXBwZXJFbDpzfT1lLGE9XCJhdXRvXCI9PT10LnNsaWRlc1BlclZpZXc/ZS5zbGlkZXNQZXJWaWV3RHluYW1pYygpOnQuc2xpZGVzUGVyVmlldztsZXQgaSxyPWUuY2xpY2tlZEluZGV4O2lmKHQubG9vcCl7aWYoZS5hbmltYXRpbmcpcmV0dXJuO2k9cGFyc2VJbnQoZChlLmNsaWNrZWRTbGlkZSkuYXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpLDEwKSx0LmNlbnRlcmVkU2xpZGVzP3I8ZS5sb29wZWRTbGlkZXMtYS8yfHxyPmUuc2xpZGVzLmxlbmd0aC1lLmxvb3BlZFNsaWRlcythLzI/KGUubG9vcEZpeCgpLHI9cy5jaGlsZHJlbihgLiR7dC5zbGlkZUNsYXNzfVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7aX1cIl06bm90KC4ke3Quc2xpZGVEdXBsaWNhdGVDbGFzc30pYCkuZXEoMCkuaW5kZXgoKSxwKCgoKT0+e2Uuc2xpZGVUbyhyKX0pKSk6ZS5zbGlkZVRvKHIpOnI+ZS5zbGlkZXMubGVuZ3RoLWE/KGUubG9vcEZpeCgpLHI9cy5jaGlsZHJlbihgLiR7dC5zbGlkZUNsYXNzfVtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7aX1cIl06bm90KC4ke3Quc2xpZGVEdXBsaWNhdGVDbGFzc30pYCkuZXEoMCkuaW5kZXgoKSxwKCgoKT0+e2Uuc2xpZGVUbyhyKX0pKSk6ZS5zbGlkZVRvKHIpfWVsc2UgZS5zbGlkZVRvKHIpfX0sbG9vcDp7bG9vcENyZWF0ZTpmdW5jdGlvbigpe2NvbnN0IGU9dGhpcyx0PWEoKSx7cGFyYW1zOnMsJHdyYXBwZXJFbDppfT1lO2kuY2hpbGRyZW4oYC4ke3Muc2xpZGVDbGFzc30uJHtzLnNsaWRlRHVwbGljYXRlQ2xhc3N9YCkucmVtb3ZlKCk7bGV0IHI9aS5jaGlsZHJlbihgLiR7cy5zbGlkZUNsYXNzfWApO2lmKHMubG9vcEZpbGxHcm91cFdpdGhCbGFuayl7Y29uc3QgZT1zLnNsaWRlc1Blckdyb3VwLXIubGVuZ3RoJXMuc2xpZGVzUGVyR3JvdXA7aWYoZSE9PXMuc2xpZGVzUGVyR3JvdXApe2ZvcihsZXQgYT0wO2E8ZTthKz0xKXtjb25zdCBlPWQodC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5hZGRDbGFzcyhgJHtzLnNsaWRlQ2xhc3N9ICR7cy5zbGlkZUJsYW5rQ2xhc3N9YCk7aS5hcHBlbmQoZSl9cj1pLmNoaWxkcmVuKGAuJHtzLnNsaWRlQ2xhc3N9YCl9fVwiYXV0b1wiIT09cy5zbGlkZXNQZXJWaWV3fHxzLmxvb3BlZFNsaWRlc3x8KHMubG9vcGVkU2xpZGVzPXIubGVuZ3RoKSxlLmxvb3BlZFNsaWRlcz1NYXRoLmNlaWwocGFyc2VGbG9hdChzLmxvb3BlZFNsaWRlc3x8cy5zbGlkZXNQZXJWaWV3LDEwKSksZS5sb29wZWRTbGlkZXMrPXMubG9vcEFkZGl0aW9uYWxTbGlkZXMsZS5sb29wZWRTbGlkZXM+ci5sZW5ndGgmJihlLmxvb3BlZFNsaWRlcz1yLmxlbmd0aCk7Y29uc3Qgbj1bXSxsPVtdO3IuZWFjaCgoKHQscyk9Pntjb25zdCBhPWQodCk7czxlLmxvb3BlZFNsaWRlcyYmbC5wdXNoKHQpLHM8ci5sZW5ndGgmJnM+PXIubGVuZ3RoLWUubG9vcGVkU2xpZGVzJiZuLnB1c2godCksYS5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIixzKX0pKTtmb3IobGV0IGU9MDtlPGwubGVuZ3RoO2UrPTEpaS5hcHBlbmQoZChsW2VdLmNsb25lTm9kZSghMCkpLmFkZENsYXNzKHMuc2xpZGVEdXBsaWNhdGVDbGFzcykpO2ZvcihsZXQgZT1uLmxlbmd0aC0xO2U+PTA7ZS09MSlpLnByZXBlbmQoZChuW2VdLmNsb25lTm9kZSghMCkpLmFkZENsYXNzKHMuc2xpZGVEdXBsaWNhdGVDbGFzcykpfSxsb29wRml4OmZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzO2UuZW1pdChcImJlZm9yZUxvb3BGaXhcIik7Y29uc3R7YWN0aXZlSW5kZXg6dCxzbGlkZXM6cyxsb29wZWRTbGlkZXM6YSxhbGxvd1NsaWRlUHJldjppLGFsbG93U2xpZGVOZXh0OnIsc25hcEdyaWQ6bixydGxUcmFuc2xhdGU6bH09ZTtsZXQgbztlLmFsbG93U2xpZGVQcmV2PSEwLGUuYWxsb3dTbGlkZU5leHQ9ITA7Y29uc3QgZD0tblt0XS1lLmdldFRyYW5zbGF0ZSgpO2lmKHQ8YSl7bz1zLmxlbmd0aC0zKmErdCxvKz1hO2Uuc2xpZGVUbyhvLDAsITEsITApJiYwIT09ZCYmZS5zZXRUcmFuc2xhdGUoKGw/LWUudHJhbnNsYXRlOmUudHJhbnNsYXRlKS1kKX1lbHNlIGlmKHQ+PXMubGVuZ3RoLWEpe289LXMubGVuZ3RoK3QrYSxvKz1hO2Uuc2xpZGVUbyhvLDAsITEsITApJiYwIT09ZCYmZS5zZXRUcmFuc2xhdGUoKGw/LWUudHJhbnNsYXRlOmUudHJhbnNsYXRlKS1kKX1lLmFsbG93U2xpZGVQcmV2PWksZS5hbGxvd1NsaWRlTmV4dD1yLGUuZW1pdChcImxvb3BGaXhcIil9LGxvb3BEZXN0cm95OmZ1bmN0aW9uKCl7Y29uc3R7JHdyYXBwZXJFbDplLHBhcmFtczp0LHNsaWRlczpzfT10aGlzO2UuY2hpbGRyZW4oYC4ke3Quc2xpZGVDbGFzc30uJHt0LnNsaWRlRHVwbGljYXRlQ2xhc3N9LC4ke3Quc2xpZGVDbGFzc30uJHt0LnNsaWRlQmxhbmtDbGFzc31gKS5yZW1vdmUoKSxzLnJlbW92ZUF0dHIoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKX19LGdyYWJDdXJzb3I6e3NldEdyYWJDdXJzb3I6ZnVuY3Rpb24oZSl7Y29uc3QgdD10aGlzO2lmKHQuc3VwcG9ydC50b3VjaHx8IXQucGFyYW1zLnNpbXVsYXRlVG91Y2h8fHQucGFyYW1zLndhdGNoT3ZlcmZsb3cmJnQuaXNMb2NrZWR8fHQucGFyYW1zLmNzc01vZGUpcmV0dXJuO2NvbnN0IHM9XCJjb250YWluZXJcIj09PXQucGFyYW1zLnRvdWNoRXZlbnRzVGFyZ2V0P3QuZWw6dC53cmFwcGVyRWw7cy5zdHlsZS5jdXJzb3I9XCJtb3ZlXCIscy5zdHlsZS5jdXJzb3I9ZT9cIi13ZWJraXQtZ3JhYmJpbmdcIjpcIi13ZWJraXQtZ3JhYlwiLHMuc3R5bGUuY3Vyc29yPWU/XCItbW96LWdyYWJiaW5cIjpcIi1tb3otZ3JhYlwiLHMuc3R5bGUuY3Vyc29yPWU/XCJncmFiYmluZ1wiOlwiZ3JhYlwifSx1bnNldEdyYWJDdXJzb3I6ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXM7ZS5zdXBwb3J0LnRvdWNofHxlLnBhcmFtcy53YXRjaE92ZXJmbG93JiZlLmlzTG9ja2VkfHxlLnBhcmFtcy5jc3NNb2RlfHwoZVtcImNvbnRhaW5lclwiPT09ZS5wYXJhbXMudG91Y2hFdmVudHNUYXJnZXQ/XCJlbFwiOlwid3JhcHBlckVsXCJdLnN0eWxlLmN1cnNvcj1cIlwiKX19LGV2ZW50czp7YXR0YWNoRXZlbnRzOmZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLHQ9YSgpLHtwYXJhbXM6cyxzdXBwb3J0Oml9PWU7ZS5vblRvdWNoU3RhcnQ9Uy5iaW5kKGUpLGUub25Ub3VjaE1vdmU9TS5iaW5kKGUpLGUub25Ub3VjaEVuZD1QLmJpbmQoZSkscy5jc3NNb2RlJiYoZS5vblNjcm9sbD1PLmJpbmQoZSkpLGUub25DbGljaz16LmJpbmQoZSksaS50b3VjaCYmIUkmJih0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsTCksST0hMCksQShlLFwib25cIil9LGRldGFjaEV2ZW50czpmdW5jdGlvbigpe0EodGhpcyxcIm9mZlwiKX19LGJyZWFrcG9pbnRzOntzZXRCcmVha3BvaW50OmZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLHthY3RpdmVJbmRleDp0LGluaXRpYWxpemVkOnMsbG9vcGVkU2xpZGVzOmE9MCxwYXJhbXM6aSwkZWw6cn09ZSxuPWkuYnJlYWtwb2ludHM7aWYoIW58fG4mJjA9PT1PYmplY3Qua2V5cyhuKS5sZW5ndGgpcmV0dXJuO2NvbnN0IGw9ZS5nZXRCcmVha3BvaW50KG4sZS5wYXJhbXMuYnJlYWtwb2ludHNCYXNlLGUuZWwpO2lmKCFsfHxlLmN1cnJlbnRCcmVha3BvaW50PT09bClyZXR1cm47Y29uc3Qgbz0obCBpbiBuP25bbF06dm9pZCAwKXx8ZS5vcmlnaW5hbFBhcmFtcyxkPUQoZSxpKSxjPUQoZSxvKSxwPWkuZW5hYmxlZDtkJiYhYz8oci5yZW1vdmVDbGFzcyhgJHtpLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZCAke2kuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkLWNvbHVtbmApLGUuZW1pdENvbnRhaW5lckNsYXNzZXMoKSk6IWQmJmMmJihyLmFkZENsYXNzKGAke2kuY29udGFpbmVyTW9kaWZpZXJDbGFzc31ncmlkYCksKG8uZ3JpZC5maWxsJiZcImNvbHVtblwiPT09by5ncmlkLmZpbGx8fCFvLmdyaWQuZmlsbCYmXCJjb2x1bW5cIj09PWkuZ3JpZC5maWxsKSYmci5hZGRDbGFzcyhgJHtpLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9Z3JpZC1jb2x1bW5gKSxlLmVtaXRDb250YWluZXJDbGFzc2VzKCkpO2NvbnN0IHU9by5kaXJlY3Rpb24mJm8uZGlyZWN0aW9uIT09aS5kaXJlY3Rpb24saD1pLmxvb3AmJihvLnNsaWRlc1BlclZpZXchPT1pLnNsaWRlc1BlclZpZXd8fHUpO3UmJnMmJmUuY2hhbmdlRGlyZWN0aW9uKCksZihlLnBhcmFtcyxvKTtjb25zdCBtPWUucGFyYW1zLmVuYWJsZWQ7T2JqZWN0LmFzc2lnbihlLHthbGxvd1RvdWNoTW92ZTplLnBhcmFtcy5hbGxvd1RvdWNoTW92ZSxhbGxvd1NsaWRlTmV4dDplLnBhcmFtcy5hbGxvd1NsaWRlTmV4dCxhbGxvd1NsaWRlUHJldjplLnBhcmFtcy5hbGxvd1NsaWRlUHJldn0pLHAmJiFtP2UuZGlzYWJsZSgpOiFwJiZtJiZlLmVuYWJsZSgpLGUuY3VycmVudEJyZWFrcG9pbnQ9bCxlLmVtaXQoXCJfYmVmb3JlQnJlYWtwb2ludFwiLG8pLGgmJnMmJihlLmxvb3BEZXN0cm95KCksZS5sb29wQ3JlYXRlKCksZS51cGRhdGVTbGlkZXMoKSxlLnNsaWRlVG8odC1hK2UubG9vcGVkU2xpZGVzLDAsITEpKSxlLmVtaXQoXCJicmVha3BvaW50XCIsbyl9LGdldEJyZWFrcG9pbnQ6ZnVuY3Rpb24oZSx0PVwid2luZG93XCIscyl7aWYoIWV8fFwiY29udGFpbmVyXCI9PT10JiYhcylyZXR1cm47bGV0IGE9ITE7Y29uc3QgaT1yKCksbj1cIndpbmRvd1wiPT09dD9pLmlubmVySGVpZ2h0OnMuY2xpZW50SGVpZ2h0LGw9T2JqZWN0LmtleXMoZSkubWFwKChlPT57aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJjA9PT1lLmluZGV4T2YoXCJAXCIpKXtjb25zdCB0PXBhcnNlRmxvYXQoZS5zdWJzdHIoMSkpO3JldHVybnt2YWx1ZTpuKnQscG9pbnQ6ZX19cmV0dXJue3ZhbHVlOmUscG9pbnQ6ZX19KSk7bC5zb3J0KCgoZSx0KT0+cGFyc2VJbnQoZS52YWx1ZSwxMCktcGFyc2VJbnQodC52YWx1ZSwxMCkpKTtmb3IobGV0IGU9MDtlPGwubGVuZ3RoO2UrPTEpe2NvbnN0e3BvaW50OnIsdmFsdWU6bn09bFtlXTtcIndpbmRvd1wiPT09dD9pLm1hdGNoTWVkaWEoYChtaW4td2lkdGg6ICR7bn1weClgKS5tYXRjaGVzJiYoYT1yKTpuPD1zLmNsaWVudFdpZHRoJiYoYT1yKX1yZXR1cm4gYXx8XCJtYXhcIn19LGNoZWNrT3ZlcmZsb3c6e2NoZWNrT3ZlcmZsb3c6ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMse2lzTG9ja2VkOnQscGFyYW1zOnN9PWUse3NsaWRlc09mZnNldEJlZm9yZTphfT1zO2lmKGEpe2NvbnN0IHQ9ZS5zbGlkZXMubGVuZ3RoLTEscz1lLnNsaWRlc0dyaWRbdF0rZS5zbGlkZXNTaXplc0dyaWRbdF0rMiphO2UuaXNMb2NrZWQ9ZS5zaXplPnN9ZWxzZSBlLmlzTG9ja2VkPTE9PT1lLnNuYXBHcmlkLmxlbmd0aDshMD09PXMuYWxsb3dTbGlkZU5leHQmJihlLmFsbG93U2xpZGVOZXh0PSFlLmlzTG9ja2VkKSwhMD09PXMuYWxsb3dTbGlkZVByZXYmJihlLmFsbG93U2xpZGVQcmV2PSFlLmlzTG9ja2VkKSx0JiZ0IT09ZS5pc0xvY2tlZCYmKGUuaXNFbmQ9ITEpLHQhPT1lLmlzTG9ja2VkJiZlLmVtaXQoZS5pc0xvY2tlZD9cImxvY2tcIjpcInVubG9ja1wiKX19LGNsYXNzZXM6e2FkZENsYXNzZXM6ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMse2NsYXNzTmFtZXM6dCxwYXJhbXM6cyxydGw6YSwkZWw6aSxkZXZpY2U6cixzdXBwb3J0Om59PWUsbD1mdW5jdGlvbihlLHQpe2NvbnN0IHM9W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e1wib2JqZWN0XCI9PXR5cGVvZiBlP09iamVjdC5rZXlzKGUpLmZvckVhY2goKGE9PntlW2FdJiZzLnB1c2godCthKX0pKTpcInN0cmluZ1wiPT10eXBlb2YgZSYmcy5wdXNoKHQrZSl9KSksc30oW1wiaW5pdGlhbGl6ZWRcIixzLmRpcmVjdGlvbix7XCJwb2ludGVyLWV2ZW50c1wiOiFuLnRvdWNofSx7XCJmcmVlLW1vZGVcIjplLnBhcmFtcy5mcmVlTW9kZSYmcy5mcmVlTW9kZS5lbmFibGVkfSx7YXV0b2hlaWdodDpzLmF1dG9IZWlnaHR9LHtydGw6YX0se2dyaWQ6cy5ncmlkJiZzLmdyaWQucm93cz4xfSx7XCJncmlkLWNvbHVtblwiOnMuZ3JpZCYmcy5ncmlkLnJvd3M+MSYmXCJjb2x1bW5cIj09PXMuZ3JpZC5maWxsfSx7YW5kcm9pZDpyLmFuZHJvaWR9LHtpb3M6ci5pb3N9LHtcImNzcy1tb2RlXCI6cy5jc3NNb2RlfSx7Y2VudGVyZWQ6cy5jc3NNb2RlJiZzLmNlbnRlcmVkU2xpZGVzfV0scy5jb250YWluZXJNb2RpZmllckNsYXNzKTt0LnB1c2goLi4ubCksaS5hZGRDbGFzcyhbLi4udF0uam9pbihcIiBcIikpLGUuZW1pdENvbnRhaW5lckNsYXNzZXMoKX0scmVtb3ZlQ2xhc3NlczpmdW5jdGlvbigpe2NvbnN0eyRlbDplLGNsYXNzTmFtZXM6dH09dGhpcztlLnJlbW92ZUNsYXNzKHQuam9pbihcIiBcIikpLHRoaXMuZW1pdENvbnRhaW5lckNsYXNzZXMoKX19LGltYWdlczp7bG9hZEltYWdlOmZ1bmN0aW9uKGUsdCxzLGEsaSxuKXtjb25zdCBsPXIoKTtsZXQgbztmdW5jdGlvbiBjKCl7biYmbigpfWQoZSkucGFyZW50KFwicGljdHVyZVwiKVswXXx8ZS5jb21wbGV0ZSYmaT9jKCk6dD8obz1uZXcgbC5JbWFnZSxvLm9ubG9hZD1jLG8ub25lcnJvcj1jLGEmJihvLnNpemVzPWEpLHMmJihvLnNyY3NldD1zKSx0JiYoby5zcmM9dCkpOmMoKX0scHJlbG9hZEltYWdlczpmdW5jdGlvbigpe2NvbnN0IGU9dGhpcztmdW5jdGlvbiB0KCl7bnVsbCE9ZSYmZSYmIWUuZGVzdHJveWVkJiYodm9pZCAwIT09ZS5pbWFnZXNMb2FkZWQmJihlLmltYWdlc0xvYWRlZCs9MSksZS5pbWFnZXNMb2FkZWQ9PT1lLmltYWdlc1RvTG9hZC5sZW5ndGgmJihlLnBhcmFtcy51cGRhdGVPbkltYWdlc1JlYWR5JiZlLnVwZGF0ZSgpLGUuZW1pdChcImltYWdlc1JlYWR5XCIpKSl9ZS5pbWFnZXNUb0xvYWQ9ZS4kZWwuZmluZChcImltZ1wiKTtmb3IobGV0IHM9MDtzPGUuaW1hZ2VzVG9Mb2FkLmxlbmd0aDtzKz0xKXtjb25zdCBhPWUuaW1hZ2VzVG9Mb2FkW3NdO2UubG9hZEltYWdlKGEsYS5jdXJyZW50U3JjfHxhLmdldEF0dHJpYnV0ZShcInNyY1wiKSxhLnNyY3NldHx8YS5nZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIiksYS5zaXplc3x8YS5nZXRBdHRyaWJ1dGUoXCJzaXplc1wiKSwhMCx0KX19fX0sWD17fTtjbGFzcyBIe2NvbnN0cnVjdG9yKC4uLmUpe2xldCB0LHM7aWYoMT09PWUubGVuZ3RoJiZlWzBdLmNvbnN0cnVjdG9yJiZcIk9iamVjdFwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGVbMF0pLnNsaWNlKDgsLTEpP3M9ZVswXTpbdCxzXT1lLHN8fChzPXt9KSxzPWYoe30scyksdCYmIXMuZWwmJihzLmVsPXQpLHMuZWwmJmQocy5lbCkubGVuZ3RoPjEpe2NvbnN0IGU9W107cmV0dXJuIGQocy5lbCkuZWFjaCgodD0+e2NvbnN0IGE9Zih7fSxzLHtlbDp0fSk7ZS5wdXNoKG5ldyBIKGEpKX0pKSxlfWNvbnN0IGE9dGhpczthLl9fc3dpcGVyX189ITAsYS5zdXBwb3J0PXkoKSxhLmRldmljZT1FKHt1c2VyQWdlbnQ6cy51c2VyQWdlbnR9KSxhLmJyb3dzZXI9VCgpLGEuZXZlbnRzTGlzdGVuZXJzPXt9LGEuZXZlbnRzQW55TGlzdGVuZXJzPVtdLGEubW9kdWxlcz1bLi4uYS5fX21vZHVsZXNfX10scy5tb2R1bGVzJiZBcnJheS5pc0FycmF5KHMubW9kdWxlcykmJmEubW9kdWxlcy5wdXNoKC4uLnMubW9kdWxlcyk7Y29uc3QgaT17fTthLm1vZHVsZXMuZm9yRWFjaCgoZT0+e2Uoe3N3aXBlcjphLGV4dGVuZFBhcmFtczpOKHMsaSksb246YS5vbi5iaW5kKGEpLG9uY2U6YS5vbmNlLmJpbmQoYSksb2ZmOmEub2ZmLmJpbmQoYSksZW1pdDphLmVtaXQuYmluZChhKX0pfSkpO2NvbnN0IHI9Zih7fSxHLGkpO3JldHVybiBhLnBhcmFtcz1mKHt9LHIsWCxzKSxhLm9yaWdpbmFsUGFyYW1zPWYoe30sYS5wYXJhbXMpLGEucGFzc2VkUGFyYW1zPWYoe30scyksYS5wYXJhbXMmJmEucGFyYW1zLm9uJiZPYmplY3Qua2V5cyhhLnBhcmFtcy5vbikuZm9yRWFjaCgoZT0+e2Eub24oZSxhLnBhcmFtcy5vbltlXSl9KSksYS5wYXJhbXMmJmEucGFyYW1zLm9uQW55JiZhLm9uQW55KGEucGFyYW1zLm9uQW55KSxhLiQ9ZCxPYmplY3QuYXNzaWduKGEse2VuYWJsZWQ6YS5wYXJhbXMuZW5hYmxlZCxlbDp0LGNsYXNzTmFtZXM6W10sc2xpZGVzOmQoKSxzbGlkZXNHcmlkOltdLHNuYXBHcmlkOltdLHNsaWRlc1NpemVzR3JpZDpbXSxpc0hvcml6b250YWw6KCk9PlwiaG9yaXpvbnRhbFwiPT09YS5wYXJhbXMuZGlyZWN0aW9uLGlzVmVydGljYWw6KCk9PlwidmVydGljYWxcIj09PWEucGFyYW1zLmRpcmVjdGlvbixhY3RpdmVJbmRleDowLHJlYWxJbmRleDowLGlzQmVnaW5uaW5nOiEwLGlzRW5kOiExLHRyYW5zbGF0ZTowLHByZXZpb3VzVHJhbnNsYXRlOjAscHJvZ3Jlc3M6MCx2ZWxvY2l0eTowLGFuaW1hdGluZzohMSxhbGxvd1NsaWRlTmV4dDphLnBhcmFtcy5hbGxvd1NsaWRlTmV4dCxhbGxvd1NsaWRlUHJldjphLnBhcmFtcy5hbGxvd1NsaWRlUHJldix0b3VjaEV2ZW50czpmdW5jdGlvbigpe2NvbnN0IGU9W1widG91Y2hzdGFydFwiLFwidG91Y2htb3ZlXCIsXCJ0b3VjaGVuZFwiLFwidG91Y2hjYW5jZWxcIl0sdD1bXCJwb2ludGVyZG93blwiLFwicG9pbnRlcm1vdmVcIixcInBvaW50ZXJ1cFwiXTtyZXR1cm4gYS50b3VjaEV2ZW50c1RvdWNoPXtzdGFydDplWzBdLG1vdmU6ZVsxXSxlbmQ6ZVsyXSxjYW5jZWw6ZVszXX0sYS50b3VjaEV2ZW50c0Rlc2t0b3A9e3N0YXJ0OnRbMF0sbW92ZTp0WzFdLGVuZDp0WzJdfSxhLnN1cHBvcnQudG91Y2h8fCFhLnBhcmFtcy5zaW11bGF0ZVRvdWNoP2EudG91Y2hFdmVudHNUb3VjaDphLnRvdWNoRXZlbnRzRGVza3RvcH0oKSx0b3VjaEV2ZW50c0RhdGE6e2lzVG91Y2hlZDp2b2lkIDAsaXNNb3ZlZDp2b2lkIDAsYWxsb3dUb3VjaENhbGxiYWNrczp2b2lkIDAsdG91Y2hTdGFydFRpbWU6dm9pZCAwLGlzU2Nyb2xsaW5nOnZvaWQgMCxjdXJyZW50VHJhbnNsYXRlOnZvaWQgMCxzdGFydFRyYW5zbGF0ZTp2b2lkIDAsYWxsb3dUaHJlc2hvbGRNb3ZlOnZvaWQgMCxmb2N1c2FibGVFbGVtZW50czphLnBhcmFtcy5mb2N1c2FibGVFbGVtZW50cyxsYXN0Q2xpY2tUaW1lOnUoKSxjbGlja1RpbWVvdXQ6dm9pZCAwLHZlbG9jaXRpZXM6W10sYWxsb3dNb21lbnR1bUJvdW5jZTp2b2lkIDAsaXNUb3VjaEV2ZW50OnZvaWQgMCxzdGFydE1vdmluZzp2b2lkIDB9LGFsbG93Q2xpY2s6ITAsYWxsb3dUb3VjaE1vdmU6YS5wYXJhbXMuYWxsb3dUb3VjaE1vdmUsdG91Y2hlczp7c3RhcnRYOjAsc3RhcnRZOjAsY3VycmVudFg6MCxjdXJyZW50WTowLGRpZmY6MH0saW1hZ2VzVG9Mb2FkOltdLGltYWdlc0xvYWRlZDowfSksYS5lbWl0KFwiX3N3aXBlclwiKSxhLnBhcmFtcy5pbml0JiZhLmluaXQoKSxhfWVuYWJsZSgpe2NvbnN0IGU9dGhpcztlLmVuYWJsZWR8fChlLmVuYWJsZWQ9ITAsZS5wYXJhbXMuZ3JhYkN1cnNvciYmZS5zZXRHcmFiQ3Vyc29yKCksZS5lbWl0KFwiZW5hYmxlXCIpKX1kaXNhYmxlKCl7Y29uc3QgZT10aGlzO2UuZW5hYmxlZCYmKGUuZW5hYmxlZD0hMSxlLnBhcmFtcy5ncmFiQ3Vyc29yJiZlLnVuc2V0R3JhYkN1cnNvcigpLGUuZW1pdChcImRpc2FibGVcIikpfXNldFByb2dyZXNzKGUsdCl7Y29uc3Qgcz10aGlzO2U9TWF0aC5taW4oTWF0aC5tYXgoZSwwKSwxKTtjb25zdCBhPXMubWluVHJhbnNsYXRlKCksaT0ocy5tYXhUcmFuc2xhdGUoKS1hKSplK2E7cy50cmFuc2xhdGVUbyhpLHZvaWQgMD09PXQ/MDp0KSxzLnVwZGF0ZUFjdGl2ZUluZGV4KCkscy51cGRhdGVTbGlkZXNDbGFzc2VzKCl9ZW1pdENvbnRhaW5lckNsYXNzZXMoKXtjb25zdCBlPXRoaXM7aWYoIWUucGFyYW1zLl9lbWl0Q2xhc3Nlc3x8IWUuZWwpcmV0dXJuO2NvbnN0IHQ9ZS5lbC5jbGFzc05hbWUuc3BsaXQoXCIgXCIpLmZpbHRlcigodD0+MD09PXQuaW5kZXhPZihcInN3aXBlclwiKXx8MD09PXQuaW5kZXhPZihlLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzKSkpO2UuZW1pdChcIl9jb250YWluZXJDbGFzc2VzXCIsdC5qb2luKFwiIFwiKSl9Z2V0U2xpZGVDbGFzc2VzKGUpe2NvbnN0IHQ9dGhpcztyZXR1cm4gZS5jbGFzc05hbWUuc3BsaXQoXCIgXCIpLmZpbHRlcigoZT0+MD09PWUuaW5kZXhPZihcInN3aXBlci1zbGlkZVwiKXx8MD09PWUuaW5kZXhPZih0LnBhcmFtcy5zbGlkZUNsYXNzKSkpLmpvaW4oXCIgXCIpfWVtaXRTbGlkZXNDbGFzc2VzKCl7Y29uc3QgZT10aGlzO2lmKCFlLnBhcmFtcy5fZW1pdENsYXNzZXN8fCFlLmVsKXJldHVybjtjb25zdCB0PVtdO2Uuc2xpZGVzLmVhY2goKHM9Pntjb25zdCBhPWUuZ2V0U2xpZGVDbGFzc2VzKHMpO3QucHVzaCh7c2xpZGVFbDpzLGNsYXNzTmFtZXM6YX0pLGUuZW1pdChcIl9zbGlkZUNsYXNzXCIscyxhKX0pKSxlLmVtaXQoXCJfc2xpZGVDbGFzc2VzXCIsdCl9c2xpZGVzUGVyVmlld0R5bmFtaWMoZT1cImN1cnJlbnRcIix0PSExKXtjb25zdHtwYXJhbXM6cyxzbGlkZXM6YSxzbGlkZXNHcmlkOmksc2xpZGVzU2l6ZXNHcmlkOnIsc2l6ZTpuLGFjdGl2ZUluZGV4Omx9PXRoaXM7bGV0IG89MTtpZihzLmNlbnRlcmVkU2xpZGVzKXtsZXQgZSx0PWFbbF0uc3dpcGVyU2xpZGVTaXplO2ZvcihsZXQgcz1sKzE7czxhLmxlbmd0aDtzKz0xKWFbc10mJiFlJiYodCs9YVtzXS5zd2lwZXJTbGlkZVNpemUsbys9MSx0Pm4mJihlPSEwKSk7Zm9yKGxldCBzPWwtMTtzPj0wO3MtPTEpYVtzXSYmIWUmJih0Kz1hW3NdLnN3aXBlclNsaWRlU2l6ZSxvKz0xLHQ+biYmKGU9ITApKX1lbHNlIGlmKFwiY3VycmVudFwiPT09ZSlmb3IobGV0IGU9bCsxO2U8YS5sZW5ndGg7ZSs9MSl7KHQ/aVtlXStyW2VdLWlbbF08bjppW2VdLWlbbF08bikmJihvKz0xKX1lbHNlIGZvcihsZXQgZT1sLTE7ZT49MDtlLT0xKXtpW2xdLWlbZV08biYmKG8rPTEpfXJldHVybiBvfXVwZGF0ZSgpe2NvbnN0IGU9dGhpcztpZighZXx8ZS5kZXN0cm95ZWQpcmV0dXJuO2NvbnN0e3NuYXBHcmlkOnQscGFyYW1zOnN9PWU7ZnVuY3Rpb24gYSgpe2NvbnN0IHQ9ZS5ydGxUcmFuc2xhdGU/LTEqZS50cmFuc2xhdGU6ZS50cmFuc2xhdGUscz1NYXRoLm1pbihNYXRoLm1heCh0LGUubWF4VHJhbnNsYXRlKCkpLGUubWluVHJhbnNsYXRlKCkpO2Uuc2V0VHJhbnNsYXRlKHMpLGUudXBkYXRlQWN0aXZlSW5kZXgoKSxlLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKX1sZXQgaTtzLmJyZWFrcG9pbnRzJiZlLnNldEJyZWFrcG9pbnQoKSxlLnVwZGF0ZVNpemUoKSxlLnVwZGF0ZVNsaWRlcygpLGUudXBkYXRlUHJvZ3Jlc3MoKSxlLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKSxlLnBhcmFtcy5mcmVlTW9kZSYmZS5wYXJhbXMuZnJlZU1vZGUuZW5hYmxlZD8oYSgpLGUucGFyYW1zLmF1dG9IZWlnaHQmJmUudXBkYXRlQXV0b0hlaWdodCgpKTooaT0oXCJhdXRvXCI9PT1lLnBhcmFtcy5zbGlkZXNQZXJWaWV3fHxlLnBhcmFtcy5zbGlkZXNQZXJWaWV3PjEpJiZlLmlzRW5kJiYhZS5wYXJhbXMuY2VudGVyZWRTbGlkZXM/ZS5zbGlkZVRvKGUuc2xpZGVzLmxlbmd0aC0xLDAsITEsITApOmUuc2xpZGVUbyhlLmFjdGl2ZUluZGV4LDAsITEsITApLGl8fGEoKSkscy53YXRjaE92ZXJmbG93JiZ0IT09ZS5zbmFwR3JpZCYmZS5jaGVja092ZXJmbG93KCksZS5lbWl0KFwidXBkYXRlXCIpfWNoYW5nZURpcmVjdGlvbihlLHQ9ITApe2NvbnN0IHM9dGhpcyxhPXMucGFyYW1zLmRpcmVjdGlvbjtyZXR1cm4gZXx8KGU9XCJob3Jpem9udGFsXCI9PT1hP1widmVydGljYWxcIjpcImhvcml6b250YWxcIiksZT09PWF8fFwiaG9yaXpvbnRhbFwiIT09ZSYmXCJ2ZXJ0aWNhbFwiIT09ZXx8KHMuJGVsLnJlbW92ZUNsYXNzKGAke3MucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9JHthfWApLmFkZENsYXNzKGAke3MucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9JHtlfWApLHMuZW1pdENvbnRhaW5lckNsYXNzZXMoKSxzLnBhcmFtcy5kaXJlY3Rpb249ZSxzLnNsaWRlcy5lYWNoKCh0PT57XCJ2ZXJ0aWNhbFwiPT09ZT90LnN0eWxlLndpZHRoPVwiXCI6dC5zdHlsZS5oZWlnaHQ9XCJcIn0pKSxzLmVtaXQoXCJjaGFuZ2VEaXJlY3Rpb25cIiksdCYmcy51cGRhdGUoKSksc31tb3VudChlKXtjb25zdCB0PXRoaXM7aWYodC5tb3VudGVkKXJldHVybiEwO2NvbnN0IHM9ZChlfHx0LnBhcmFtcy5lbCk7aWYoIShlPXNbMF0pKXJldHVybiExO2Uuc3dpcGVyPXQ7Y29uc3QgaT0oKT0+YC4keyh0LnBhcmFtcy53cmFwcGVyQ2xhc3N8fFwiXCIpLnRyaW0oKS5zcGxpdChcIiBcIikuam9pbihcIi5cIil9YDtsZXQgcj0oKCk9PntpZihlJiZlLnNoYWRvd1Jvb3QmJmUuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKXtjb25zdCB0PWQoZS5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoaSgpKSk7cmV0dXJuIHQuY2hpbGRyZW49ZT0+cy5jaGlsZHJlbihlKSx0fXJldHVybiBzLmNoaWxkcmVuKGkoKSl9KSgpO2lmKDA9PT1yLmxlbmd0aCYmdC5wYXJhbXMuY3JlYXRlRWxlbWVudHMpe2NvbnN0IGU9YSgpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cj1kKGUpLGUuY2xhc3NOYW1lPXQucGFyYW1zLndyYXBwZXJDbGFzcyxzLmFwcGVuZChlKSxzLmNoaWxkcmVuKGAuJHt0LnBhcmFtcy5zbGlkZUNsYXNzfWApLmVhY2goKGU9PntyLmFwcGVuZChlKX0pKX1yZXR1cm4gT2JqZWN0LmFzc2lnbih0LHskZWw6cyxlbDplLCR3cmFwcGVyRWw6cix3cmFwcGVyRWw6clswXSxtb3VudGVkOiEwLHJ0bDpcInJ0bFwiPT09ZS5kaXIudG9Mb3dlckNhc2UoKXx8XCJydGxcIj09PXMuY3NzKFwiZGlyZWN0aW9uXCIpLHJ0bFRyYW5zbGF0ZTpcImhvcml6b250YWxcIj09PXQucGFyYW1zLmRpcmVjdGlvbiYmKFwicnRsXCI9PT1lLmRpci50b0xvd2VyQ2FzZSgpfHxcInJ0bFwiPT09cy5jc3MoXCJkaXJlY3Rpb25cIikpLHdyb25nUlRMOlwiLXdlYmtpdC1ib3hcIj09PXIuY3NzKFwiZGlzcGxheVwiKX0pLCEwfWluaXQoZSl7Y29uc3QgdD10aGlzO2lmKHQuaW5pdGlhbGl6ZWQpcmV0dXJuIHQ7cmV0dXJuITE9PT10Lm1vdW50KGUpfHwodC5lbWl0KFwiYmVmb3JlSW5pdFwiKSx0LnBhcmFtcy5icmVha3BvaW50cyYmdC5zZXRCcmVha3BvaW50KCksdC5hZGRDbGFzc2VzKCksdC5wYXJhbXMubG9vcCYmdC5sb29wQ3JlYXRlKCksdC51cGRhdGVTaXplKCksdC51cGRhdGVTbGlkZXMoKSx0LnBhcmFtcy53YXRjaE92ZXJmbG93JiZ0LmNoZWNrT3ZlcmZsb3coKSx0LnBhcmFtcy5ncmFiQ3Vyc29yJiZ0LmVuYWJsZWQmJnQuc2V0R3JhYkN1cnNvcigpLHQucGFyYW1zLnByZWxvYWRJbWFnZXMmJnQucHJlbG9hZEltYWdlcygpLHQucGFyYW1zLmxvb3A/dC5zbGlkZVRvKHQucGFyYW1zLmluaXRpYWxTbGlkZSt0Lmxvb3BlZFNsaWRlcywwLHQucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCwhMSwhMCk6dC5zbGlkZVRvKHQucGFyYW1zLmluaXRpYWxTbGlkZSwwLHQucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCwhMSwhMCksdC5hdHRhY2hFdmVudHMoKSx0LmluaXRpYWxpemVkPSEwLHQuZW1pdChcImluaXRcIiksdC5lbWl0KFwiYWZ0ZXJJbml0XCIpKSx0fWRlc3Ryb3koZT0hMCx0PSEwKXtjb25zdCBzPXRoaXMse3BhcmFtczphLCRlbDppLCR3cmFwcGVyRWw6cixzbGlkZXM6bn09cztyZXR1cm4gdm9pZCAwPT09cy5wYXJhbXN8fHMuZGVzdHJveWVkfHwocy5lbWl0KFwiYmVmb3JlRGVzdHJveVwiKSxzLmluaXRpYWxpemVkPSExLHMuZGV0YWNoRXZlbnRzKCksYS5sb29wJiZzLmxvb3BEZXN0cm95KCksdCYmKHMucmVtb3ZlQ2xhc3NlcygpLGkucmVtb3ZlQXR0cihcInN0eWxlXCIpLHIucmVtb3ZlQXR0cihcInN0eWxlXCIpLG4mJm4ubGVuZ3RoJiZuLnJlbW92ZUNsYXNzKFthLnNsaWRlVmlzaWJsZUNsYXNzLGEuc2xpZGVBY3RpdmVDbGFzcyxhLnNsaWRlTmV4dENsYXNzLGEuc2xpZGVQcmV2Q2xhc3NdLmpvaW4oXCIgXCIpKS5yZW1vdmVBdHRyKFwic3R5bGVcIikucmVtb3ZlQXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpKSxzLmVtaXQoXCJkZXN0cm95XCIpLE9iamVjdC5rZXlzKHMuZXZlbnRzTGlzdGVuZXJzKS5mb3JFYWNoKChlPT57cy5vZmYoZSl9KSksITEhPT1lJiYocy4kZWxbMF0uc3dpcGVyPW51bGwsZnVuY3Rpb24oZSl7Y29uc3QgdD1lO09iamVjdC5rZXlzKHQpLmZvckVhY2goKGU9Pnt0cnl7dFtlXT1udWxsfWNhdGNoKGUpe310cnl7ZGVsZXRlIHRbZV19Y2F0Y2goZSl7fX0pKX0ocykpLHMuZGVzdHJveWVkPSEwKSxudWxsfXN0YXRpYyBleHRlbmREZWZhdWx0cyhlKXtmKFgsZSl9c3RhdGljIGdldCBleHRlbmRlZERlZmF1bHRzKCl7cmV0dXJuIFh9c3RhdGljIGdldCBkZWZhdWx0cygpe3JldHVybiBHfXN0YXRpYyBpbnN0YWxsTW9kdWxlKGUpe0gucHJvdG90eXBlLl9fbW9kdWxlc19ffHwoSC5wcm90b3R5cGUuX19tb2R1bGVzX189W10pO2NvbnN0IHQ9SC5wcm90b3R5cGUuX19tb2R1bGVzX187XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmdC5pbmRleE9mKGUpPDAmJnQucHVzaChlKX1zdGF0aWMgdXNlKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpPyhlLmZvckVhY2goKGU9PkguaW5zdGFsbE1vZHVsZShlKSkpLEgpOihILmluc3RhbGxNb2R1bGUoZSksSCl9fWZ1bmN0aW9uIFkoZSx0LHMsaSl7Y29uc3Qgcj1hKCk7cmV0dXJuIGUucGFyYW1zLmNyZWF0ZUVsZW1lbnRzJiZPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChhPT57aWYoIXNbYV0mJiEwPT09cy5hdXRvKXtsZXQgbj1lLiRlbC5jaGlsZHJlbihgLiR7aVthXX1gKVswXTtufHwobj1yLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbi5jbGFzc05hbWU9aVthXSxlLiRlbC5hcHBlbmQobikpLHNbYV09bix0W2FdPW59fSkpLHN9ZnVuY3Rpb24gVyhlPVwiXCIpe3JldHVybmAuJHtlLnRyaW0oKS5yZXBsYWNlKC8oW1xcLjohXFwvXSkvZyxcIlxcXFwkMVwiKS5yZXBsYWNlKC8gL2csXCIuXCIpfWB9ZnVuY3Rpb24gUihlKXtjb25zdCB0PXRoaXMseyR3cmFwcGVyRWw6cyxwYXJhbXM6YX09dDtpZihhLmxvb3AmJnQubG9vcERlc3Ryb3koKSxcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJsZW5ndGhcImluIGUpZm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz0xKWVbdF0mJnMuYXBwZW5kKGVbdF0pO2Vsc2Ugcy5hcHBlbmQoZSk7YS5sb29wJiZ0Lmxvb3BDcmVhdGUoKSxhLm9ic2VydmVyfHx0LnVwZGF0ZSgpfWZ1bmN0aW9uIGooZSl7Y29uc3QgdD10aGlzLHtwYXJhbXM6cywkd3JhcHBlckVsOmEsYWN0aXZlSW5kZXg6aX09dDtzLmxvb3AmJnQubG9vcERlc3Ryb3koKTtsZXQgcj1pKzE7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJlwibGVuZ3RoXCJpbiBlKXtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTEpZVt0XSYmYS5wcmVwZW5kKGVbdF0pO3I9aStlLmxlbmd0aH1lbHNlIGEucHJlcGVuZChlKTtzLmxvb3AmJnQubG9vcENyZWF0ZSgpLHMub2JzZXJ2ZXJ8fHQudXBkYXRlKCksdC5zbGlkZVRvKHIsMCwhMSl9ZnVuY3Rpb24gXyhlLHQpe2NvbnN0IHM9dGhpcyx7JHdyYXBwZXJFbDphLHBhcmFtczppLGFjdGl2ZUluZGV4OnJ9PXM7bGV0IG49cjtpLmxvb3AmJihuLT1zLmxvb3BlZFNsaWRlcyxzLmxvb3BEZXN0cm95KCkscy5zbGlkZXM9YS5jaGlsZHJlbihgLiR7aS5zbGlkZUNsYXNzfWApKTtjb25zdCBsPXMuc2xpZGVzLmxlbmd0aDtpZihlPD0wKXJldHVybiB2b2lkIHMucHJlcGVuZFNsaWRlKHQpO2lmKGU+PWwpcmV0dXJuIHZvaWQgcy5hcHBlbmRTbGlkZSh0KTtsZXQgbz1uPmU/bisxOm47Y29uc3QgZD1bXTtmb3IobGV0IHQ9bC0xO3Q+PWU7dC09MSl7Y29uc3QgZT1zLnNsaWRlcy5lcSh0KTtlLnJlbW92ZSgpLGQudW5zaGlmdChlKX1pZihcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJsZW5ndGhcImluIHQpe2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSs9MSl0W2VdJiZhLmFwcGVuZCh0W2VdKTtvPW4+ZT9uK3QubGVuZ3RoOm59ZWxzZSBhLmFwcGVuZCh0KTtmb3IobGV0IGU9MDtlPGQubGVuZ3RoO2UrPTEpYS5hcHBlbmQoZFtlXSk7aS5sb29wJiZzLmxvb3BDcmVhdGUoKSxpLm9ic2VydmVyfHxzLnVwZGF0ZSgpLGkubG9vcD9zLnNsaWRlVG8obytzLmxvb3BlZFNsaWRlcywwLCExKTpzLnNsaWRlVG8obywwLCExKX1mdW5jdGlvbiBWKGUpe2NvbnN0IHQ9dGhpcyx7cGFyYW1zOnMsJHdyYXBwZXJFbDphLGFjdGl2ZUluZGV4Oml9PXQ7bGV0IHI9aTtzLmxvb3AmJihyLT10Lmxvb3BlZFNsaWRlcyx0Lmxvb3BEZXN0cm95KCksdC5zbGlkZXM9YS5jaGlsZHJlbihgLiR7cy5zbGlkZUNsYXNzfWApKTtsZXQgbixsPXI7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJlwibGVuZ3RoXCJpbiBlKXtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrPTEpbj1lW3NdLHQuc2xpZGVzW25dJiZ0LnNsaWRlcy5lcShuKS5yZW1vdmUoKSxuPGwmJihsLT0xKTtsPU1hdGgubWF4KGwsMCl9ZWxzZSBuPWUsdC5zbGlkZXNbbl0mJnQuc2xpZGVzLmVxKG4pLnJlbW92ZSgpLG48bCYmKGwtPTEpLGw9TWF0aC5tYXgobCwwKTtzLmxvb3AmJnQubG9vcENyZWF0ZSgpLHMub2JzZXJ2ZXJ8fHQudXBkYXRlKCkscy5sb29wP3Quc2xpZGVUbyhsK3QubG9vcGVkU2xpZGVzLDAsITEpOnQuc2xpZGVUbyhsLDAsITEpfWZ1bmN0aW9uIHEoKXtjb25zdCBlPXRoaXMsdD1bXTtmb3IobGV0IHM9MDtzPGUuc2xpZGVzLmxlbmd0aDtzKz0xKXQucHVzaChzKTtlLnJlbW92ZVNsaWRlKHQpfWZ1bmN0aW9uIEYoZSl7Y29uc3R7ZWZmZWN0OnQsc3dpcGVyOnMsb246YSxzZXRUcmFuc2xhdGU6aSxzZXRUcmFuc2l0aW9uOnIsb3ZlcndyaXRlUGFyYW1zOm4scGVyc3BlY3RpdmU6bH09ZTthKFwiYmVmb3JlSW5pdFwiLCgoKT0+e2lmKHMucGFyYW1zLmVmZmVjdCE9PXQpcmV0dXJuO3MuY2xhc3NOYW1lcy5wdXNoKGAke3MucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9JHt0fWApLGwmJmwoKSYmcy5jbGFzc05hbWVzLnB1c2goYCR7cy5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzc30zZGApO2NvbnN0IGU9bj9uKCk6e307T2JqZWN0LmFzc2lnbihzLnBhcmFtcyxlKSxPYmplY3QuYXNzaWduKHMub3JpZ2luYWxQYXJhbXMsZSl9KSksYShcInNldFRyYW5zbGF0ZVwiLCgoKT0+e3MucGFyYW1zLmVmZmVjdD09PXQmJmkoKX0pKSxhKFwic2V0VHJhbnNpdGlvblwiLCgoZSxhKT0+e3MucGFyYW1zLmVmZmVjdD09PXQmJnIoYSl9KSl9ZnVuY3Rpb24gVShlLHQpe3JldHVybiBlLnRyYW5zZm9ybUVsP3QuZmluZChlLnRyYW5zZm9ybUVsKS5jc3Moe1wiYmFja2ZhY2UtdmlzaWJpbGl0eVwiOlwiaGlkZGVuXCIsXCItd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHlcIjpcImhpZGRlblwifSk6dH1mdW5jdGlvbiBLKHtzd2lwZXI6ZSxkdXJhdGlvbjp0LHRyYW5zZm9ybUVsOnMsYWxsU2xpZGVzOmF9KXtjb25zdHtzbGlkZXM6aSxhY3RpdmVJbmRleDpyLCR3cmFwcGVyRWw6bn09ZTtpZihlLnBhcmFtcy52aXJ0dWFsVHJhbnNsYXRlJiYwIT09dCl7bGV0IHQsbD0hMTt0PWE/cz9pLmZpbmQocyk6aTpzP2kuZXEocikuZmluZChzKTppLmVxKHIpLHQudHJhbnNpdGlvbkVuZCgoKCk9PntpZihsKXJldHVybjtpZighZXx8ZS5kZXN0cm95ZWQpcmV0dXJuO2w9ITAsZS5hbmltYXRpbmc9ITE7Y29uc3QgdD1bXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsXCJ0cmFuc2l0aW9uZW5kXCJdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSs9MSluLnRyaWdnZXIodFtlXSl9KSl9fWZ1bmN0aW9uIFooZSx0LHMpe2NvbnN0IGE9XCJzd2lwZXItc2xpZGUtc2hhZG93XCIrKHM/YC0ke3N9YDpcIlwiKSxpPWUudHJhbnNmb3JtRWw/dC5maW5kKGUudHJhbnNmb3JtRWwpOnQ7bGV0IHI9aS5jaGlsZHJlbihgLiR7YX1gKTtyZXR1cm4gci5sZW5ndGh8fChyPWQoYDxkaXYgY2xhc3M9XCJzd2lwZXItc2xpZGUtc2hhZG93JHtzP2AtJHtzfWA6XCJcIn1cIj48L2Rpdj5gKSxpLmFwcGVuZChyKSkscn1PYmplY3Qua2V5cyhCKS5mb3JFYWNoKChlPT57T2JqZWN0LmtleXMoQltlXSkuZm9yRWFjaCgodD0+e0gucHJvdG90eXBlW3RdPUJbZV1bdF19KSl9KSksSC51c2UoW2Z1bmN0aW9uKHtzd2lwZXI6ZSxvbjp0LGVtaXQ6c30pe2NvbnN0IGE9cigpO2xldCBpPW51bGw7Y29uc3Qgbj0oKT0+e2UmJiFlLmRlc3Ryb3llZCYmZS5pbml0aWFsaXplZCYmKHMoXCJiZWZvcmVSZXNpemVcIikscyhcInJlc2l6ZVwiKSl9LGw9KCk9PntlJiYhZS5kZXN0cm95ZWQmJmUuaW5pdGlhbGl6ZWQmJnMoXCJvcmllbnRhdGlvbmNoYW5nZVwiKX07dChcImluaXRcIiwoKCk9PntlLnBhcmFtcy5yZXNpemVPYnNlcnZlciYmdm9pZCAwIT09YS5SZXNpemVPYnNlcnZlcj9lJiYhZS5kZXN0cm95ZWQmJmUuaW5pdGlhbGl6ZWQmJihpPW5ldyBSZXNpemVPYnNlcnZlcigodD0+e2NvbnN0e3dpZHRoOnMsaGVpZ2h0OmF9PWU7bGV0IGk9cyxyPWE7dC5mb3JFYWNoKCgoe2NvbnRlbnRCb3hTaXplOnQsY29udGVudFJlY3Q6cyx0YXJnZXQ6YX0pPT57YSYmYSE9PWUuZWx8fChpPXM/cy53aWR0aDoodFswXXx8dCkuaW5saW5lU2l6ZSxyPXM/cy5oZWlnaHQ6KHRbMF18fHQpLmJsb2NrU2l6ZSl9KSksaT09PXMmJnI9PT1hfHxuKCl9KSksaS5vYnNlcnZlKGUuZWwpKTooYS5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsbiksYS5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIixsKSl9KSksdChcImRlc3Ryb3lcIiwoKCk9PntpJiZpLnVub2JzZXJ2ZSYmZS5lbCYmKGkudW5vYnNlcnZlKGUuZWwpLGk9bnVsbCksYS5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsbiksYS5yZW1vdmVFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIixsKX0pKX0sZnVuY3Rpb24oe3N3aXBlcjplLGV4dGVuZFBhcmFtczp0LG9uOnMsZW1pdDphfSl7Y29uc3QgaT1bXSxuPXIoKSxsPShlLHQ9e30pPT57Y29uc3Qgcz1uZXcobi5NdXRhdGlvbk9ic2VydmVyfHxuLldlYmtpdE11dGF0aW9uT2JzZXJ2ZXIpKChlPT57aWYoMT09PWUubGVuZ3RoKXJldHVybiB2b2lkIGEoXCJvYnNlcnZlclVwZGF0ZVwiLGVbMF0pO2NvbnN0IHQ9ZnVuY3Rpb24oKXthKFwib2JzZXJ2ZXJVcGRhdGVcIixlWzBdKX07bi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/bi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodCk6bi5zZXRUaW1lb3V0KHQsMCl9KSk7cy5vYnNlcnZlKGUse2F0dHJpYnV0ZXM6dm9pZCAwPT09dC5hdHRyaWJ1dGVzfHx0LmF0dHJpYnV0ZXMsY2hpbGRMaXN0OnZvaWQgMD09PXQuY2hpbGRMaXN0fHx0LmNoaWxkTGlzdCxjaGFyYWN0ZXJEYXRhOnZvaWQgMD09PXQuY2hhcmFjdGVyRGF0YXx8dC5jaGFyYWN0ZXJEYXRhfSksaS5wdXNoKHMpfTt0KHtvYnNlcnZlcjohMSxvYnNlcnZlUGFyZW50czohMSxvYnNlcnZlU2xpZGVDaGlsZHJlbjohMX0pLHMoXCJpbml0XCIsKCgpPT57aWYoZS5wYXJhbXMub2JzZXJ2ZXIpe2lmKGUucGFyYW1zLm9ic2VydmVQYXJlbnRzKXtjb25zdCB0PWUuJGVsLnBhcmVudHMoKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrPTEpbCh0W2VdKX1sKGUuJGVsWzBdLHtjaGlsZExpc3Q6ZS5wYXJhbXMub2JzZXJ2ZVNsaWRlQ2hpbGRyZW59KSxsKGUuJHdyYXBwZXJFbFswXSx7YXR0cmlidXRlczohMX0pfX0pKSxzKFwiZGVzdHJveVwiLCgoKT0+e2kuZm9yRWFjaCgoZT0+e2UuZGlzY29ubmVjdCgpfSkpLGkuc3BsaWNlKDAsaS5sZW5ndGgpfSkpfV0pO2NvbnN0IEo9W2Z1bmN0aW9uKHtzd2lwZXI6ZSxleHRlbmRQYXJhbXM6dCxvbjpzfSl7bGV0IGE7ZnVuY3Rpb24gaSh0LHMpe2NvbnN0IGE9ZS5wYXJhbXMudmlydHVhbDtpZihhLmNhY2hlJiZlLnZpcnR1YWwuY2FjaGVbc10pcmV0dXJuIGUudmlydHVhbC5jYWNoZVtzXTtjb25zdCBpPWEucmVuZGVyU2xpZGU/ZChhLnJlbmRlclNsaWRlLmNhbGwoZSx0LHMpKTpkKGA8ZGl2IGNsYXNzPVwiJHtlLnBhcmFtcy5zbGlkZUNsYXNzfVwiIGRhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtzfVwiPiR7dH08L2Rpdj5gKTtyZXR1cm4gaS5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIil8fGkuYXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIscyksYS5jYWNoZSYmKGUudmlydHVhbC5jYWNoZVtzXT1pKSxpfWZ1bmN0aW9uIHIodCl7Y29uc3R7c2xpZGVzUGVyVmlldzpzLHNsaWRlc1Blckdyb3VwOmEsY2VudGVyZWRTbGlkZXM6cn09ZS5wYXJhbXMse2FkZFNsaWRlc0JlZm9yZTpuLGFkZFNsaWRlc0FmdGVyOmx9PWUucGFyYW1zLnZpcnR1YWwse2Zyb206byx0bzpkLHNsaWRlczpjLHNsaWRlc0dyaWQ6cCxvZmZzZXQ6dX09ZS52aXJ0dWFsO2UucGFyYW1zLmNzc01vZGV8fGUudXBkYXRlQWN0aXZlSW5kZXgoKTtjb25zdCBoPWUuYWN0aXZlSW5kZXh8fDA7bGV0IG0sZixnO209ZS5ydGxUcmFuc2xhdGU/XCJyaWdodFwiOmUuaXNIb3Jpem9udGFsKCk/XCJsZWZ0XCI6XCJ0b3BcIixyPyhmPU1hdGguZmxvb3Iocy8yKSthK2wsZz1NYXRoLmZsb29yKHMvMikrYStuKTooZj1zKyhhLTEpK2wsZz1hK24pO2NvbnN0IHY9TWF0aC5tYXgoKGh8fDApLWcsMCksdz1NYXRoLm1pbigoaHx8MCkrZixjLmxlbmd0aC0xKSxiPShlLnNsaWRlc0dyaWRbdl18fDApLShlLnNsaWRlc0dyaWRbMF18fDApO2Z1bmN0aW9uIHgoKXtlLnVwZGF0ZVNsaWRlcygpLGUudXBkYXRlUHJvZ3Jlc3MoKSxlLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKSxlLmxhenkmJmUucGFyYW1zLmxhenkuZW5hYmxlZCYmZS5sYXp5LmxvYWQoKX1pZihPYmplY3QuYXNzaWduKGUudmlydHVhbCx7ZnJvbTp2LHRvOncsb2Zmc2V0OmIsc2xpZGVzR3JpZDplLnNsaWRlc0dyaWR9KSxvPT09diYmZD09PXcmJiF0KXJldHVybiBlLnNsaWRlc0dyaWQhPT1wJiZiIT09dSYmZS5zbGlkZXMuY3NzKG0sYCR7Yn1weGApLHZvaWQgZS51cGRhdGVQcm9ncmVzcygpO2lmKGUucGFyYW1zLnZpcnR1YWwucmVuZGVyRXh0ZXJuYWwpcmV0dXJuIGUucGFyYW1zLnZpcnR1YWwucmVuZGVyRXh0ZXJuYWwuY2FsbChlLHtvZmZzZXQ6Yixmcm9tOnYsdG86dyxzbGlkZXM6ZnVuY3Rpb24oKXtjb25zdCBlPVtdO2ZvcihsZXQgdD12O3Q8PXc7dCs9MSllLnB1c2goY1t0XSk7cmV0dXJuIGV9KCl9KSx2b2lkKGUucGFyYW1zLnZpcnR1YWwucmVuZGVyRXh0ZXJuYWxVcGRhdGUmJngoKSk7Y29uc3QgeT1bXSxFPVtdO2lmKHQpZS4kd3JhcHBlckVsLmZpbmQoYC4ke2UucGFyYW1zLnNsaWRlQ2xhc3N9YCkucmVtb3ZlKCk7ZWxzZSBmb3IobGV0IHQ9bzt0PD1kO3QrPTEpKHQ8dnx8dD53KSYmZS4kd3JhcHBlckVsLmZpbmQoYC4ke2UucGFyYW1zLnNsaWRlQ2xhc3N9W2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHt0fVwiXWApLnJlbW92ZSgpO2ZvcihsZXQgZT0wO2U8Yy5sZW5ndGg7ZSs9MSllPj12JiZlPD13JiYodm9pZCAwPT09ZHx8dD9FLnB1c2goZSk6KGU+ZCYmRS5wdXNoKGUpLGU8byYmeS5wdXNoKGUpKSk7RS5mb3JFYWNoKCh0PT57ZS4kd3JhcHBlckVsLmFwcGVuZChpKGNbdF0sdCkpfSkpLHkuc29ydCgoKGUsdCk9PnQtZSkpLmZvckVhY2goKHQ9PntlLiR3cmFwcGVyRWwucHJlcGVuZChpKGNbdF0sdCkpfSkpLGUuJHdyYXBwZXJFbC5jaGlsZHJlbihcIi5zd2lwZXItc2xpZGVcIikuY3NzKG0sYCR7Yn1weGApLHgoKX10KHt2aXJ0dWFsOntlbmFibGVkOiExLHNsaWRlczpbXSxjYWNoZTohMCxyZW5kZXJTbGlkZTpudWxsLHJlbmRlckV4dGVybmFsOm51bGwscmVuZGVyRXh0ZXJuYWxVcGRhdGU6ITAsYWRkU2xpZGVzQmVmb3JlOjAsYWRkU2xpZGVzQWZ0ZXI6MH19KSxlLnZpcnR1YWw9e2NhY2hlOnt9LGZyb206dm9pZCAwLHRvOnZvaWQgMCxzbGlkZXM6W10sb2Zmc2V0OjAsc2xpZGVzR3JpZDpbXX0scyhcImJlZm9yZUluaXRcIiwoKCk9PntlLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQmJihlLnZpcnR1YWwuc2xpZGVzPWUucGFyYW1zLnZpcnR1YWwuc2xpZGVzLGUuY2xhc3NOYW1lcy5wdXNoKGAke2UucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3N9dmlydHVhbGApLGUucGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3M9ITAsZS5vcmlnaW5hbFBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzPSEwLGUucGFyYW1zLmluaXRpYWxTbGlkZXx8cigpKX0pKSxzKFwic2V0VHJhbnNsYXRlXCIsKCgpPT57ZS5wYXJhbXMudmlydHVhbC5lbmFibGVkJiYoZS5wYXJhbXMuY3NzTW9kZSYmIWUuX2ltbWVkaWF0ZVZpcnR1YWw/KGNsZWFyVGltZW91dChhKSxhPXNldFRpbWVvdXQoKCgpPT57cigpfSksMTAwKSk6cigpKX0pKSxzKFwiaW5pdCB1cGRhdGUgcmVzaXplXCIsKCgpPT57ZS5wYXJhbXMudmlydHVhbC5lbmFibGVkJiZlLnBhcmFtcy5jc3NNb2RlJiZnKGUud3JhcHBlckVsLFwiLS1zd2lwZXItdmlydHVhbC1zaXplXCIsYCR7ZS52aXJ0dWFsU2l6ZX1weGApfSkpLE9iamVjdC5hc3NpZ24oZS52aXJ0dWFsLHthcHBlbmRTbGlkZTpmdW5jdGlvbih0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJsZW5ndGhcImluIHQpZm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKz0xKXRbc10mJmUudmlydHVhbC5zbGlkZXMucHVzaCh0W3NdKTtlbHNlIGUudmlydHVhbC5zbGlkZXMucHVzaCh0KTtyKCEwKX0scHJlcGVuZFNsaWRlOmZ1bmN0aW9uKHQpe2NvbnN0IHM9ZS5hY3RpdmVJbmRleDtsZXQgYT1zKzEsaT0xO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7cys9MSl0W3NdJiZlLnZpcnR1YWwuc2xpZGVzLnVuc2hpZnQodFtzXSk7YT1zK3QubGVuZ3RoLGk9dC5sZW5ndGh9ZWxzZSBlLnZpcnR1YWwuc2xpZGVzLnVuc2hpZnQodCk7aWYoZS5wYXJhbXMudmlydHVhbC5jYWNoZSl7Y29uc3QgdD1lLnZpcnR1YWwuY2FjaGUscz17fTtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChlPT57Y29uc3QgYT10W2VdLHI9YS5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIik7ciYmYS5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIixwYXJzZUludChyLDEwKStpKSxzW3BhcnNlSW50KGUsMTApK2ldPWF9KSksZS52aXJ0dWFsLmNhY2hlPXN9cighMCksZS5zbGlkZVRvKGEsMCl9LHJlbW92ZVNsaWRlOmZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpcmV0dXJuO2xldCBzPWUuYWN0aXZlSW5kZXg7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IobGV0IGE9dC5sZW5ndGgtMTthPj0wO2EtPTEpZS52aXJ0dWFsLnNsaWRlcy5zcGxpY2UodFthXSwxKSxlLnBhcmFtcy52aXJ0dWFsLmNhY2hlJiZkZWxldGUgZS52aXJ0dWFsLmNhY2hlW3RbYV1dLHRbYV08cyYmKHMtPTEpLHM9TWF0aC5tYXgocywwKTtlbHNlIGUudmlydHVhbC5zbGlkZXMuc3BsaWNlKHQsMSksZS5wYXJhbXMudmlydHVhbC5jYWNoZSYmZGVsZXRlIGUudmlydHVhbC5jYWNoZVt0XSx0PHMmJihzLT0xKSxzPU1hdGgubWF4KHMsMCk7cighMCksZS5zbGlkZVRvKHMsMCl9LHJlbW92ZUFsbFNsaWRlczpmdW5jdGlvbigpe2UudmlydHVhbC5zbGlkZXM9W10sZS5wYXJhbXMudmlydHVhbC5jYWNoZSYmKGUudmlydHVhbC5jYWNoZT17fSkscighMCksZS5zbGlkZVRvKDAsMCl9LHVwZGF0ZTpyfSl9LGZ1bmN0aW9uKHtzd2lwZXI6ZSxleHRlbmRQYXJhbXM6dCxvbjpzLGVtaXQ6aX0pe2NvbnN0IG49YSgpLGw9cigpO2Z1bmN0aW9uIG8odCl7aWYoIWUuZW5hYmxlZClyZXR1cm47Y29uc3R7cnRsVHJhbnNsYXRlOnN9PWU7bGV0IGE9dDthLm9yaWdpbmFsRXZlbnQmJihhPWEub3JpZ2luYWxFdmVudCk7Y29uc3Qgcj1hLmtleUNvZGV8fGEuY2hhckNvZGUsbz1lLnBhcmFtcy5rZXlib2FyZC5wYWdlVXBEb3duLGQ9byYmMzM9PT1yLGM9byYmMzQ9PT1yLHA9Mzc9PT1yLHU9Mzk9PT1yLGg9Mzg9PT1yLG09NDA9PT1yO2lmKCFlLmFsbG93U2xpZGVOZXh0JiYoZS5pc0hvcml6b250YWwoKSYmdXx8ZS5pc1ZlcnRpY2FsKCkmJm18fGMpKXJldHVybiExO2lmKCFlLmFsbG93U2xpZGVQcmV2JiYoZS5pc0hvcml6b250YWwoKSYmcHx8ZS5pc1ZlcnRpY2FsKCkmJmh8fGQpKXJldHVybiExO2lmKCEoYS5zaGlmdEtleXx8YS5hbHRLZXl8fGEuY3RybEtleXx8YS5tZXRhS2V5fHxuLmFjdGl2ZUVsZW1lbnQmJm4uYWN0aXZlRWxlbWVudC5ub2RlTmFtZSYmKFwiaW5wdXRcIj09PW4uYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfHxcInRleHRhcmVhXCI9PT1uLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkpKXtpZihlLnBhcmFtcy5rZXlib2FyZC5vbmx5SW5WaWV3cG9ydCYmKGR8fGN8fHB8fHV8fGh8fG0pKXtsZXQgdD0hMTtpZihlLiRlbC5wYXJlbnRzKGAuJHtlLnBhcmFtcy5zbGlkZUNsYXNzfWApLmxlbmd0aD4wJiYwPT09ZS4kZWwucGFyZW50cyhgLiR7ZS5wYXJhbXMuc2xpZGVBY3RpdmVDbGFzc31gKS5sZW5ndGgpcmV0dXJuO2NvbnN0IGE9ZS4kZWwsaT1hWzBdLmNsaWVudFdpZHRoLHI9YVswXS5jbGllbnRIZWlnaHQsbj1sLmlubmVyV2lkdGgsbz1sLmlubmVySGVpZ2h0LGQ9ZS4kZWwub2Zmc2V0KCk7cyYmKGQubGVmdC09ZS4kZWxbMF0uc2Nyb2xsTGVmdCk7Y29uc3QgYz1bW2QubGVmdCxkLnRvcF0sW2QubGVmdCtpLGQudG9wXSxbZC5sZWZ0LGQudG9wK3JdLFtkLmxlZnQraSxkLnRvcCtyXV07Zm9yKGxldCBlPTA7ZTxjLmxlbmd0aDtlKz0xKXtjb25zdCBzPWNbZV07aWYoc1swXT49MCYmc1swXTw9biYmc1sxXT49MCYmc1sxXTw9byl7aWYoMD09PXNbMF0mJjA9PT1zWzFdKWNvbnRpbnVlO3Q9ITB9fWlmKCF0KXJldHVybn1lLmlzSG9yaXpvbnRhbCgpPygoZHx8Y3x8cHx8dSkmJihhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExKSwoKGN8fHUpJiYhc3x8KGR8fHApJiZzKSYmZS5zbGlkZU5leHQoKSwoKGR8fHApJiYhc3x8KGN8fHUpJiZzKSYmZS5zbGlkZVByZXYoKSk6KChkfHxjfHxofHxtKSYmKGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpLChjfHxtKSYmZS5zbGlkZU5leHQoKSwoZHx8aCkmJmUuc2xpZGVQcmV2KCkpLGkoXCJrZXlQcmVzc1wiLHIpfX1mdW5jdGlvbiBjKCl7ZS5rZXlib2FyZC5lbmFibGVkfHwoZChuKS5vbihcImtleWRvd25cIixvKSxlLmtleWJvYXJkLmVuYWJsZWQ9ITApfWZ1bmN0aW9uIHAoKXtlLmtleWJvYXJkLmVuYWJsZWQmJihkKG4pLm9mZihcImtleWRvd25cIixvKSxlLmtleWJvYXJkLmVuYWJsZWQ9ITEpfWUua2V5Ym9hcmQ9e2VuYWJsZWQ6ITF9LHQoe2tleWJvYXJkOntlbmFibGVkOiExLG9ubHlJblZpZXdwb3J0OiEwLHBhZ2VVcERvd246ITB9fSkscyhcImluaXRcIiwoKCk9PntlLnBhcmFtcy5rZXlib2FyZC5lbmFibGVkJiZjKCl9KSkscyhcImRlc3Ryb3lcIiwoKCk9PntlLmtleWJvYXJkLmVuYWJsZWQmJnAoKX0pKSxPYmplY3QuYXNzaWduKGUua2V5Ym9hcmQse2VuYWJsZTpjLGRpc2FibGU6cH0pfSxmdW5jdGlvbih7c3dpcGVyOmUsZXh0ZW5kUGFyYW1zOnQsb246cyxlbWl0OmF9KXtjb25zdCBpPXIoKTtsZXQgbjt0KHttb3VzZXdoZWVsOntlbmFibGVkOiExLHJlbGVhc2VPbkVkZ2VzOiExLGludmVydDohMSxmb3JjZVRvQXhpczohMSxzZW5zaXRpdml0eToxLGV2ZW50c1RhcmdldDpcImNvbnRhaW5lclwiLHRocmVzaG9sZERlbHRhOm51bGwsdGhyZXNob2xkVGltZTpudWxsfX0pLGUubW91c2V3aGVlbD17ZW5hYmxlZDohMX07bGV0IGwsbz11KCk7Y29uc3QgYz1bXTtmdW5jdGlvbiBoKCl7ZS5lbmFibGVkJiYoZS5tb3VzZUVudGVyZWQ9ITApfWZ1bmN0aW9uIG0oKXtlLmVuYWJsZWQmJihlLm1vdXNlRW50ZXJlZD0hMSl9ZnVuY3Rpb24gZih0KXtyZXR1cm4hKGUucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkRGVsdGEmJnQuZGVsdGE8ZS5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGREZWx0YSkmJighKGUucGFyYW1zLm1vdXNld2hlZWwudGhyZXNob2xkVGltZSYmdSgpLW88ZS5wYXJhbXMubW91c2V3aGVlbC50aHJlc2hvbGRUaW1lKSYmKHQuZGVsdGE+PTYmJnUoKS1vPDYwfHwodC5kaXJlY3Rpb248MD9lLmlzRW5kJiYhZS5wYXJhbXMubG9vcHx8ZS5hbmltYXRpbmd8fChlLnNsaWRlTmV4dCgpLGEoXCJzY3JvbGxcIix0LnJhdykpOmUuaXNCZWdpbm5pbmcmJiFlLnBhcmFtcy5sb29wfHxlLmFuaW1hdGluZ3x8KGUuc2xpZGVQcmV2KCksYShcInNjcm9sbFwiLHQucmF3KSksbz0obmV3IGkuRGF0ZSkuZ2V0VGltZSgpLCExKSkpfWZ1bmN0aW9uIGcodCl7bGV0IHM9dCxpPSEwO2lmKCFlLmVuYWJsZWQpcmV0dXJuO2NvbnN0IHI9ZS5wYXJhbXMubW91c2V3aGVlbDtlLnBhcmFtcy5jc3NNb2RlJiZzLnByZXZlbnREZWZhdWx0KCk7bGV0IG89ZS4kZWw7aWYoXCJjb250YWluZXJcIiE9PWUucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0JiYobz1kKGUucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2V0KSksIWUubW91c2VFbnRlcmVkJiYhb1swXS5jb250YWlucyhzLnRhcmdldCkmJiFyLnJlbGVhc2VPbkVkZ2VzKXJldHVybiEwO3Mub3JpZ2luYWxFdmVudCYmKHM9cy5vcmlnaW5hbEV2ZW50KTtsZXQgaD0wO2NvbnN0IG09ZS5ydGxUcmFuc2xhdGU/LTE6MSxnPWZ1bmN0aW9uKGUpe2xldCB0PTAscz0wLGE9MCxpPTA7cmV0dXJuXCJkZXRhaWxcImluIGUmJihzPWUuZGV0YWlsKSxcIndoZWVsRGVsdGFcImluIGUmJihzPS1lLndoZWVsRGVsdGEvMTIwKSxcIndoZWVsRGVsdGFZXCJpbiBlJiYocz0tZS53aGVlbERlbHRhWS8xMjApLFwid2hlZWxEZWx0YVhcImluIGUmJih0PS1lLndoZWVsRGVsdGFYLzEyMCksXCJheGlzXCJpbiBlJiZlLmF4aXM9PT1lLkhPUklaT05UQUxfQVhJUyYmKHQ9cyxzPTApLGE9MTAqdCxpPTEwKnMsXCJkZWx0YVlcImluIGUmJihpPWUuZGVsdGFZKSxcImRlbHRhWFwiaW4gZSYmKGE9ZS5kZWx0YVgpLGUuc2hpZnRLZXkmJiFhJiYoYT1pLGk9MCksKGF8fGkpJiZlLmRlbHRhTW9kZSYmKDE9PT1lLmRlbHRhTW9kZT8oYSo9NDAsaSo9NDApOihhKj04MDAsaSo9ODAwKSksYSYmIXQmJih0PWE8MT8tMToxKSxpJiYhcyYmKHM9aTwxPy0xOjEpLHtzcGluWDp0LHNwaW5ZOnMscGl4ZWxYOmEscGl4ZWxZOml9fShzKTtpZihyLmZvcmNlVG9BeGlzKWlmKGUuaXNIb3Jpem9udGFsKCkpe2lmKCEoTWF0aC5hYnMoZy5waXhlbFgpPk1hdGguYWJzKGcucGl4ZWxZKSkpcmV0dXJuITA7aD0tZy5waXhlbFgqbX1lbHNle2lmKCEoTWF0aC5hYnMoZy5waXhlbFkpPk1hdGguYWJzKGcucGl4ZWxYKSkpcmV0dXJuITA7aD0tZy5waXhlbFl9ZWxzZSBoPU1hdGguYWJzKGcucGl4ZWxYKT5NYXRoLmFicyhnLnBpeGVsWSk/LWcucGl4ZWxYKm06LWcucGl4ZWxZO2lmKDA9PT1oKXJldHVybiEwO3IuaW52ZXJ0JiYoaD0taCk7bGV0IHY9ZS5nZXRUcmFuc2xhdGUoKStoKnIuc2Vuc2l0aXZpdHk7aWYodj49ZS5taW5UcmFuc2xhdGUoKSYmKHY9ZS5taW5UcmFuc2xhdGUoKSksdjw9ZS5tYXhUcmFuc2xhdGUoKSYmKHY9ZS5tYXhUcmFuc2xhdGUoKSksaT0hIWUucGFyYW1zLmxvb3B8fCEodj09PWUubWluVHJhbnNsYXRlKCl8fHY9PT1lLm1heFRyYW5zbGF0ZSgpKSxpJiZlLnBhcmFtcy5uZXN0ZWQmJnMuc3RvcFByb3BhZ2F0aW9uKCksZS5wYXJhbXMuZnJlZU1vZGUmJmUucGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQpe2NvbnN0IHQ9e3RpbWU6dSgpLGRlbHRhOk1hdGguYWJzKGgpLGRpcmVjdGlvbjpNYXRoLnNpZ24oaCl9LGk9bCYmdC50aW1lPGwudGltZSs1MDAmJnQuZGVsdGE8PWwuZGVsdGEmJnQuZGlyZWN0aW9uPT09bC5kaXJlY3Rpb247aWYoIWkpe2w9dm9pZCAwLGUucGFyYW1zLmxvb3AmJmUubG9vcEZpeCgpO2xldCBvPWUuZ2V0VHJhbnNsYXRlKCkraCpyLnNlbnNpdGl2aXR5O2NvbnN0IGQ9ZS5pc0JlZ2lubmluZyx1PWUuaXNFbmQ7aWYobz49ZS5taW5UcmFuc2xhdGUoKSYmKG89ZS5taW5UcmFuc2xhdGUoKSksbzw9ZS5tYXhUcmFuc2xhdGUoKSYmKG89ZS5tYXhUcmFuc2xhdGUoKSksZS5zZXRUcmFuc2l0aW9uKDApLGUuc2V0VHJhbnNsYXRlKG8pLGUudXBkYXRlUHJvZ3Jlc3MoKSxlLnVwZGF0ZUFjdGl2ZUluZGV4KCksZS51cGRhdGVTbGlkZXNDbGFzc2VzKCksKCFkJiZlLmlzQmVnaW5uaW5nfHwhdSYmZS5pc0VuZCkmJmUudXBkYXRlU2xpZGVzQ2xhc3NlcygpLGUucGFyYW1zLmZyZWVNb2RlLnN0aWNreSl7Y2xlYXJUaW1lb3V0KG4pLG49dm9pZCAwLGMubGVuZ3RoPj0xNSYmYy5zaGlmdCgpO2NvbnN0IHM9Yy5sZW5ndGg/Y1tjLmxlbmd0aC0xXTp2b2lkIDAsYT1jWzBdO2lmKGMucHVzaCh0KSxzJiYodC5kZWx0YT5zLmRlbHRhfHx0LmRpcmVjdGlvbiE9PXMuZGlyZWN0aW9uKSljLnNwbGljZSgwKTtlbHNlIGlmKGMubGVuZ3RoPj0xNSYmdC50aW1lLWEudGltZTw1MDAmJmEuZGVsdGEtdC5kZWx0YT49MSYmdC5kZWx0YTw9Nil7Y29uc3Qgcz1oPjA/Ljg6LjI7bD10LGMuc3BsaWNlKDApLG49cCgoKCk9PntlLnNsaWRlVG9DbG9zZXN0KGUucGFyYW1zLnNwZWVkLCEwLHZvaWQgMCxzKX0pLDApfW58fChuPXAoKCgpPT57bD10LGMuc3BsaWNlKDApLGUuc2xpZGVUb0Nsb3Nlc3QoZS5wYXJhbXMuc3BlZWQsITAsdm9pZCAwLC41KX0pLDUwMCkpfWlmKGl8fGEoXCJzY3JvbGxcIixzKSxlLnBhcmFtcy5hdXRvcGxheSYmZS5wYXJhbXMuYXV0b3BsYXlEaXNhYmxlT25JbnRlcmFjdGlvbiYmZS5hdXRvcGxheS5zdG9wKCksbz09PWUubWluVHJhbnNsYXRlKCl8fG89PT1lLm1heFRyYW5zbGF0ZSgpKXJldHVybiEwfX1lbHNle2NvbnN0IHM9e3RpbWU6dSgpLGRlbHRhOk1hdGguYWJzKGgpLGRpcmVjdGlvbjpNYXRoLnNpZ24oaCkscmF3OnR9O2MubGVuZ3RoPj0yJiZjLnNoaWZ0KCk7Y29uc3QgYT1jLmxlbmd0aD9jW2MubGVuZ3RoLTFdOnZvaWQgMDtpZihjLnB1c2gocyksYT8ocy5kaXJlY3Rpb24hPT1hLmRpcmVjdGlvbnx8cy5kZWx0YT5hLmRlbHRhfHxzLnRpbWU+YS50aW1lKzE1MCkmJmYocyk6ZihzKSxmdW5jdGlvbih0KXtjb25zdCBzPWUucGFyYW1zLm1vdXNld2hlZWw7aWYodC5kaXJlY3Rpb248MCl7aWYoZS5pc0VuZCYmIWUucGFyYW1zLmxvb3AmJnMucmVsZWFzZU9uRWRnZXMpcmV0dXJuITB9ZWxzZSBpZihlLmlzQmVnaW5uaW5nJiYhZS5wYXJhbXMubG9vcCYmcy5yZWxlYXNlT25FZGdlcylyZXR1cm4hMDtyZXR1cm4hMX0ocykpcmV0dXJuITB9cmV0dXJuIHMucHJldmVudERlZmF1bHQ/cy5wcmV2ZW50RGVmYXVsdCgpOnMucmV0dXJuVmFsdWU9ITEsITF9ZnVuY3Rpb24gdih0KXtsZXQgcz1lLiRlbDtcImNvbnRhaW5lclwiIT09ZS5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQmJihzPWQoZS5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZXQpKSxzW3RdKFwibW91c2VlbnRlclwiLGgpLHNbdF0oXCJtb3VzZWxlYXZlXCIsbSksc1t0XShcIndoZWVsXCIsZyl9ZnVuY3Rpb24gdygpe3JldHVybiBlLnBhcmFtcy5jc3NNb2RlPyhlLndyYXBwZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIixnKSwhMCk6IWUubW91c2V3aGVlbC5lbmFibGVkJiYodihcIm9uXCIpLGUubW91c2V3aGVlbC5lbmFibGVkPSEwLCEwKX1mdW5jdGlvbiBiKCl7cmV0dXJuIGUucGFyYW1zLmNzc01vZGU/KGUud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsZyksITApOiEhZS5tb3VzZXdoZWVsLmVuYWJsZWQmJih2KFwib2ZmXCIpLGUubW91c2V3aGVlbC5lbmFibGVkPSExLCEwKX1zKFwiaW5pdFwiLCgoKT0+eyFlLnBhcmFtcy5tb3VzZXdoZWVsLmVuYWJsZWQmJmUucGFyYW1zLmNzc01vZGUmJmIoKSxlLnBhcmFtcy5tb3VzZXdoZWVsLmVuYWJsZWQmJncoKX0pKSxzKFwiZGVzdHJveVwiLCgoKT0+e2UucGFyYW1zLmNzc01vZGUmJncoKSxlLm1vdXNld2hlZWwuZW5hYmxlZCYmYigpfSkpLE9iamVjdC5hc3NpZ24oZS5tb3VzZXdoZWVsLHtlbmFibGU6dyxkaXNhYmxlOmJ9KX0sZnVuY3Rpb24oe3N3aXBlcjplLGV4dGVuZFBhcmFtczp0LG9uOnMsZW1pdDphfSl7ZnVuY3Rpb24gaSh0KXtsZXQgcztyZXR1cm4gdCYmKHM9ZCh0KSxlLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyYmXCJzdHJpbmdcIj09dHlwZW9mIHQmJnMubGVuZ3RoPjEmJjE9PT1lLiRlbC5maW5kKHQpLmxlbmd0aCYmKHM9ZS4kZWwuZmluZCh0KSkpLHN9ZnVuY3Rpb24gcih0LHMpe2NvbnN0IGE9ZS5wYXJhbXMubmF2aWdhdGlvbjt0JiZ0Lmxlbmd0aD4wJiYodFtzP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKGEuZGlzYWJsZWRDbGFzcyksdFswXSYmXCJCVVRUT05cIj09PXRbMF0udGFnTmFtZSYmKHRbMF0uZGlzYWJsZWQ9cyksZS5wYXJhbXMud2F0Y2hPdmVyZmxvdyYmZS5lbmFibGVkJiZ0W2UuaXNMb2NrZWQ/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oYS5sb2NrQ2xhc3MpKX1mdW5jdGlvbiBuKCl7aWYoZS5wYXJhbXMubG9vcClyZXR1cm47Y29uc3R7JG5leHRFbDp0LCRwcmV2RWw6c309ZS5uYXZpZ2F0aW9uO3IocyxlLmlzQmVnaW5uaW5nKSxyKHQsZS5pc0VuZCl9ZnVuY3Rpb24gbCh0KXt0LnByZXZlbnREZWZhdWx0KCksZS5pc0JlZ2lubmluZyYmIWUucGFyYW1zLmxvb3B8fGUuc2xpZGVQcmV2KCl9ZnVuY3Rpb24gbyh0KXt0LnByZXZlbnREZWZhdWx0KCksZS5pc0VuZCYmIWUucGFyYW1zLmxvb3B8fGUuc2xpZGVOZXh0KCl9ZnVuY3Rpb24gYygpe2NvbnN0IHQ9ZS5wYXJhbXMubmF2aWdhdGlvbjtpZihlLnBhcmFtcy5uYXZpZ2F0aW9uPVkoZSxlLm9yaWdpbmFsUGFyYW1zLm5hdmlnYXRpb24sZS5wYXJhbXMubmF2aWdhdGlvbix7bmV4dEVsOlwic3dpcGVyLWJ1dHRvbi1uZXh0XCIscHJldkVsOlwic3dpcGVyLWJ1dHRvbi1wcmV2XCJ9KSwhdC5uZXh0RWwmJiF0LnByZXZFbClyZXR1cm47Y29uc3Qgcz1pKHQubmV4dEVsKSxhPWkodC5wcmV2RWwpO3MmJnMubGVuZ3RoPjAmJnMub24oXCJjbGlja1wiLG8pLGEmJmEubGVuZ3RoPjAmJmEub24oXCJjbGlja1wiLGwpLE9iamVjdC5hc3NpZ24oZS5uYXZpZ2F0aW9uLHskbmV4dEVsOnMsbmV4dEVsOnMmJnNbMF0sJHByZXZFbDphLHByZXZFbDphJiZhWzBdfSksZS5lbmFibGVkfHwocyYmcy5hZGRDbGFzcyh0LmxvY2tDbGFzcyksYSYmYS5hZGRDbGFzcyh0LmxvY2tDbGFzcykpfWZ1bmN0aW9uIHAoKXtjb25zdHskbmV4dEVsOnQsJHByZXZFbDpzfT1lLm5hdmlnYXRpb247dCYmdC5sZW5ndGgmJih0Lm9mZihcImNsaWNrXCIsbyksdC5yZW1vdmVDbGFzcyhlLnBhcmFtcy5uYXZpZ2F0aW9uLmRpc2FibGVkQ2xhc3MpKSxzJiZzLmxlbmd0aCYmKHMub2ZmKFwiY2xpY2tcIixsKSxzLnJlbW92ZUNsYXNzKGUucGFyYW1zLm5hdmlnYXRpb24uZGlzYWJsZWRDbGFzcykpfXQoe25hdmlnYXRpb246e25leHRFbDpudWxsLHByZXZFbDpudWxsLGhpZGVPbkNsaWNrOiExLGRpc2FibGVkQ2xhc3M6XCJzd2lwZXItYnV0dG9uLWRpc2FibGVkXCIsaGlkZGVuQ2xhc3M6XCJzd2lwZXItYnV0dG9uLWhpZGRlblwiLGxvY2tDbGFzczpcInN3aXBlci1idXR0b24tbG9ja1wifX0pLGUubmF2aWdhdGlvbj17bmV4dEVsOm51bGwsJG5leHRFbDpudWxsLHByZXZFbDpudWxsLCRwcmV2RWw6bnVsbH0scyhcImluaXRcIiwoKCk9PntjKCksbigpfSkpLHMoXCJ0b0VkZ2UgZnJvbUVkZ2UgbG9jayB1bmxvY2tcIiwoKCk9PntuKCl9KSkscyhcImRlc3Ryb3lcIiwoKCk9PntwKCl9KSkscyhcImVuYWJsZSBkaXNhYmxlXCIsKCgpPT57Y29uc3R7JG5leHRFbDp0LCRwcmV2RWw6c309ZS5uYXZpZ2F0aW9uO3QmJnRbZS5lbmFibGVkP1wicmVtb3ZlQ2xhc3NcIjpcImFkZENsYXNzXCJdKGUucGFyYW1zLm5hdmlnYXRpb24ubG9ja0NsYXNzKSxzJiZzW2UuZW5hYmxlZD9cInJlbW92ZUNsYXNzXCI6XCJhZGRDbGFzc1wiXShlLnBhcmFtcy5uYXZpZ2F0aW9uLmxvY2tDbGFzcyl9KSkscyhcImNsaWNrXCIsKCh0LHMpPT57Y29uc3R7JG5leHRFbDppLCRwcmV2RWw6cn09ZS5uYXZpZ2F0aW9uLG49cy50YXJnZXQ7aWYoZS5wYXJhbXMubmF2aWdhdGlvbi5oaWRlT25DbGljayYmIWQobikuaXMocikmJiFkKG4pLmlzKGkpKXtpZihlLnBhZ2luYXRpb24mJmUucGFyYW1zLnBhZ2luYXRpb24mJmUucGFyYW1zLnBhZ2luYXRpb24uY2xpY2thYmxlJiYoZS5wYWdpbmF0aW9uLmVsPT09bnx8ZS5wYWdpbmF0aW9uLmVsLmNvbnRhaW5zKG4pKSlyZXR1cm47bGV0IHQ7aT90PWkuaGFzQ2xhc3MoZS5wYXJhbXMubmF2aWdhdGlvbi5oaWRkZW5DbGFzcyk6ciYmKHQ9ci5oYXNDbGFzcyhlLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKSksYSghMD09PXQ/XCJuYXZpZ2F0aW9uU2hvd1wiOlwibmF2aWdhdGlvbkhpZGVcIiksaSYmaS50b2dnbGVDbGFzcyhlLnBhcmFtcy5uYXZpZ2F0aW9uLmhpZGRlbkNsYXNzKSxyJiZyLnRvZ2dsZUNsYXNzKGUucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpfX0pKSxPYmplY3QuYXNzaWduKGUubmF2aWdhdGlvbix7dXBkYXRlOm4saW5pdDpjLGRlc3Ryb3k6cH0pfSxmdW5jdGlvbih7c3dpcGVyOmUsZXh0ZW5kUGFyYW1zOnQsb246cyxlbWl0OmF9KXtjb25zdCBpPVwic3dpcGVyLXBhZ2luYXRpb25cIjtsZXQgcjt0KHtwYWdpbmF0aW9uOntlbDpudWxsLGJ1bGxldEVsZW1lbnQ6XCJzcGFuXCIsY2xpY2thYmxlOiExLGhpZGVPbkNsaWNrOiExLHJlbmRlckJ1bGxldDpudWxsLHJlbmRlclByb2dyZXNzYmFyOm51bGwscmVuZGVyRnJhY3Rpb246bnVsbCxyZW5kZXJDdXN0b206bnVsbCxwcm9ncmVzc2Jhck9wcG9zaXRlOiExLHR5cGU6XCJidWxsZXRzXCIsZHluYW1pY0J1bGxldHM6ITEsZHluYW1pY01haW5CdWxsZXRzOjEsZm9ybWF0RnJhY3Rpb25DdXJyZW50OmU9PmUsZm9ybWF0RnJhY3Rpb25Ub3RhbDplPT5lLGJ1bGxldENsYXNzOmAke2l9LWJ1bGxldGAsYnVsbGV0QWN0aXZlQ2xhc3M6YCR7aX0tYnVsbGV0LWFjdGl2ZWAsbW9kaWZpZXJDbGFzczpgJHtpfS1gLGN1cnJlbnRDbGFzczpgJHtpfS1jdXJyZW50YCx0b3RhbENsYXNzOmAke2l9LXRvdGFsYCxoaWRkZW5DbGFzczpgJHtpfS1oaWRkZW5gLHByb2dyZXNzYmFyRmlsbENsYXNzOmAke2l9LXByb2dyZXNzYmFyLWZpbGxgLHByb2dyZXNzYmFyT3Bwb3NpdGVDbGFzczpgJHtpfS1wcm9ncmVzc2Jhci1vcHBvc2l0ZWAsY2xpY2thYmxlQ2xhc3M6YCR7aX0tY2xpY2thYmxlYCxsb2NrQ2xhc3M6YCR7aX0tbG9ja2AsaG9yaXpvbnRhbENsYXNzOmAke2l9LWhvcml6b250YWxgLHZlcnRpY2FsQ2xhc3M6YCR7aX0tdmVydGljYWxgfX0pLGUucGFnaW5hdGlvbj17ZWw6bnVsbCwkZWw6bnVsbCxidWxsZXRzOltdfTtsZXQgbj0wO2Z1bmN0aW9uIGwoKXtyZXR1cm4hZS5wYXJhbXMucGFnaW5hdGlvbi5lbHx8IWUucGFnaW5hdGlvbi5lbHx8IWUucGFnaW5hdGlvbi4kZWx8fDA9PT1lLnBhZ2luYXRpb24uJGVsLmxlbmd0aH1mdW5jdGlvbiBvKHQscyl7Y29uc3R7YnVsbGV0QWN0aXZlQ2xhc3M6YX09ZS5wYXJhbXMucGFnaW5hdGlvbjt0W3NdKCkuYWRkQ2xhc3MoYCR7YX0tJHtzfWApW3NdKCkuYWRkQ2xhc3MoYCR7YX0tJHtzfS0ke3N9YCl9ZnVuY3Rpb24gYygpe2NvbnN0IHQ9ZS5ydGwscz1lLnBhcmFtcy5wYWdpbmF0aW9uO2lmKGwoKSlyZXR1cm47Y29uc3QgaT1lLnZpcnR1YWwmJmUucGFyYW1zLnZpcnR1YWwuZW5hYmxlZD9lLnZpcnR1YWwuc2xpZGVzLmxlbmd0aDplLnNsaWRlcy5sZW5ndGgsYz1lLnBhZ2luYXRpb24uJGVsO2xldCBwO2NvbnN0IHU9ZS5wYXJhbXMubG9vcD9NYXRoLmNlaWwoKGktMiplLmxvb3BlZFNsaWRlcykvZS5wYXJhbXMuc2xpZGVzUGVyR3JvdXApOmUuc25hcEdyaWQubGVuZ3RoO2lmKGUucGFyYW1zLmxvb3A/KHA9TWF0aC5jZWlsKChlLmFjdGl2ZUluZGV4LWUubG9vcGVkU2xpZGVzKS9lLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkscD5pLTEtMiplLmxvb3BlZFNsaWRlcyYmKHAtPWktMiplLmxvb3BlZFNsaWRlcykscD51LTEmJihwLT11KSxwPDAmJlwiYnVsbGV0c1wiIT09ZS5wYXJhbXMucGFnaW5hdGlvblR5cGUmJihwPXUrcCkpOnA9dm9pZCAwIT09ZS5zbmFwSW5kZXg/ZS5zbmFwSW5kZXg6ZS5hY3RpdmVJbmRleHx8MCxcImJ1bGxldHNcIj09PXMudHlwZSYmZS5wYWdpbmF0aW9uLmJ1bGxldHMmJmUucGFnaW5hdGlvbi5idWxsZXRzLmxlbmd0aD4wKXtjb25zdCBhPWUucGFnaW5hdGlvbi5idWxsZXRzO2xldCBpLGwsdTtpZihzLmR5bmFtaWNCdWxsZXRzJiYocj1hLmVxKDApW2UuaXNIb3Jpem9udGFsKCk/XCJvdXRlcldpZHRoXCI6XCJvdXRlckhlaWdodFwiXSghMCksYy5jc3MoZS5pc0hvcml6b250YWwoKT9cIndpZHRoXCI6XCJoZWlnaHRcIixyKihzLmR5bmFtaWNNYWluQnVsbGV0cys0KStcInB4XCIpLHMuZHluYW1pY01haW5CdWxsZXRzPjEmJnZvaWQgMCE9PWUucHJldmlvdXNJbmRleCYmKG4rPXAtZS5wcmV2aW91c0luZGV4LG4+cy5keW5hbWljTWFpbkJ1bGxldHMtMT9uPXMuZHluYW1pY01haW5CdWxsZXRzLTE6bjwwJiYobj0wKSksaT1wLW4sbD1pKyhNYXRoLm1pbihhLmxlbmd0aCxzLmR5bmFtaWNNYWluQnVsbGV0cyktMSksdT0obCtpKS8yKSxhLnJlbW92ZUNsYXNzKFtcIlwiLFwiLW5leHRcIixcIi1uZXh0LW5leHRcIixcIi1wcmV2XCIsXCItcHJldi1wcmV2XCIsXCItbWFpblwiXS5tYXAoKGU9PmAke3MuYnVsbGV0QWN0aXZlQ2xhc3N9JHtlfWApKS5qb2luKFwiIFwiKSksYy5sZW5ndGg+MSlhLmVhY2goKGU9Pntjb25zdCB0PWQoZSksYT10LmluZGV4KCk7YT09PXAmJnQuYWRkQ2xhc3Mocy5idWxsZXRBY3RpdmVDbGFzcykscy5keW5hbWljQnVsbGV0cyYmKGE+PWkmJmE8PWwmJnQuYWRkQ2xhc3MoYCR7cy5idWxsZXRBY3RpdmVDbGFzc30tbWFpbmApLGE9PT1pJiZvKHQsXCJwcmV2XCIpLGE9PT1sJiZvKHQsXCJuZXh0XCIpKX0pKTtlbHNle2NvbnN0IHQ9YS5lcShwKSxyPXQuaW5kZXgoKTtpZih0LmFkZENsYXNzKHMuYnVsbGV0QWN0aXZlQ2xhc3MpLHMuZHluYW1pY0J1bGxldHMpe2NvbnN0IHQ9YS5lcShpKSxuPWEuZXEobCk7Zm9yKGxldCBlPWk7ZTw9bDtlKz0xKWEuZXEoZSkuYWRkQ2xhc3MoYCR7cy5idWxsZXRBY3RpdmVDbGFzc30tbWFpbmApO2lmKGUucGFyYW1zLmxvb3ApaWYocj49YS5sZW5ndGgtcy5keW5hbWljTWFpbkJ1bGxldHMpe2ZvcihsZXQgZT1zLmR5bmFtaWNNYWluQnVsbGV0cztlPj0wO2UtPTEpYS5lcShhLmxlbmd0aC1lKS5hZGRDbGFzcyhgJHtzLmJ1bGxldEFjdGl2ZUNsYXNzfS1tYWluYCk7YS5lcShhLmxlbmd0aC1zLmR5bmFtaWNNYWluQnVsbGV0cy0xKS5hZGRDbGFzcyhgJHtzLmJ1bGxldEFjdGl2ZUNsYXNzfS1wcmV2YCl9ZWxzZSBvKHQsXCJwcmV2XCIpLG8obixcIm5leHRcIik7ZWxzZSBvKHQsXCJwcmV2XCIpLG8obixcIm5leHRcIil9fWlmKHMuZHluYW1pY0J1bGxldHMpe2NvbnN0IGk9TWF0aC5taW4oYS5sZW5ndGgscy5keW5hbWljTWFpbkJ1bGxldHMrNCksbj0ocippLXIpLzItdSpyLGw9dD9cInJpZ2h0XCI6XCJsZWZ0XCI7YS5jc3MoZS5pc0hvcml6b250YWwoKT9sOlwidG9wXCIsYCR7bn1weGApfX1pZihcImZyYWN0aW9uXCI9PT1zLnR5cGUmJihjLmZpbmQoVyhzLmN1cnJlbnRDbGFzcykpLnRleHQocy5mb3JtYXRGcmFjdGlvbkN1cnJlbnQocCsxKSksYy5maW5kKFcocy50b3RhbENsYXNzKSkudGV4dChzLmZvcm1hdEZyYWN0aW9uVG90YWwodSkpKSxcInByb2dyZXNzYmFyXCI9PT1zLnR5cGUpe2xldCB0O3Q9cy5wcm9ncmVzc2Jhck9wcG9zaXRlP2UuaXNIb3Jpem9udGFsKCk/XCJ2ZXJ0aWNhbFwiOlwiaG9yaXpvbnRhbFwiOmUuaXNIb3Jpem9udGFsKCk/XCJob3Jpem9udGFsXCI6XCJ2ZXJ0aWNhbFwiO2NvbnN0IGE9KHArMSkvdTtsZXQgaT0xLHI9MTtcImhvcml6b250YWxcIj09PXQ/aT1hOnI9YSxjLmZpbmQoVyhzLnByb2dyZXNzYmFyRmlsbENsYXNzKSkudHJhbnNmb3JtKGB0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGVYKCR7aX0pIHNjYWxlWSgke3J9KWApLnRyYW5zaXRpb24oZS5wYXJhbXMuc3BlZWQpfVwiY3VzdG9tXCI9PT1zLnR5cGUmJnMucmVuZGVyQ3VzdG9tPyhjLmh0bWwocy5yZW5kZXJDdXN0b20oZSxwKzEsdSkpLGEoXCJwYWdpbmF0aW9uUmVuZGVyXCIsY1swXSkpOmEoXCJwYWdpbmF0aW9uVXBkYXRlXCIsY1swXSksZS5wYXJhbXMud2F0Y2hPdmVyZmxvdyYmZS5lbmFibGVkJiZjW2UuaXNMb2NrZWQ/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0ocy5sb2NrQ2xhc3MpfWZ1bmN0aW9uIHAoKXtjb25zdCB0PWUucGFyYW1zLnBhZ2luYXRpb247aWYobCgpKXJldHVybjtjb25zdCBzPWUudmlydHVhbCYmZS5wYXJhbXMudmlydHVhbC5lbmFibGVkP2UudmlydHVhbC5zbGlkZXMubGVuZ3RoOmUuc2xpZGVzLmxlbmd0aCxpPWUucGFnaW5hdGlvbi4kZWw7bGV0IHI9XCJcIjtpZihcImJ1bGxldHNcIj09PXQudHlwZSl7bGV0IGE9ZS5wYXJhbXMubG9vcD9NYXRoLmNlaWwoKHMtMiplLmxvb3BlZFNsaWRlcykvZS5wYXJhbXMuc2xpZGVzUGVyR3JvdXApOmUuc25hcEdyaWQubGVuZ3RoO2UucGFyYW1zLmZyZWVNb2RlJiZlLnBhcmFtcy5mcmVlTW9kZS5lbmFibGVkJiYhZS5wYXJhbXMubG9vcCYmYT5zJiYoYT1zKTtmb3IobGV0IHM9MDtzPGE7cys9MSl0LnJlbmRlckJ1bGxldD9yKz10LnJlbmRlckJ1bGxldC5jYWxsKGUscyx0LmJ1bGxldENsYXNzKTpyKz1gPCR7dC5idWxsZXRFbGVtZW50fSBjbGFzcz1cIiR7dC5idWxsZXRDbGFzc31cIj48LyR7dC5idWxsZXRFbGVtZW50fT5gO2kuaHRtbChyKSxlLnBhZ2luYXRpb24uYnVsbGV0cz1pLmZpbmQoVyh0LmJ1bGxldENsYXNzKSl9XCJmcmFjdGlvblwiPT09dC50eXBlJiYocj10LnJlbmRlckZyYWN0aW9uP3QucmVuZGVyRnJhY3Rpb24uY2FsbChlLHQuY3VycmVudENsYXNzLHQudG90YWxDbGFzcyk6YDxzcGFuIGNsYXNzPVwiJHt0LmN1cnJlbnRDbGFzc31cIj48L3NwYW4+IC8gPHNwYW4gY2xhc3M9XCIke3QudG90YWxDbGFzc31cIj48L3NwYW4+YCxpLmh0bWwocikpLFwicHJvZ3Jlc3NiYXJcIj09PXQudHlwZSYmKHI9dC5yZW5kZXJQcm9ncmVzc2Jhcj90LnJlbmRlclByb2dyZXNzYmFyLmNhbGwoZSx0LnByb2dyZXNzYmFyRmlsbENsYXNzKTpgPHNwYW4gY2xhc3M9XCIke3QucHJvZ3Jlc3NiYXJGaWxsQ2xhc3N9XCI+PC9zcGFuPmAsaS5odG1sKHIpKSxcImN1c3RvbVwiIT09dC50eXBlJiZhKFwicGFnaW5hdGlvblJlbmRlclwiLGUucGFnaW5hdGlvbi4kZWxbMF0pfWZ1bmN0aW9uIHUoKXtlLnBhcmFtcy5wYWdpbmF0aW9uPVkoZSxlLm9yaWdpbmFsUGFyYW1zLnBhZ2luYXRpb24sZS5wYXJhbXMucGFnaW5hdGlvbix7ZWw6XCJzd2lwZXItcGFnaW5hdGlvblwifSk7Y29uc3QgdD1lLnBhcmFtcy5wYWdpbmF0aW9uO2lmKCF0LmVsKXJldHVybjtsZXQgcz1kKHQuZWwpOzAhPT1zLmxlbmd0aCYmKGUucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzJiZcInN0cmluZ1wiPT10eXBlb2YgdC5lbCYmcy5sZW5ndGg+MSYmKHM9ZS4kZWwuZmluZCh0LmVsKSxzLmxlbmd0aD4xJiYocz1zLmZpbHRlcigodD0+ZCh0KS5wYXJlbnRzKFwiLnN3aXBlclwiKVswXT09PWUuZWwpKSkpLFwiYnVsbGV0c1wiPT09dC50eXBlJiZ0LmNsaWNrYWJsZSYmcy5hZGRDbGFzcyh0LmNsaWNrYWJsZUNsYXNzKSxzLmFkZENsYXNzKHQubW9kaWZpZXJDbGFzcyt0LnR5cGUpLHMuYWRkQ2xhc3ModC5tb2RpZmllckNsYXNzK2UucGFyYW1zLmRpcmVjdGlvbiksXCJidWxsZXRzXCI9PT10LnR5cGUmJnQuZHluYW1pY0J1bGxldHMmJihzLmFkZENsYXNzKGAke3QubW9kaWZpZXJDbGFzc30ke3QudHlwZX0tZHluYW1pY2ApLG49MCx0LmR5bmFtaWNNYWluQnVsbGV0czwxJiYodC5keW5hbWljTWFpbkJ1bGxldHM9MSkpLFwicHJvZ3Jlc3NiYXJcIj09PXQudHlwZSYmdC5wcm9ncmVzc2Jhck9wcG9zaXRlJiZzLmFkZENsYXNzKHQucHJvZ3Jlc3NiYXJPcHBvc2l0ZUNsYXNzKSx0LmNsaWNrYWJsZSYmcy5vbihcImNsaWNrXCIsVyh0LmJ1bGxldENsYXNzKSwoZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO2xldCBzPWQodGhpcykuaW5kZXgoKSplLnBhcmFtcy5zbGlkZXNQZXJHcm91cDtlLnBhcmFtcy5sb29wJiYocys9ZS5sb29wZWRTbGlkZXMpLGUuc2xpZGVUbyhzKX0pKSxPYmplY3QuYXNzaWduKGUucGFnaW5hdGlvbix7JGVsOnMsZWw6c1swXX0pLGUuZW5hYmxlZHx8cy5hZGRDbGFzcyh0LmxvY2tDbGFzcykpfWZ1bmN0aW9uIGgoKXtjb25zdCB0PWUucGFyYW1zLnBhZ2luYXRpb247aWYobCgpKXJldHVybjtjb25zdCBzPWUucGFnaW5hdGlvbi4kZWw7cy5yZW1vdmVDbGFzcyh0LmhpZGRlbkNsYXNzKSxzLnJlbW92ZUNsYXNzKHQubW9kaWZpZXJDbGFzcyt0LnR5cGUpLHMucmVtb3ZlQ2xhc3ModC5tb2RpZmllckNsYXNzK2UucGFyYW1zLmRpcmVjdGlvbiksZS5wYWdpbmF0aW9uLmJ1bGxldHMmJmUucGFnaW5hdGlvbi5idWxsZXRzLnJlbW92ZUNsYXNzJiZlLnBhZ2luYXRpb24uYnVsbGV0cy5yZW1vdmVDbGFzcyh0LmJ1bGxldEFjdGl2ZUNsYXNzKSx0LmNsaWNrYWJsZSYmcy5vZmYoXCJjbGlja1wiLFcodC5idWxsZXRDbGFzcykpfXMoXCJpbml0XCIsKCgpPT57dSgpLHAoKSxjKCl9KSkscyhcImFjdGl2ZUluZGV4Q2hhbmdlXCIsKCgpPT57KGUucGFyYW1zLmxvb3B8fHZvaWQgMD09PWUuc25hcEluZGV4KSYmYygpfSkpLHMoXCJzbmFwSW5kZXhDaGFuZ2VcIiwoKCk9PntlLnBhcmFtcy5sb29wfHxjKCl9KSkscyhcInNsaWRlc0xlbmd0aENoYW5nZVwiLCgoKT0+e2UucGFyYW1zLmxvb3AmJihwKCksYygpKX0pKSxzKFwic25hcEdyaWRMZW5ndGhDaGFuZ2VcIiwoKCk9PntlLnBhcmFtcy5sb29wfHwocCgpLGMoKSl9KSkscyhcImRlc3Ryb3lcIiwoKCk9PntoKCl9KSkscyhcImVuYWJsZSBkaXNhYmxlXCIsKCgpPT57Y29uc3R7JGVsOnR9PWUucGFnaW5hdGlvbjt0JiZ0W2UuZW5hYmxlZD9cInJlbW92ZUNsYXNzXCI6XCJhZGRDbGFzc1wiXShlLnBhcmFtcy5wYWdpbmF0aW9uLmxvY2tDbGFzcyl9KSkscyhcImxvY2sgdW5sb2NrXCIsKCgpPT57YygpfSkpLHMoXCJjbGlja1wiLCgodCxzKT0+e2NvbnN0IGk9cy50YXJnZXQseyRlbDpyfT1lLnBhZ2luYXRpb247aWYoZS5wYXJhbXMucGFnaW5hdGlvbi5lbCYmZS5wYXJhbXMucGFnaW5hdGlvbi5oaWRlT25DbGljayYmci5sZW5ndGg+MCYmIWQoaSkuaGFzQ2xhc3MoZS5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcykpe2lmKGUubmF2aWdhdGlvbiYmKGUubmF2aWdhdGlvbi5uZXh0RWwmJmk9PT1lLm5hdmlnYXRpb24ubmV4dEVsfHxlLm5hdmlnYXRpb24ucHJldkVsJiZpPT09ZS5uYXZpZ2F0aW9uLnByZXZFbCkpcmV0dXJuO2NvbnN0IHQ9ci5oYXNDbGFzcyhlLnBhcmFtcy5wYWdpbmF0aW9uLmhpZGRlbkNsYXNzKTthKCEwPT09dD9cInBhZ2luYXRpb25TaG93XCI6XCJwYWdpbmF0aW9uSGlkZVwiKSxyLnRvZ2dsZUNsYXNzKGUucGFyYW1zLnBhZ2luYXRpb24uaGlkZGVuQ2xhc3MpfX0pKSxPYmplY3QuYXNzaWduKGUucGFnaW5hdGlvbix7cmVuZGVyOnAsdXBkYXRlOmMsaW5pdDp1LGRlc3Ryb3k6aH0pfSxmdW5jdGlvbih7c3dpcGVyOmUsZXh0ZW5kUGFyYW1zOnQsb246cyxlbWl0Oml9KXtjb25zdCByPWEoKTtsZXQgbixsLG8sYyx1PSExLGg9bnVsbCxtPW51bGw7ZnVuY3Rpb24gZigpe2lmKCFlLnBhcmFtcy5zY3JvbGxiYXIuZWx8fCFlLnNjcm9sbGJhci5lbClyZXR1cm47Y29uc3R7c2Nyb2xsYmFyOnQscnRsVHJhbnNsYXRlOnMscHJvZ3Jlc3M6YX09ZSx7JGRyYWdFbDppLCRlbDpyfT10LG49ZS5wYXJhbXMuc2Nyb2xsYmFyO2xldCBkPWwsYz0oby1sKSphO3M/KGM9LWMsYz4wPyhkPWwtYyxjPTApOi1jK2w+byYmKGQ9bytjKSk6YzwwPyhkPWwrYyxjPTApOmMrbD5vJiYoZD1vLWMpLGUuaXNIb3Jpem9udGFsKCk/KGkudHJhbnNmb3JtKGB0cmFuc2xhdGUzZCgke2N9cHgsIDAsIDApYCksaVswXS5zdHlsZS53aWR0aD1gJHtkfXB4YCk6KGkudHJhbnNmb3JtKGB0cmFuc2xhdGUzZCgwcHgsICR7Y31weCwgMClgKSxpWzBdLnN0eWxlLmhlaWdodD1gJHtkfXB4YCksbi5oaWRlJiYoY2xlYXJUaW1lb3V0KGgpLHJbMF0uc3R5bGUub3BhY2l0eT0xLGg9c2V0VGltZW91dCgoKCk9PntyWzBdLnN0eWxlLm9wYWNpdHk9MCxyLnRyYW5zaXRpb24oNDAwKX0pLDFlMykpfWZ1bmN0aW9uIGcoKXtpZighZS5wYXJhbXMuc2Nyb2xsYmFyLmVsfHwhZS5zY3JvbGxiYXIuZWwpcmV0dXJuO2NvbnN0e3Njcm9sbGJhcjp0fT1lLHskZHJhZ0VsOnMsJGVsOmF9PXQ7c1swXS5zdHlsZS53aWR0aD1cIlwiLHNbMF0uc3R5bGUuaGVpZ2h0PVwiXCIsbz1lLmlzSG9yaXpvbnRhbCgpP2FbMF0ub2Zmc2V0V2lkdGg6YVswXS5vZmZzZXRIZWlnaHQsYz1lLnNpemUvKGUudmlydHVhbFNpemUrZS5wYXJhbXMuc2xpZGVzT2Zmc2V0QmVmb3JlLShlLnBhcmFtcy5jZW50ZXJlZFNsaWRlcz9lLnNuYXBHcmlkWzBdOjApKSxsPVwiYXV0b1wiPT09ZS5wYXJhbXMuc2Nyb2xsYmFyLmRyYWdTaXplP28qYzpwYXJzZUludChlLnBhcmFtcy5zY3JvbGxiYXIuZHJhZ1NpemUsMTApLGUuaXNIb3Jpem9udGFsKCk/c1swXS5zdHlsZS53aWR0aD1gJHtsfXB4YDpzWzBdLnN0eWxlLmhlaWdodD1gJHtsfXB4YCxhWzBdLnN0eWxlLmRpc3BsYXk9Yz49MT9cIm5vbmVcIjpcIlwiLGUucGFyYW1zLnNjcm9sbGJhci5oaWRlJiYoYVswXS5zdHlsZS5vcGFjaXR5PTApLGUucGFyYW1zLndhdGNoT3ZlcmZsb3cmJmUuZW5hYmxlZCYmdC4kZWxbZS5pc0xvY2tlZD9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShlLnBhcmFtcy5zY3JvbGxiYXIubG9ja0NsYXNzKX1mdW5jdGlvbiB2KHQpe3JldHVybiBlLmlzSG9yaXpvbnRhbCgpP1widG91Y2hzdGFydFwiPT09dC50eXBlfHxcInRvdWNobW92ZVwiPT09dC50eXBlP3QudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYOnQuY2xpZW50WDpcInRvdWNoc3RhcnRcIj09PXQudHlwZXx8XCJ0b3VjaG1vdmVcIj09PXQudHlwZT90LnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WTp0LmNsaWVudFl9ZnVuY3Rpb24gdyh0KXtjb25zdHtzY3JvbGxiYXI6cyxydGxUcmFuc2xhdGU6YX09ZSx7JGVsOml9PXM7bGV0IHI7cj0odih0KS1pLm9mZnNldCgpW2UuaXNIb3Jpem9udGFsKCk/XCJsZWZ0XCI6XCJ0b3BcIl0tKG51bGwhPT1uP246bC8yKSkvKG8tbCkscj1NYXRoLm1heChNYXRoLm1pbihyLDEpLDApLGEmJihyPTEtcik7Y29uc3QgZD1lLm1pblRyYW5zbGF0ZSgpKyhlLm1heFRyYW5zbGF0ZSgpLWUubWluVHJhbnNsYXRlKCkpKnI7ZS51cGRhdGVQcm9ncmVzcyhkKSxlLnNldFRyYW5zbGF0ZShkKSxlLnVwZGF0ZUFjdGl2ZUluZGV4KCksZS51cGRhdGVTbGlkZXNDbGFzc2VzKCl9ZnVuY3Rpb24gYih0KXtjb25zdCBzPWUucGFyYW1zLnNjcm9sbGJhcix7c2Nyb2xsYmFyOmEsJHdyYXBwZXJFbDpyfT1lLHskZWw6bCwkZHJhZ0VsOm99PWE7dT0hMCxuPXQudGFyZ2V0PT09b1swXXx8dC50YXJnZXQ9PT1vP3YodCktdC50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbZS5pc0hvcml6b250YWwoKT9cImxlZnRcIjpcInRvcFwiXTpudWxsLHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHIudHJhbnNpdGlvbigxMDApLG8udHJhbnNpdGlvbigxMDApLHcodCksY2xlYXJUaW1lb3V0KG0pLGwudHJhbnNpdGlvbigwKSxzLmhpZGUmJmwuY3NzKFwib3BhY2l0eVwiLDEpLGUucGFyYW1zLmNzc01vZGUmJmUuJHdyYXBwZXJFbC5jc3MoXCJzY3JvbGwtc25hcC10eXBlXCIsXCJub25lXCIpLGkoXCJzY3JvbGxiYXJEcmFnU3RhcnRcIix0KX1mdW5jdGlvbiB4KHQpe2NvbnN0e3Njcm9sbGJhcjpzLCR3cmFwcGVyRWw6YX09ZSx7JGVsOnIsJGRyYWdFbDpufT1zO3UmJih0LnByZXZlbnREZWZhdWx0P3QucHJldmVudERlZmF1bHQoKTp0LnJldHVyblZhbHVlPSExLHcodCksYS50cmFuc2l0aW9uKDApLHIudHJhbnNpdGlvbigwKSxuLnRyYW5zaXRpb24oMCksaShcInNjcm9sbGJhckRyYWdNb3ZlXCIsdCkpfWZ1bmN0aW9uIHkodCl7Y29uc3Qgcz1lLnBhcmFtcy5zY3JvbGxiYXIse3Njcm9sbGJhcjphLCR3cmFwcGVyRWw6cn09ZSx7JGVsOm59PWE7dSYmKHU9ITEsZS5wYXJhbXMuY3NzTW9kZSYmKGUuJHdyYXBwZXJFbC5jc3MoXCJzY3JvbGwtc25hcC10eXBlXCIsXCJcIiksci50cmFuc2l0aW9uKFwiXCIpKSxzLmhpZGUmJihjbGVhclRpbWVvdXQobSksbT1wKCgoKT0+e24uY3NzKFwib3BhY2l0eVwiLDApLG4udHJhbnNpdGlvbig0MDApfSksMWUzKSksaShcInNjcm9sbGJhckRyYWdFbmRcIix0KSxzLnNuYXBPblJlbGVhc2UmJmUuc2xpZGVUb0Nsb3Nlc3QoKSl9ZnVuY3Rpb24gRSh0KXtjb25zdHtzY3JvbGxiYXI6cyx0b3VjaEV2ZW50c1RvdWNoOmEsdG91Y2hFdmVudHNEZXNrdG9wOmkscGFyYW1zOm4sc3VwcG9ydDpsfT1lLG89cy4kZWxbMF0sZD0hKCFsLnBhc3NpdmVMaXN0ZW5lcnx8IW4ucGFzc2l2ZUxpc3RlbmVycykmJntwYXNzaXZlOiExLGNhcHR1cmU6ITF9LGM9ISghbC5wYXNzaXZlTGlzdGVuZXJ8fCFuLnBhc3NpdmVMaXN0ZW5lcnMpJiZ7cGFzc2l2ZTohMCxjYXB0dXJlOiExfTtpZighbylyZXR1cm47Y29uc3QgcD1cIm9uXCI9PT10P1wiYWRkRXZlbnRMaXN0ZW5lclwiOlwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiO2wudG91Y2g/KG9bcF0oYS5zdGFydCxiLGQpLG9bcF0oYS5tb3ZlLHgsZCksb1twXShhLmVuZCx5LGMpKToob1twXShpLnN0YXJ0LGIsZCkscltwXShpLm1vdmUseCxkKSxyW3BdKGkuZW5kLHksYykpfWZ1bmN0aW9uIFQoKXtjb25zdHtzY3JvbGxiYXI6dCwkZWw6c309ZTtlLnBhcmFtcy5zY3JvbGxiYXI9WShlLGUub3JpZ2luYWxQYXJhbXMuc2Nyb2xsYmFyLGUucGFyYW1zLnNjcm9sbGJhcix7ZWw6XCJzd2lwZXItc2Nyb2xsYmFyXCJ9KTtjb25zdCBhPWUucGFyYW1zLnNjcm9sbGJhcjtpZighYS5lbClyZXR1cm47bGV0IGk9ZChhLmVsKTtlLnBhcmFtcy51bmlxdWVOYXZFbGVtZW50cyYmXCJzdHJpbmdcIj09dHlwZW9mIGEuZWwmJmkubGVuZ3RoPjEmJjE9PT1zLmZpbmQoYS5lbCkubGVuZ3RoJiYoaT1zLmZpbmQoYS5lbCkpO2xldCByPWkuZmluZChgLiR7ZS5wYXJhbXMuc2Nyb2xsYmFyLmRyYWdDbGFzc31gKTswPT09ci5sZW5ndGgmJihyPWQoYDxkaXYgY2xhc3M9XCIke2UucGFyYW1zLnNjcm9sbGJhci5kcmFnQ2xhc3N9XCI+PC9kaXY+YCksaS5hcHBlbmQocikpLE9iamVjdC5hc3NpZ24odCx7JGVsOmksZWw6aVswXSwkZHJhZ0VsOnIsZHJhZ0VsOnJbMF19KSxhLmRyYWdnYWJsZSYmZS5wYXJhbXMuc2Nyb2xsYmFyLmVsJiZFKFwib25cIiksaSYmaVtlLmVuYWJsZWQ/XCJyZW1vdmVDbGFzc1wiOlwiYWRkQ2xhc3NcIl0oZS5wYXJhbXMuc2Nyb2xsYmFyLmxvY2tDbGFzcyl9ZnVuY3Rpb24gQygpe2UucGFyYW1zLnNjcm9sbGJhci5lbCYmRShcIm9mZlwiKX10KHtzY3JvbGxiYXI6e2VsOm51bGwsZHJhZ1NpemU6XCJhdXRvXCIsaGlkZTohMSxkcmFnZ2FibGU6ITEsc25hcE9uUmVsZWFzZTohMCxsb2NrQ2xhc3M6XCJzd2lwZXItc2Nyb2xsYmFyLWxvY2tcIixkcmFnQ2xhc3M6XCJzd2lwZXItc2Nyb2xsYmFyLWRyYWdcIn19KSxlLnNjcm9sbGJhcj17ZWw6bnVsbCxkcmFnRWw6bnVsbCwkZWw6bnVsbCwkZHJhZ0VsOm51bGx9LHMoXCJpbml0XCIsKCgpPT57VCgpLGcoKSxmKCl9KSkscyhcInVwZGF0ZSByZXNpemUgb2JzZXJ2ZXJVcGRhdGUgbG9jayB1bmxvY2tcIiwoKCk9PntnKCl9KSkscyhcInNldFRyYW5zbGF0ZVwiLCgoKT0+e2YoKX0pKSxzKFwic2V0VHJhbnNpdGlvblwiLCgodCxzKT0+eyFmdW5jdGlvbih0KXtlLnBhcmFtcy5zY3JvbGxiYXIuZWwmJmUuc2Nyb2xsYmFyLmVsJiZlLnNjcm9sbGJhci4kZHJhZ0VsLnRyYW5zaXRpb24odCl9KHMpfSkpLHMoXCJlbmFibGUgZGlzYWJsZVwiLCgoKT0+e2NvbnN0eyRlbDp0fT1lLnNjcm9sbGJhcjt0JiZ0W2UuZW5hYmxlZD9cInJlbW92ZUNsYXNzXCI6XCJhZGRDbGFzc1wiXShlLnBhcmFtcy5zY3JvbGxiYXIubG9ja0NsYXNzKX0pKSxzKFwiZGVzdHJveVwiLCgoKT0+e0MoKX0pKSxPYmplY3QuYXNzaWduKGUuc2Nyb2xsYmFyLHt1cGRhdGVTaXplOmcsc2V0VHJhbnNsYXRlOmYsaW5pdDpULGRlc3Ryb3k6Q30pfSxmdW5jdGlvbih7c3dpcGVyOmUsZXh0ZW5kUGFyYW1zOnQsb246c30pe3Qoe3BhcmFsbGF4OntlbmFibGVkOiExfX0pO2NvbnN0IGE9KHQscyk9Pntjb25zdHtydGw6YX09ZSxpPWQodCkscj1hPy0xOjEsbj1pLmF0dHIoXCJkYXRhLXN3aXBlci1wYXJhbGxheFwiKXx8XCIwXCI7bGV0IGw9aS5hdHRyKFwiZGF0YS1zd2lwZXItcGFyYWxsYXgteFwiKSxvPWkuYXR0cihcImRhdGEtc3dpcGVyLXBhcmFsbGF4LXlcIik7Y29uc3QgYz1pLmF0dHIoXCJkYXRhLXN3aXBlci1wYXJhbGxheC1zY2FsZVwiKSxwPWkuYXR0cihcImRhdGEtc3dpcGVyLXBhcmFsbGF4LW9wYWNpdHlcIik7aWYobHx8bz8obD1sfHxcIjBcIixvPW98fFwiMFwiKTplLmlzSG9yaXpvbnRhbCgpPyhsPW4sbz1cIjBcIik6KG89bixsPVwiMFwiKSxsPWwuaW5kZXhPZihcIiVcIik+PTA/cGFyc2VJbnQobCwxMCkqcypyK1wiJVwiOmwqcypyK1wicHhcIixvPW8uaW5kZXhPZihcIiVcIik+PTA/cGFyc2VJbnQobywxMCkqcytcIiVcIjpvKnMrXCJweFwiLG51bGwhPXApe2NvbnN0IGU9cC0ocC0xKSooMS1NYXRoLmFicyhzKSk7aVswXS5zdHlsZS5vcGFjaXR5PWV9aWYobnVsbD09YylpLnRyYW5zZm9ybShgdHJhbnNsYXRlM2QoJHtsfSwgJHtvfSwgMHB4KWApO2Vsc2V7Y29uc3QgZT1jLShjLTEpKigxLU1hdGguYWJzKHMpKTtpLnRyYW5zZm9ybShgdHJhbnNsYXRlM2QoJHtsfSwgJHtvfSwgMHB4KSBzY2FsZSgke2V9KWApfX0saT0oKT0+e2NvbnN0eyRlbDp0LHNsaWRlczpzLHByb2dyZXNzOmksc25hcEdyaWQ6cn09ZTt0LmNoaWxkcmVuKFwiW2RhdGEtc3dpcGVyLXBhcmFsbGF4XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1vcGFjaXR5XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXNjYWxlXVwiKS5lYWNoKChlPT57YShlLGkpfSkpLHMuZWFjaCgoKHQscyk9PntsZXQgbj10LnByb2dyZXNzO2UucGFyYW1zLnNsaWRlc1Blckdyb3VwPjEmJlwiYXV0b1wiIT09ZS5wYXJhbXMuc2xpZGVzUGVyVmlldyYmKG4rPU1hdGguY2VpbChzLzIpLWkqKHIubGVuZ3RoLTEpKSxuPU1hdGgubWluKE1hdGgubWF4KG4sLTEpLDEpLGQodCkuZmluZChcIltkYXRhLXN3aXBlci1wYXJhbGxheF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC14XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtb3BhY2l0eV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1zY2FsZV1cIikuZWFjaCgoZT0+e2EoZSxuKX0pKX0pKX07cyhcImJlZm9yZUluaXRcIiwoKCk9PntlLnBhcmFtcy5wYXJhbGxheC5lbmFibGVkJiYoZS5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcz0hMCxlLm9yaWdpbmFsUGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3M9ITApfSkpLHMoXCJpbml0XCIsKCgpPT57ZS5wYXJhbXMucGFyYWxsYXguZW5hYmxlZCYmaSgpfSkpLHMoXCJzZXRUcmFuc2xhdGVcIiwoKCk9PntlLnBhcmFtcy5wYXJhbGxheC5lbmFibGVkJiZpKCl9KSkscyhcInNldFRyYW5zaXRpb25cIiwoKHQscyk9PntlLnBhcmFtcy5wYXJhbGxheC5lbmFibGVkJiYoKHQ9ZS5wYXJhbXMuc3BlZWQpPT57Y29uc3R7JGVsOnN9PWU7cy5maW5kKFwiW2RhdGEtc3dpcGVyLXBhcmFsbGF4XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1vcGFjaXR5XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXNjYWxlXVwiKS5lYWNoKChlPT57Y29uc3Qgcz1kKGUpO2xldCBhPXBhcnNlSW50KHMuYXR0cihcImRhdGEtc3dpcGVyLXBhcmFsbGF4LWR1cmF0aW9uXCIpLDEwKXx8dDswPT09dCYmKGE9MCkscy50cmFuc2l0aW9uKGEpfSkpfSkocyl9KSl9LGZ1bmN0aW9uKHtzd2lwZXI6ZSxleHRlbmRQYXJhbXM6dCxvbjpzLGVtaXQ6YX0pe2NvbnN0IGk9cigpO3Qoe3pvb206e2VuYWJsZWQ6ITEsbWF4UmF0aW86MyxtaW5SYXRpbzoxLHRvZ2dsZTohMCxjb250YWluZXJDbGFzczpcInN3aXBlci16b29tLWNvbnRhaW5lclwiLHpvb21lZFNsaWRlQ2xhc3M6XCJzd2lwZXItc2xpZGUtem9vbWVkXCJ9fSksZS56b29tPXtlbmFibGVkOiExfTtsZXQgbixsLG8sYz0xLHA9ITE7Y29uc3QgdT17JHNsaWRlRWw6dm9pZCAwLHNsaWRlV2lkdGg6dm9pZCAwLHNsaWRlSGVpZ2h0OnZvaWQgMCwkaW1hZ2VFbDp2b2lkIDAsJGltYWdlV3JhcEVsOnZvaWQgMCxtYXhSYXRpbzozfSxtPXtpc1RvdWNoZWQ6dm9pZCAwLGlzTW92ZWQ6dm9pZCAwLGN1cnJlbnRYOnZvaWQgMCxjdXJyZW50WTp2b2lkIDAsbWluWDp2b2lkIDAsbWluWTp2b2lkIDAsbWF4WDp2b2lkIDAsbWF4WTp2b2lkIDAsd2lkdGg6dm9pZCAwLGhlaWdodDp2b2lkIDAsc3RhcnRYOnZvaWQgMCxzdGFydFk6dm9pZCAwLHRvdWNoZXNTdGFydDp7fSx0b3VjaGVzQ3VycmVudDp7fX0sZj17eDp2b2lkIDAseTp2b2lkIDAscHJldlBvc2l0aW9uWDp2b2lkIDAscHJldlBvc2l0aW9uWTp2b2lkIDAscHJldlRpbWU6dm9pZCAwfTtsZXQgZz0xO2Z1bmN0aW9uIHYoZSl7aWYoZS50YXJnZXRUb3VjaGVzLmxlbmd0aDwyKXJldHVybiAxO2NvbnN0IHQ9ZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYLHM9ZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZLGE9ZS50YXJnZXRUb3VjaGVzWzFdLnBhZ2VYLGk9ZS50YXJnZXRUb3VjaGVzWzFdLnBhZ2VZO3JldHVybiBNYXRoLnNxcnQoKGEtdCkqKjIrKGktcykqKjIpfWZ1bmN0aW9uIHcodCl7Y29uc3Qgcz1lLnN1cHBvcnQsYT1lLnBhcmFtcy56b29tO2lmKGw9ITEsbz0hMSwhcy5nZXN0dXJlcyl7aWYoXCJ0b3VjaHN0YXJ0XCIhPT10LnR5cGV8fFwidG91Y2hzdGFydFwiPT09dC50eXBlJiZ0LnRhcmdldFRvdWNoZXMubGVuZ3RoPDIpcmV0dXJuO2w9ITAsdS5zY2FsZVN0YXJ0PXYodCl9dS4kc2xpZGVFbCYmdS4kc2xpZGVFbC5sZW5ndGh8fCh1LiRzbGlkZUVsPWQodC50YXJnZXQpLmNsb3Nlc3QoYC4ke2UucGFyYW1zLnNsaWRlQ2xhc3N9YCksMD09PXUuJHNsaWRlRWwubGVuZ3RoJiYodS4kc2xpZGVFbD1lLnNsaWRlcy5lcShlLmFjdGl2ZUluZGV4KSksdS4kaW1hZ2VFbD11LiRzbGlkZUVsLmZpbmQoYC4ke2EuY29udGFpbmVyQ2xhc3N9YCkuZXEoMCkuZmluZChcImltZywgc3ZnLCBjYW52YXMsIHBpY3R1cmUsIC5zd2lwZXItem9vbS10YXJnZXRcIiksdS4kaW1hZ2VXcmFwRWw9dS4kaW1hZ2VFbC5wYXJlbnQoYC4ke2EuY29udGFpbmVyQ2xhc3N9YCksdS5tYXhSYXRpbz11LiRpbWFnZVdyYXBFbC5hdHRyKFwiZGF0YS1zd2lwZXItem9vbVwiKXx8YS5tYXhSYXRpbywwIT09dS4kaW1hZ2VXcmFwRWwubGVuZ3RoKT8odS4kaW1hZ2VFbCYmdS4kaW1hZ2VFbC50cmFuc2l0aW9uKDApLHA9ITApOnUuJGltYWdlRWw9dm9pZCAwfWZ1bmN0aW9uIGIodCl7Y29uc3Qgcz1lLnN1cHBvcnQsYT1lLnBhcmFtcy56b29tLGk9ZS56b29tO2lmKCFzLmdlc3R1cmVzKXtpZihcInRvdWNobW92ZVwiIT09dC50eXBlfHxcInRvdWNobW92ZVwiPT09dC50eXBlJiZ0LnRhcmdldFRvdWNoZXMubGVuZ3RoPDIpcmV0dXJuO289ITAsdS5zY2FsZU1vdmU9dih0KX11LiRpbWFnZUVsJiYwIT09dS4kaW1hZ2VFbC5sZW5ndGg/KHMuZ2VzdHVyZXM/aS5zY2FsZT10LnNjYWxlKmM6aS5zY2FsZT11LnNjYWxlTW92ZS91LnNjYWxlU3RhcnQqYyxpLnNjYWxlPnUubWF4UmF0aW8mJihpLnNjYWxlPXUubWF4UmF0aW8tMSsoaS5zY2FsZS11Lm1heFJhdGlvKzEpKiouNSksaS5zY2FsZTxhLm1pblJhdGlvJiYoaS5zY2FsZT1hLm1pblJhdGlvKzEtKGEubWluUmF0aW8taS5zY2FsZSsxKSoqLjUpLHUuJGltYWdlRWwudHJhbnNmb3JtKGB0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGUoJHtpLnNjYWxlfSlgKSk6XCJnZXN0dXJlY2hhbmdlXCI9PT10LnR5cGUmJncodCl9ZnVuY3Rpb24geCh0KXtjb25zdCBzPWUuZGV2aWNlLGE9ZS5zdXBwb3J0LGk9ZS5wYXJhbXMuem9vbSxyPWUuem9vbTtpZighYS5nZXN0dXJlcyl7aWYoIWx8fCFvKXJldHVybjtpZihcInRvdWNoZW5kXCIhPT10LnR5cGV8fFwidG91Y2hlbmRcIj09PXQudHlwZSYmdC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg8MiYmIXMuYW5kcm9pZClyZXR1cm47bD0hMSxvPSExfXUuJGltYWdlRWwmJjAhPT11LiRpbWFnZUVsLmxlbmd0aCYmKHIuc2NhbGU9TWF0aC5tYXgoTWF0aC5taW4oci5zY2FsZSx1Lm1heFJhdGlvKSxpLm1pblJhdGlvKSx1LiRpbWFnZUVsLnRyYW5zaXRpb24oZS5wYXJhbXMuc3BlZWQpLnRyYW5zZm9ybShgdHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKCR7ci5zY2FsZX0pYCksYz1yLnNjYWxlLHA9ITEsMT09PXIuc2NhbGUmJih1LiRzbGlkZUVsPXZvaWQgMCkpfWZ1bmN0aW9uIHkodCl7Y29uc3Qgcz1lLnpvb207aWYoIXUuJGltYWdlRWx8fDA9PT11LiRpbWFnZUVsLmxlbmd0aClyZXR1cm47aWYoZS5hbGxvd0NsaWNrPSExLCFtLmlzVG91Y2hlZHx8IXUuJHNsaWRlRWwpcmV0dXJuO20uaXNNb3ZlZHx8KG0ud2lkdGg9dS4kaW1hZ2VFbFswXS5vZmZzZXRXaWR0aCxtLmhlaWdodD11LiRpbWFnZUVsWzBdLm9mZnNldEhlaWdodCxtLnN0YXJ0WD1oKHUuJGltYWdlV3JhcEVsWzBdLFwieFwiKXx8MCxtLnN0YXJ0WT1oKHUuJGltYWdlV3JhcEVsWzBdLFwieVwiKXx8MCx1LnNsaWRlV2lkdGg9dS4kc2xpZGVFbFswXS5vZmZzZXRXaWR0aCx1LnNsaWRlSGVpZ2h0PXUuJHNsaWRlRWxbMF0ub2Zmc2V0SGVpZ2h0LHUuJGltYWdlV3JhcEVsLnRyYW5zaXRpb24oMCkpO2NvbnN0IGE9bS53aWR0aCpzLnNjYWxlLGk9bS5oZWlnaHQqcy5zY2FsZTtpZighKGE8dS5zbGlkZVdpZHRoJiZpPHUuc2xpZGVIZWlnaHQpKXtpZihtLm1pblg9TWF0aC5taW4odS5zbGlkZVdpZHRoLzItYS8yLDApLG0ubWF4WD0tbS5taW5YLG0ubWluWT1NYXRoLm1pbih1LnNsaWRlSGVpZ2h0LzItaS8yLDApLG0ubWF4WT0tbS5taW5ZLG0udG91Y2hlc0N1cnJlbnQueD1cInRvdWNobW92ZVwiPT09dC50eXBlP3QudGFyZ2V0VG91Y2hlc1swXS5wYWdlWDp0LnBhZ2VYLG0udG91Y2hlc0N1cnJlbnQueT1cInRvdWNobW92ZVwiPT09dC50eXBlP3QudGFyZ2V0VG91Y2hlc1swXS5wYWdlWTp0LnBhZ2VZLCFtLmlzTW92ZWQmJiFwKXtpZihlLmlzSG9yaXpvbnRhbCgpJiYoTWF0aC5mbG9vcihtLm1pblgpPT09TWF0aC5mbG9vcihtLnN0YXJ0WCkmJm0udG91Y2hlc0N1cnJlbnQueDxtLnRvdWNoZXNTdGFydC54fHxNYXRoLmZsb29yKG0ubWF4WCk9PT1NYXRoLmZsb29yKG0uc3RhcnRYKSYmbS50b3VjaGVzQ3VycmVudC54Pm0udG91Y2hlc1N0YXJ0LngpKXJldHVybiB2b2lkKG0uaXNUb3VjaGVkPSExKTtpZighZS5pc0hvcml6b250YWwoKSYmKE1hdGguZmxvb3IobS5taW5ZKT09PU1hdGguZmxvb3IobS5zdGFydFkpJiZtLnRvdWNoZXNDdXJyZW50Lnk8bS50b3VjaGVzU3RhcnQueXx8TWF0aC5mbG9vcihtLm1heFkpPT09TWF0aC5mbG9vcihtLnN0YXJ0WSkmJm0udG91Y2hlc0N1cnJlbnQueT5tLnRvdWNoZXNTdGFydC55KSlyZXR1cm4gdm9pZChtLmlzVG91Y2hlZD0hMSl9dC5jYW5jZWxhYmxlJiZ0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSxtLmlzTW92ZWQ9ITAsbS5jdXJyZW50WD1tLnRvdWNoZXNDdXJyZW50LngtbS50b3VjaGVzU3RhcnQueCttLnN0YXJ0WCxtLmN1cnJlbnRZPW0udG91Y2hlc0N1cnJlbnQueS1tLnRvdWNoZXNTdGFydC55K20uc3RhcnRZLG0uY3VycmVudFg8bS5taW5YJiYobS5jdXJyZW50WD1tLm1pblgrMS0obS5taW5YLW0uY3VycmVudFgrMSkqKi44KSxtLmN1cnJlbnRYPm0ubWF4WCYmKG0uY3VycmVudFg9bS5tYXhYLTErKG0uY3VycmVudFgtbS5tYXhYKzEpKiouOCksbS5jdXJyZW50WTxtLm1pblkmJihtLmN1cnJlbnRZPW0ubWluWSsxLShtLm1pblktbS5jdXJyZW50WSsxKSoqLjgpLG0uY3VycmVudFk+bS5tYXhZJiYobS5jdXJyZW50WT1tLm1heFktMSsobS5jdXJyZW50WS1tLm1heFkrMSkqKi44KSxmLnByZXZQb3NpdGlvblh8fChmLnByZXZQb3NpdGlvblg9bS50b3VjaGVzQ3VycmVudC54KSxmLnByZXZQb3NpdGlvbll8fChmLnByZXZQb3NpdGlvblk9bS50b3VjaGVzQ3VycmVudC55KSxmLnByZXZUaW1lfHwoZi5wcmV2VGltZT1EYXRlLm5vdygpKSxmLng9KG0udG91Y2hlc0N1cnJlbnQueC1mLnByZXZQb3NpdGlvblgpLyhEYXRlLm5vdygpLWYucHJldlRpbWUpLzIsZi55PShtLnRvdWNoZXNDdXJyZW50LnktZi5wcmV2UG9zaXRpb25ZKS8oRGF0ZS5ub3coKS1mLnByZXZUaW1lKS8yLE1hdGguYWJzKG0udG91Y2hlc0N1cnJlbnQueC1mLnByZXZQb3NpdGlvblgpPDImJihmLng9MCksTWF0aC5hYnMobS50b3VjaGVzQ3VycmVudC55LWYucHJldlBvc2l0aW9uWSk8MiYmKGYueT0wKSxmLnByZXZQb3NpdGlvblg9bS50b3VjaGVzQ3VycmVudC54LGYucHJldlBvc2l0aW9uWT1tLnRvdWNoZXNDdXJyZW50LnksZi5wcmV2VGltZT1EYXRlLm5vdygpLHUuJGltYWdlV3JhcEVsLnRyYW5zZm9ybShgdHJhbnNsYXRlM2QoJHttLmN1cnJlbnRYfXB4LCAke20uY3VycmVudFl9cHgsMClgKX19ZnVuY3Rpb24gRSgpe2NvbnN0IHQ9ZS56b29tO3UuJHNsaWRlRWwmJmUucHJldmlvdXNJbmRleCE9PWUuYWN0aXZlSW5kZXgmJih1LiRpbWFnZUVsJiZ1LiRpbWFnZUVsLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgxKVwiKSx1LiRpbWFnZVdyYXBFbCYmdS4kaW1hZ2VXcmFwRWwudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMCwwLDApXCIpLHQuc2NhbGU9MSxjPTEsdS4kc2xpZGVFbD12b2lkIDAsdS4kaW1hZ2VFbD12b2lkIDAsdS4kaW1hZ2VXcmFwRWw9dm9pZCAwKX1mdW5jdGlvbiBUKHQpe2NvbnN0IHM9ZS56b29tLGE9ZS5wYXJhbXMuem9vbTtpZih1LiRzbGlkZUVsfHwodCYmdC50YXJnZXQmJih1LiRzbGlkZUVsPWQodC50YXJnZXQpLmNsb3Nlc3QoYC4ke2UucGFyYW1zLnNsaWRlQ2xhc3N9YCkpLHUuJHNsaWRlRWx8fChlLnBhcmFtcy52aXJ0dWFsJiZlLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQmJmUudmlydHVhbD91LiRzbGlkZUVsPWUuJHdyYXBwZXJFbC5jaGlsZHJlbihgLiR7ZS5wYXJhbXMuc2xpZGVBY3RpdmVDbGFzc31gKTp1LiRzbGlkZUVsPWUuc2xpZGVzLmVxKGUuYWN0aXZlSW5kZXgpKSx1LiRpbWFnZUVsPXUuJHNsaWRlRWwuZmluZChgLiR7YS5jb250YWluZXJDbGFzc31gKS5lcSgwKS5maW5kKFwiaW1nLCBzdmcsIGNhbnZhcywgcGljdHVyZSwgLnN3aXBlci16b29tLXRhcmdldFwiKSx1LiRpbWFnZVdyYXBFbD11LiRpbWFnZUVsLnBhcmVudChgLiR7YS5jb250YWluZXJDbGFzc31gKSksIXUuJGltYWdlRWx8fDA9PT11LiRpbWFnZUVsLmxlbmd0aHx8IXUuJGltYWdlV3JhcEVsfHwwPT09dS4kaW1hZ2VXcmFwRWwubGVuZ3RoKXJldHVybjtsZXQgcixuLGwsbyxwLGgsZixnLHYsdyxiLHgseSxFLFQsQywkLFM7ZS5wYXJhbXMuY3NzTW9kZSYmKGUud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsZS53cmFwcGVyRWwuc3R5bGUudG91Y2hBY3Rpb249XCJub25lXCIpLHUuJHNsaWRlRWwuYWRkQ2xhc3MoYCR7YS56b29tZWRTbGlkZUNsYXNzfWApLHZvaWQgMD09PW0udG91Y2hlc1N0YXJ0LngmJnQ/KHI9XCJ0b3VjaGVuZFwiPT09dC50eXBlP3QuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg6dC5wYWdlWCxuPVwidG91Y2hlbmRcIj09PXQudHlwZT90LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZOnQucGFnZVkpOihyPW0udG91Y2hlc1N0YXJ0Lngsbj1tLnRvdWNoZXNTdGFydC55KSxzLnNjYWxlPXUuJGltYWdlV3JhcEVsLmF0dHIoXCJkYXRhLXN3aXBlci16b29tXCIpfHxhLm1heFJhdGlvLGM9dS4kaW1hZ2VXcmFwRWwuYXR0cihcImRhdGEtc3dpcGVyLXpvb21cIil8fGEubWF4UmF0aW8sdD8oJD11LiRzbGlkZUVsWzBdLm9mZnNldFdpZHRoLFM9dS4kc2xpZGVFbFswXS5vZmZzZXRIZWlnaHQsbD11LiRzbGlkZUVsLm9mZnNldCgpLmxlZnQraS5zY3JvbGxYLG89dS4kc2xpZGVFbC5vZmZzZXQoKS50b3AraS5zY3JvbGxZLHA9bCskLzItcixoPW8rUy8yLW4sdj11LiRpbWFnZUVsWzBdLm9mZnNldFdpZHRoLHc9dS4kaW1hZ2VFbFswXS5vZmZzZXRIZWlnaHQsYj12KnMuc2NhbGUseD13KnMuc2NhbGUseT1NYXRoLm1pbigkLzItYi8yLDApLEU9TWF0aC5taW4oUy8yLXgvMiwwKSxUPS15LEM9LUUsZj1wKnMuc2NhbGUsZz1oKnMuc2NhbGUsZjx5JiYoZj15KSxmPlQmJihmPVQpLGc8RSYmKGc9RSksZz5DJiYoZz1DKSk6KGY9MCxnPTApLHUuJGltYWdlV3JhcEVsLnRyYW5zaXRpb24oMzAwKS50cmFuc2Zvcm0oYHRyYW5zbGF0ZTNkKCR7Zn1weCwgJHtnfXB4LDApYCksdS4kaW1hZ2VFbC50cmFuc2l0aW9uKDMwMCkudHJhbnNmb3JtKGB0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGUoJHtzLnNjYWxlfSlgKX1mdW5jdGlvbiBDKCl7Y29uc3QgdD1lLnpvb20scz1lLnBhcmFtcy56b29tO3UuJHNsaWRlRWx8fChlLnBhcmFtcy52aXJ0dWFsJiZlLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQmJmUudmlydHVhbD91LiRzbGlkZUVsPWUuJHdyYXBwZXJFbC5jaGlsZHJlbihgLiR7ZS5wYXJhbXMuc2xpZGVBY3RpdmVDbGFzc31gKTp1LiRzbGlkZUVsPWUuc2xpZGVzLmVxKGUuYWN0aXZlSW5kZXgpLHUuJGltYWdlRWw9dS4kc2xpZGVFbC5maW5kKGAuJHtzLmNvbnRhaW5lckNsYXNzfWApLmVxKDApLmZpbmQoXCJpbWcsIHN2ZywgY2FudmFzLCBwaWN0dXJlLCAuc3dpcGVyLXpvb20tdGFyZ2V0XCIpLHUuJGltYWdlV3JhcEVsPXUuJGltYWdlRWwucGFyZW50KGAuJHtzLmNvbnRhaW5lckNsYXNzfWApKSx1LiRpbWFnZUVsJiYwIT09dS4kaW1hZ2VFbC5sZW5ndGgmJnUuJGltYWdlV3JhcEVsJiYwIT09dS4kaW1hZ2VXcmFwRWwubGVuZ3RoJiYoZS5wYXJhbXMuY3NzTW9kZSYmKGUud3JhcHBlckVsLnN0eWxlLm92ZXJmbG93PVwiXCIsZS53cmFwcGVyRWwuc3R5bGUudG91Y2hBY3Rpb249XCJcIiksdC5zY2FsZT0xLGM9MSx1LiRpbWFnZVdyYXBFbC50cmFuc2l0aW9uKDMwMCkudHJhbnNmb3JtKFwidHJhbnNsYXRlM2QoMCwwLDApXCIpLHUuJGltYWdlRWwudHJhbnNpdGlvbigzMDApLnRyYW5zZm9ybShcInRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgxKVwiKSx1LiRzbGlkZUVsLnJlbW92ZUNsYXNzKGAke3Muem9vbWVkU2xpZGVDbGFzc31gKSx1LiRzbGlkZUVsPXZvaWQgMCl9ZnVuY3Rpb24gJCh0KXtjb25zdCBzPWUuem9vbTtzLnNjYWxlJiYxIT09cy5zY2FsZT9DKCk6VCh0KX1mdW5jdGlvbiBTKCl7Y29uc3QgdD1lLnN1cHBvcnQ7cmV0dXJue3Bhc3NpdmVMaXN0ZW5lcjohKFwidG91Y2hzdGFydFwiIT09ZS50b3VjaEV2ZW50cy5zdGFydHx8IXQucGFzc2l2ZUxpc3RlbmVyfHwhZS5wYXJhbXMucGFzc2l2ZUxpc3RlbmVycykmJntwYXNzaXZlOiEwLGNhcHR1cmU6ITF9LGFjdGl2ZUxpc3RlbmVyV2l0aENhcHR1cmU6IXQucGFzc2l2ZUxpc3RlbmVyfHx7cGFzc2l2ZTohMSxjYXB0dXJlOiEwfX19ZnVuY3Rpb24gTSgpe3JldHVybmAuJHtlLnBhcmFtcy5zbGlkZUNsYXNzfWB9ZnVuY3Rpb24gUCh0KXtjb25zdHtwYXNzaXZlTGlzdGVuZXI6c309UygpLGE9TSgpO2UuJHdyYXBwZXJFbFt0XShcImdlc3R1cmVzdGFydFwiLGEsdyxzKSxlLiR3cmFwcGVyRWxbdF0oXCJnZXN0dXJlY2hhbmdlXCIsYSxiLHMpLGUuJHdyYXBwZXJFbFt0XShcImdlc3R1cmVlbmRcIixhLHgscyl9ZnVuY3Rpb24gaygpe258fChuPSEwLFAoXCJvblwiKSl9ZnVuY3Rpb24geigpe24mJihuPSExLFAoXCJvZmZcIikpfWZ1bmN0aW9uIE8oKXtjb25zdCB0PWUuem9vbTtpZih0LmVuYWJsZWQpcmV0dXJuO3QuZW5hYmxlZD0hMDtjb25zdCBzPWUuc3VwcG9ydCx7cGFzc2l2ZUxpc3RlbmVyOmEsYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZTppfT1TKCkscj1NKCk7cy5nZXN0dXJlcz8oZS4kd3JhcHBlckVsLm9uKGUudG91Y2hFdmVudHMuc3RhcnQsayxhKSxlLiR3cmFwcGVyRWwub24oZS50b3VjaEV2ZW50cy5lbmQseixhKSk6XCJ0b3VjaHN0YXJ0XCI9PT1lLnRvdWNoRXZlbnRzLnN0YXJ0JiYoZS4kd3JhcHBlckVsLm9uKGUudG91Y2hFdmVudHMuc3RhcnQscix3LGEpLGUuJHdyYXBwZXJFbC5vbihlLnRvdWNoRXZlbnRzLm1vdmUscixiLGkpLGUuJHdyYXBwZXJFbC5vbihlLnRvdWNoRXZlbnRzLmVuZCxyLHgsYSksZS50b3VjaEV2ZW50cy5jYW5jZWwmJmUuJHdyYXBwZXJFbC5vbihlLnRvdWNoRXZlbnRzLmNhbmNlbCxyLHgsYSkpLGUuJHdyYXBwZXJFbC5vbihlLnRvdWNoRXZlbnRzLm1vdmUsYC4ke2UucGFyYW1zLnpvb20uY29udGFpbmVyQ2xhc3N9YCx5LGkpfWZ1bmN0aW9uIEkoKXtjb25zdCB0PWUuem9vbTtpZighdC5lbmFibGVkKXJldHVybjtjb25zdCBzPWUuc3VwcG9ydDt0LmVuYWJsZWQ9ITE7Y29uc3R7cGFzc2l2ZUxpc3RlbmVyOmEsYWN0aXZlTGlzdGVuZXJXaXRoQ2FwdHVyZTppfT1TKCkscj1NKCk7cy5nZXN0dXJlcz8oZS4kd3JhcHBlckVsLm9mZihlLnRvdWNoRXZlbnRzLnN0YXJ0LGssYSksZS4kd3JhcHBlckVsLm9mZihlLnRvdWNoRXZlbnRzLmVuZCx6LGEpKTpcInRvdWNoc3RhcnRcIj09PWUudG91Y2hFdmVudHMuc3RhcnQmJihlLiR3cmFwcGVyRWwub2ZmKGUudG91Y2hFdmVudHMuc3RhcnQscix3LGEpLGUuJHdyYXBwZXJFbC5vZmYoZS50b3VjaEV2ZW50cy5tb3ZlLHIsYixpKSxlLiR3cmFwcGVyRWwub2ZmKGUudG91Y2hFdmVudHMuZW5kLHIseCxhKSxlLnRvdWNoRXZlbnRzLmNhbmNlbCYmZS4kd3JhcHBlckVsLm9mZihlLnRvdWNoRXZlbnRzLmNhbmNlbCxyLHgsYSkpLGUuJHdyYXBwZXJFbC5vZmYoZS50b3VjaEV2ZW50cy5tb3ZlLGAuJHtlLnBhcmFtcy56b29tLmNvbnRhaW5lckNsYXNzfWAseSxpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZS56b29tLFwic2NhbGVcIix7Z2V0OigpPT5nLHNldChlKXtpZihnIT09ZSl7Y29uc3QgdD11LiRpbWFnZUVsP3UuJGltYWdlRWxbMF06dm9pZCAwLHM9dS4kc2xpZGVFbD91LiRzbGlkZUVsWzBdOnZvaWQgMDthKFwiem9vbUNoYW5nZVwiLGUsdCxzKX1nPWV9fSkscyhcImluaXRcIiwoKCk9PntlLnBhcmFtcy56b29tLmVuYWJsZWQmJk8oKX0pKSxzKFwiZGVzdHJveVwiLCgoKT0+e0koKX0pKSxzKFwidG91Y2hTdGFydFwiLCgodCxzKT0+e2Uuem9vbS5lbmFibGVkJiZmdW5jdGlvbih0KXtjb25zdCBzPWUuZGV2aWNlO3UuJGltYWdlRWwmJjAhPT11LiRpbWFnZUVsLmxlbmd0aCYmKG0uaXNUb3VjaGVkfHwocy5hbmRyb2lkJiZ0LmNhbmNlbGFibGUmJnQucHJldmVudERlZmF1bHQoKSxtLmlzVG91Y2hlZD0hMCxtLnRvdWNoZXNTdGFydC54PVwidG91Y2hzdGFydFwiPT09dC50eXBlP3QudGFyZ2V0VG91Y2hlc1swXS5wYWdlWDp0LnBhZ2VYLG0udG91Y2hlc1N0YXJ0Lnk9XCJ0b3VjaHN0YXJ0XCI9PT10LnR5cGU/dC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZOnQucGFnZVkpKX0ocyl9KSkscyhcInRvdWNoRW5kXCIsKCh0LHMpPT57ZS56b29tLmVuYWJsZWQmJmZ1bmN0aW9uKCl7Y29uc3QgdD1lLnpvb207aWYoIXUuJGltYWdlRWx8fDA9PT11LiRpbWFnZUVsLmxlbmd0aClyZXR1cm47aWYoIW0uaXNUb3VjaGVkfHwhbS5pc01vdmVkKXJldHVybiBtLmlzVG91Y2hlZD0hMSx2b2lkKG0uaXNNb3ZlZD0hMSk7bS5pc1RvdWNoZWQ9ITEsbS5pc01vdmVkPSExO2xldCBzPTMwMCxhPTMwMDtjb25zdCBpPWYueCpzLHI9bS5jdXJyZW50WCtpLG49Zi55KmEsbD1tLmN1cnJlbnRZK247MCE9PWYueCYmKHM9TWF0aC5hYnMoKHItbS5jdXJyZW50WCkvZi54KSksMCE9PWYueSYmKGE9TWF0aC5hYnMoKGwtbS5jdXJyZW50WSkvZi55KSk7Y29uc3Qgbz1NYXRoLm1heChzLGEpO20uY3VycmVudFg9cixtLmN1cnJlbnRZPWw7Y29uc3QgZD1tLndpZHRoKnQuc2NhbGUsYz1tLmhlaWdodCp0LnNjYWxlO20ubWluWD1NYXRoLm1pbih1LnNsaWRlV2lkdGgvMi1kLzIsMCksbS5tYXhYPS1tLm1pblgsbS5taW5ZPU1hdGgubWluKHUuc2xpZGVIZWlnaHQvMi1jLzIsMCksbS5tYXhZPS1tLm1pblksbS5jdXJyZW50WD1NYXRoLm1heChNYXRoLm1pbihtLmN1cnJlbnRYLG0ubWF4WCksbS5taW5YKSxtLmN1cnJlbnRZPU1hdGgubWF4KE1hdGgubWluKG0uY3VycmVudFksbS5tYXhZKSxtLm1pblkpLHUuJGltYWdlV3JhcEVsLnRyYW5zaXRpb24obykudHJhbnNmb3JtKGB0cmFuc2xhdGUzZCgke20uY3VycmVudFh9cHgsICR7bS5jdXJyZW50WX1weCwwKWApfSgpfSkpLHMoXCJkb3VibGVUYXBcIiwoKHQscyk9PnshZS5hbmltYXRpbmcmJmUucGFyYW1zLnpvb20uZW5hYmxlZCYmZS56b29tLmVuYWJsZWQmJmUucGFyYW1zLnpvb20udG9nZ2xlJiYkKHMpfSkpLHMoXCJ0cmFuc2l0aW9uRW5kXCIsKCgpPT57ZS56b29tLmVuYWJsZWQmJmUucGFyYW1zLnpvb20uZW5hYmxlZCYmRSgpfSkpLHMoXCJzbGlkZUNoYW5nZVwiLCgoKT0+e2Uuem9vbS5lbmFibGVkJiZlLnBhcmFtcy56b29tLmVuYWJsZWQmJmUucGFyYW1zLmNzc01vZGUmJkUoKX0pKSxPYmplY3QuYXNzaWduKGUuem9vbSx7ZW5hYmxlOk8sZGlzYWJsZTpJLGluOlQsb3V0OkMsdG9nZ2xlOiR9KX0sZnVuY3Rpb24oe3N3aXBlcjplLGV4dGVuZFBhcmFtczp0LG9uOnMsZW1pdDphfSl7dCh7bGF6eTp7Y2hlY2tJblZpZXc6ITEsZW5hYmxlZDohMSxsb2FkUHJldk5leHQ6ITEsbG9hZFByZXZOZXh0QW1vdW50OjEsbG9hZE9uVHJhbnNpdGlvblN0YXJ0OiExLHNjcm9sbGluZ0VsZW1lbnQ6XCJcIixlbGVtZW50Q2xhc3M6XCJzd2lwZXItbGF6eVwiLGxvYWRpbmdDbGFzczpcInN3aXBlci1sYXp5LWxvYWRpbmdcIixsb2FkZWRDbGFzczpcInN3aXBlci1sYXp5LWxvYWRlZFwiLHByZWxvYWRlckNsYXNzOlwic3dpcGVyLWxhenktcHJlbG9hZGVyXCJ9fSksZS5sYXp5PXt9O2xldCBpPSExLG49ITE7ZnVuY3Rpb24gbCh0LHM9ITApe2NvbnN0IGk9ZS5wYXJhbXMubGF6eTtpZih2b2lkIDA9PT10KXJldHVybjtpZigwPT09ZS5zbGlkZXMubGVuZ3RoKXJldHVybjtjb25zdCByPWUudmlydHVhbCYmZS5wYXJhbXMudmlydHVhbC5lbmFibGVkP2UuJHdyYXBwZXJFbC5jaGlsZHJlbihgLiR7ZS5wYXJhbXMuc2xpZGVDbGFzc31bZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke3R9XCJdYCk6ZS5zbGlkZXMuZXEodCksbj1yLmZpbmQoYC4ke2kuZWxlbWVudENsYXNzfTpub3QoLiR7aS5sb2FkZWRDbGFzc30pOm5vdCguJHtpLmxvYWRpbmdDbGFzc30pYCk7IXIuaGFzQ2xhc3MoaS5lbGVtZW50Q2xhc3MpfHxyLmhhc0NsYXNzKGkubG9hZGVkQ2xhc3MpfHxyLmhhc0NsYXNzKGkubG9hZGluZ0NsYXNzKXx8bi5wdXNoKHJbMF0pLDAhPT1uLmxlbmd0aCYmbi5lYWNoKCh0PT57Y29uc3Qgbj1kKHQpO24uYWRkQ2xhc3MoaS5sb2FkaW5nQ2xhc3MpO2NvbnN0IG89bi5hdHRyKFwiZGF0YS1iYWNrZ3JvdW5kXCIpLGM9bi5hdHRyKFwiZGF0YS1zcmNcIikscD1uLmF0dHIoXCJkYXRhLXNyY3NldFwiKSx1PW4uYXR0cihcImRhdGEtc2l6ZXNcIiksaD1uLnBhcmVudChcInBpY3R1cmVcIik7ZS5sb2FkSW1hZ2UoblswXSxjfHxvLHAsdSwhMSwoKCk9PntpZihudWxsIT1lJiZlJiYoIWV8fGUucGFyYW1zKSYmIWUuZGVzdHJveWVkKXtpZihvPyhuLmNzcyhcImJhY2tncm91bmQtaW1hZ2VcIixgdXJsKFwiJHtvfVwiKWApLG4ucmVtb3ZlQXR0cihcImRhdGEtYmFja2dyb3VuZFwiKSk6KHAmJihuLmF0dHIoXCJzcmNzZXRcIixwKSxuLnJlbW92ZUF0dHIoXCJkYXRhLXNyY3NldFwiKSksdSYmKG4uYXR0cihcInNpemVzXCIsdSksbi5yZW1vdmVBdHRyKFwiZGF0YS1zaXplc1wiKSksaC5sZW5ndGgmJmguY2hpbGRyZW4oXCJzb3VyY2VcIikuZWFjaCgoZT0+e2NvbnN0IHQ9ZChlKTt0LmF0dHIoXCJkYXRhLXNyY3NldFwiKSYmKHQuYXR0cihcInNyY3NldFwiLHQuYXR0cihcImRhdGEtc3Jjc2V0XCIpKSx0LnJlbW92ZUF0dHIoXCJkYXRhLXNyY3NldFwiKSl9KSksYyYmKG4uYXR0cihcInNyY1wiLGMpLG4ucmVtb3ZlQXR0cihcImRhdGEtc3JjXCIpKSksbi5hZGRDbGFzcyhpLmxvYWRlZENsYXNzKS5yZW1vdmVDbGFzcyhpLmxvYWRpbmdDbGFzcyksci5maW5kKGAuJHtpLnByZWxvYWRlckNsYXNzfWApLnJlbW92ZSgpLGUucGFyYW1zLmxvb3AmJnMpe2NvbnN0IHQ9ci5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIik7aWYoci5oYXNDbGFzcyhlLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSl7bChlLiR3cmFwcGVyRWwuY2hpbGRyZW4oYFtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7dH1cIl06bm90KC4ke2UucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3N9KWApLmluZGV4KCksITEpfWVsc2V7bChlLiR3cmFwcGVyRWwuY2hpbGRyZW4oYC4ke2UucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3N9W2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHt0fVwiXWApLmluZGV4KCksITEpfX1hKFwibGF6eUltYWdlUmVhZHlcIixyWzBdLG5bMF0pLGUucGFyYW1zLmF1dG9IZWlnaHQmJmUudXBkYXRlQXV0b0hlaWdodCgpfX0pKSxhKFwibGF6eUltYWdlTG9hZFwiLHJbMF0sblswXSl9KSl9ZnVuY3Rpb24gbygpe2NvbnN0eyR3cmFwcGVyRWw6dCxwYXJhbXM6cyxzbGlkZXM6YSxhY3RpdmVJbmRleDppfT1lLHI9ZS52aXJ0dWFsJiZzLnZpcnR1YWwuZW5hYmxlZCxvPXMubGF6eTtsZXQgYz1zLnNsaWRlc1BlclZpZXc7ZnVuY3Rpb24gcChlKXtpZihyKXtpZih0LmNoaWxkcmVuKGAuJHtzLnNsaWRlQ2xhc3N9W2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtlfVwiXWApLmxlbmd0aClyZXR1cm4hMH1lbHNlIGlmKGFbZV0pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gdShlKXtyZXR1cm4gcj9kKGUpLmF0dHIoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKTpkKGUpLmluZGV4KCl9aWYoXCJhdXRvXCI9PT1jJiYoYz0wKSxufHwobj0hMCksZS5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyl0LmNoaWxkcmVuKGAuJHtzLnNsaWRlVmlzaWJsZUNsYXNzfWApLmVhY2goKGU9PntsKHI/ZChlKS5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIik6ZChlKS5pbmRleCgpKX0pKTtlbHNlIGlmKGM+MSlmb3IobGV0IGU9aTtlPGkrYztlKz0xKXAoZSkmJmwoZSk7ZWxzZSBsKGkpO2lmKG8ubG9hZFByZXZOZXh0KWlmKGM+MXx8by5sb2FkUHJldk5leHRBbW91bnQmJm8ubG9hZFByZXZOZXh0QW1vdW50PjEpe2NvbnN0IGU9by5sb2FkUHJldk5leHRBbW91bnQsdD1jLHM9TWF0aC5taW4oaSt0K01hdGgubWF4KGUsdCksYS5sZW5ndGgpLHI9TWF0aC5tYXgoaS1NYXRoLm1heCh0LGUpLDApO2ZvcihsZXQgZT1pK2M7ZTxzO2UrPTEpcChlKSYmbChlKTtmb3IobGV0IGU9cjtlPGk7ZSs9MSlwKGUpJiZsKGUpfWVsc2V7Y29uc3QgZT10LmNoaWxkcmVuKGAuJHtzLnNsaWRlTmV4dENsYXNzfWApO2UubGVuZ3RoPjAmJmwodShlKSk7Y29uc3QgYT10LmNoaWxkcmVuKGAuJHtzLnNsaWRlUHJldkNsYXNzfWApO2EubGVuZ3RoPjAmJmwodShhKSl9fWZ1bmN0aW9uIGMoKXtjb25zdCB0PXIoKTtpZighZXx8ZS5kZXN0cm95ZWQpcmV0dXJuO2NvbnN0IHM9ZS5wYXJhbXMubGF6eS5zY3JvbGxpbmdFbGVtZW50P2QoZS5wYXJhbXMubGF6eS5zY3JvbGxpbmdFbGVtZW50KTpkKHQpLGE9c1swXT09PXQsbj1hP3QuaW5uZXJXaWR0aDpzWzBdLm9mZnNldFdpZHRoLGw9YT90LmlubmVySGVpZ2h0OnNbMF0ub2Zmc2V0SGVpZ2h0LHA9ZS4kZWwub2Zmc2V0KCkse3J0bFRyYW5zbGF0ZTp1fT1lO2xldCBoPSExO3UmJihwLmxlZnQtPWUuJGVsWzBdLnNjcm9sbExlZnQpO2NvbnN0IG09W1twLmxlZnQscC50b3BdLFtwLmxlZnQrZS53aWR0aCxwLnRvcF0sW3AubGVmdCxwLnRvcCtlLmhlaWdodF0sW3AubGVmdCtlLndpZHRoLHAudG9wK2UuaGVpZ2h0XV07Zm9yKGxldCBlPTA7ZTxtLmxlbmd0aDtlKz0xKXtjb25zdCB0PW1bZV07aWYodFswXT49MCYmdFswXTw9biYmdFsxXT49MCYmdFsxXTw9bCl7aWYoMD09PXRbMF0mJjA9PT10WzFdKWNvbnRpbnVlO2g9ITB9fWNvbnN0IGY9IShcInRvdWNoc3RhcnRcIiE9PWUudG91Y2hFdmVudHMuc3RhcnR8fCFlLnN1cHBvcnQucGFzc2l2ZUxpc3RlbmVyfHwhZS5wYXJhbXMucGFzc2l2ZUxpc3RlbmVycykmJntwYXNzaXZlOiEwLGNhcHR1cmU6ITF9O2g/KG8oKSxzLm9mZihcInNjcm9sbFwiLGMsZikpOml8fChpPSEwLHMub24oXCJzY3JvbGxcIixjLGYpKX1zKFwiYmVmb3JlSW5pdFwiLCgoKT0+e2UucGFyYW1zLmxhenkuZW5hYmxlZCYmZS5wYXJhbXMucHJlbG9hZEltYWdlcyYmKGUucGFyYW1zLnByZWxvYWRJbWFnZXM9ITEpfSkpLHMoXCJpbml0XCIsKCgpPT57ZS5wYXJhbXMubGF6eS5lbmFibGVkJiYoZS5wYXJhbXMubGF6eS5jaGVja0luVmlldz9jKCk6bygpKX0pKSxzKFwic2Nyb2xsXCIsKCgpPT57ZS5wYXJhbXMuZnJlZU1vZGUmJmUucGFyYW1zLmZyZWVNb2RlLmVuYWJsZWQmJiFlLnBhcmFtcy5mcmVlTW9kZS5zdGlja3kmJm8oKX0pKSxzKFwic2Nyb2xsYmFyRHJhZ01vdmUgcmVzaXplIF9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlXCIsKCgpPT57ZS5wYXJhbXMubGF6eS5lbmFibGVkJiYoZS5wYXJhbXMubGF6eS5jaGVja0luVmlldz9jKCk6bygpKX0pKSxzKFwidHJhbnNpdGlvblN0YXJ0XCIsKCgpPT57ZS5wYXJhbXMubGF6eS5lbmFibGVkJiYoZS5wYXJhbXMubGF6eS5sb2FkT25UcmFuc2l0aW9uU3RhcnR8fCFlLnBhcmFtcy5sYXp5LmxvYWRPblRyYW5zaXRpb25TdGFydCYmIW4pJiYoZS5wYXJhbXMubGF6eS5jaGVja0luVmlldz9jKCk6bygpKX0pKSxzKFwidHJhbnNpdGlvbkVuZFwiLCgoKT0+e2UucGFyYW1zLmxhenkuZW5hYmxlZCYmIWUucGFyYW1zLmxhenkubG9hZE9uVHJhbnNpdGlvblN0YXJ0JiYoZS5wYXJhbXMubGF6eS5jaGVja0luVmlldz9jKCk6bygpKX0pKSxzKFwic2xpZGVDaGFuZ2VcIiwoKCk9Pntjb25zdHtsYXp5OnQsY3NzTW9kZTpzLHdhdGNoU2xpZGVzUHJvZ3Jlc3M6YSx0b3VjaFJlbGVhc2VPbkVkZ2VzOmkscmVzaXN0YW5jZVJhdGlvOnJ9PWUucGFyYW1zO3QuZW5hYmxlZCYmKHN8fGEmJihpfHwwPT09cikpJiZvKCl9KSksT2JqZWN0LmFzc2lnbihlLmxhenkse2xvYWQ6byxsb2FkSW5TbGlkZTpsfSl9LGZ1bmN0aW9uKHtzd2lwZXI6ZSxleHRlbmRQYXJhbXM6dCxvbjpzfSl7ZnVuY3Rpb24gYShlLHQpe2NvbnN0IHM9ZnVuY3Rpb24oKXtsZXQgZSx0LHM7cmV0dXJuKGEsaSk9Pntmb3IodD0tMSxlPWEubGVuZ3RoO2UtdD4xOylzPWUrdD4+MSxhW3NdPD1pP3Q9czplPXM7cmV0dXJuIGV9fSgpO2xldCBhLGk7cmV0dXJuIHRoaXMueD1lLHRoaXMueT10LHRoaXMubGFzdEluZGV4PWUubGVuZ3RoLTEsdGhpcy5pbnRlcnBvbGF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZT8oaT1zKHRoaXMueCxlKSxhPWktMSwoZS10aGlzLnhbYV0pKih0aGlzLnlbaV0tdGhpcy55W2FdKS8odGhpcy54W2ldLXRoaXMueFthXSkrdGhpcy55W2FdKTowfSx0aGlzfWZ1bmN0aW9uIGkoKXtlLmNvbnRyb2xsZXIuY29udHJvbCYmZS5jb250cm9sbGVyLnNwbGluZSYmKGUuY29udHJvbGxlci5zcGxpbmU9dm9pZCAwLGRlbGV0ZSBlLmNvbnRyb2xsZXIuc3BsaW5lKX10KHtjb250cm9sbGVyOntjb250cm9sOnZvaWQgMCxpbnZlcnNlOiExLGJ5Olwic2xpZGVcIn19KSxlLmNvbnRyb2xsZXI9e2NvbnRyb2w6dm9pZCAwfSxzKFwiYmVmb3JlSW5pdFwiLCgoKT0+e2UuY29udHJvbGxlci5jb250cm9sPWUucGFyYW1zLmNvbnRyb2xsZXIuY29udHJvbH0pKSxzKFwidXBkYXRlXCIsKCgpPT57aSgpfSkpLHMoXCJyZXNpemVcIiwoKCk9PntpKCl9KSkscyhcIm9ic2VydmVyVXBkYXRlXCIsKCgpPT57aSgpfSkpLHMoXCJzZXRUcmFuc2xhdGVcIiwoKHQscyxhKT0+e2UuY29udHJvbGxlci5jb250cm9sJiZlLmNvbnRyb2xsZXIuc2V0VHJhbnNsYXRlKHMsYSl9KSkscyhcInNldFRyYW5zaXRpb25cIiwoKHQscyxhKT0+e2UuY29udHJvbGxlci5jb250cm9sJiZlLmNvbnRyb2xsZXIuc2V0VHJhbnNpdGlvbihzLGEpfSkpLE9iamVjdC5hc3NpZ24oZS5jb250cm9sbGVyLHtzZXRUcmFuc2xhdGU6ZnVuY3Rpb24odCxzKXtjb25zdCBpPWUuY29udHJvbGxlci5jb250cm9sO2xldCByLG47Y29uc3QgbD1lLmNvbnN0cnVjdG9yO2Z1bmN0aW9uIG8odCl7Y29uc3Qgcz1lLnJ0bFRyYW5zbGF0ZT8tZS50cmFuc2xhdGU6ZS50cmFuc2xhdGU7XCJzbGlkZVwiPT09ZS5wYXJhbXMuY29udHJvbGxlci5ieSYmKCFmdW5jdGlvbih0KXtlLmNvbnRyb2xsZXIuc3BsaW5lfHwoZS5jb250cm9sbGVyLnNwbGluZT1lLnBhcmFtcy5sb29wP25ldyBhKGUuc2xpZGVzR3JpZCx0LnNsaWRlc0dyaWQpOm5ldyBhKGUuc25hcEdyaWQsdC5zbmFwR3JpZCkpfSh0KSxuPS1lLmNvbnRyb2xsZXIuc3BsaW5lLmludGVycG9sYXRlKC1zKSksbiYmXCJjb250YWluZXJcIiE9PWUucGFyYW1zLmNvbnRyb2xsZXIuYnl8fChyPSh0Lm1heFRyYW5zbGF0ZSgpLXQubWluVHJhbnNsYXRlKCkpLyhlLm1heFRyYW5zbGF0ZSgpLWUubWluVHJhbnNsYXRlKCkpLG49KHMtZS5taW5UcmFuc2xhdGUoKSkqcit0Lm1pblRyYW5zbGF0ZSgpKSxlLnBhcmFtcy5jb250cm9sbGVyLmludmVyc2UmJihuPXQubWF4VHJhbnNsYXRlKCktbiksdC51cGRhdGVQcm9ncmVzcyhuKSx0LnNldFRyYW5zbGF0ZShuLGUpLHQudXBkYXRlQWN0aXZlSW5kZXgoKSx0LnVwZGF0ZVNsaWRlc0NsYXNzZXMoKX1pZihBcnJheS5pc0FycmF5KGkpKWZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSs9MSlpW2VdIT09cyYmaVtlXWluc3RhbmNlb2YgbCYmbyhpW2VdKTtlbHNlIGkgaW5zdGFuY2VvZiBsJiZzIT09aSYmbyhpKX0sc2V0VHJhbnNpdGlvbjpmdW5jdGlvbih0LHMpe2NvbnN0IGE9ZS5jb25zdHJ1Y3RvcixpPWUuY29udHJvbGxlci5jb250cm9sO2xldCByO2Z1bmN0aW9uIG4ocyl7cy5zZXRUcmFuc2l0aW9uKHQsZSksMCE9PXQmJihzLnRyYW5zaXRpb25TdGFydCgpLHMucGFyYW1zLmF1dG9IZWlnaHQmJnAoKCgpPT57cy51cGRhdGVBdXRvSGVpZ2h0KCl9KSkscy4kd3JhcHBlckVsLnRyYW5zaXRpb25FbmQoKCgpPT57aSYmKHMucGFyYW1zLmxvb3AmJlwic2xpZGVcIj09PWUucGFyYW1zLmNvbnRyb2xsZXIuYnkmJnMubG9vcEZpeCgpLHMudHJhbnNpdGlvbkVuZCgpKX0pKSl9aWYoQXJyYXkuaXNBcnJheShpKSlmb3Iocj0wO3I8aS5sZW5ndGg7cis9MSlpW3JdIT09cyYmaVtyXWluc3RhbmNlb2YgYSYmbihpW3JdKTtlbHNlIGkgaW5zdGFuY2VvZiBhJiZzIT09aSYmbihpKX19KX0sZnVuY3Rpb24oe3N3aXBlcjplLGV4dGVuZFBhcmFtczp0LG9uOnN9KXt0KHthMTF5OntlbmFibGVkOiEwLG5vdGlmaWNhdGlvbkNsYXNzOlwic3dpcGVyLW5vdGlmaWNhdGlvblwiLHByZXZTbGlkZU1lc3NhZ2U6XCJQcmV2aW91cyBzbGlkZVwiLG5leHRTbGlkZU1lc3NhZ2U6XCJOZXh0IHNsaWRlXCIsZmlyc3RTbGlkZU1lc3NhZ2U6XCJUaGlzIGlzIHRoZSBmaXJzdCBzbGlkZVwiLGxhc3RTbGlkZU1lc3NhZ2U6XCJUaGlzIGlzIHRoZSBsYXN0IHNsaWRlXCIscGFnaW5hdGlvbkJ1bGxldE1lc3NhZ2U6XCJHbyB0byBzbGlkZSB7e2luZGV4fX1cIixzbGlkZUxhYmVsTWVzc2FnZTpcInt7aW5kZXh9fSAvIHt7c2xpZGVzTGVuZ3RofX1cIixjb250YWluZXJNZXNzYWdlOm51bGwsY29udGFpbmVyUm9sZURlc2NyaXB0aW9uTWVzc2FnZTpudWxsLGl0ZW1Sb2xlRGVzY3JpcHRpb25NZXNzYWdlOm51bGwsc2xpZGVSb2xlOlwiZ3JvdXBcIn19KTtsZXQgYT1udWxsO2Z1bmN0aW9uIGkoZSl7Y29uc3QgdD1hOzAhPT10Lmxlbmd0aCYmKHQuaHRtbChcIlwiKSx0Lmh0bWwoZSkpfWZ1bmN0aW9uIHIoZSl7ZS5hdHRyKFwidGFiSW5kZXhcIixcIjBcIil9ZnVuY3Rpb24gbihlKXtlLmF0dHIoXCJ0YWJJbmRleFwiLFwiLTFcIil9ZnVuY3Rpb24gbChlLHQpe2UuYXR0cihcInJvbGVcIix0KX1mdW5jdGlvbiBvKGUsdCl7ZS5hdHRyKFwiYXJpYS1yb2xlZGVzY3JpcHRpb25cIix0KX1mdW5jdGlvbiBjKGUsdCl7ZS5hdHRyKFwiYXJpYS1sYWJlbFwiLHQpfWZ1bmN0aW9uIHAoZSl7ZS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLCEwKX1mdW5jdGlvbiB1KGUpe2UuYXR0cihcImFyaWEtZGlzYWJsZWRcIiwhMSl9ZnVuY3Rpb24gaCh0KXtpZigxMyE9PXQua2V5Q29kZSYmMzIhPT10LmtleUNvZGUpcmV0dXJuO2NvbnN0IHM9ZS5wYXJhbXMuYTExeSxhPWQodC50YXJnZXQpO2UubmF2aWdhdGlvbiYmZS5uYXZpZ2F0aW9uLiRuZXh0RWwmJmEuaXMoZS5uYXZpZ2F0aW9uLiRuZXh0RWwpJiYoZS5pc0VuZCYmIWUucGFyYW1zLmxvb3B8fGUuc2xpZGVOZXh0KCksZS5pc0VuZD9pKHMubGFzdFNsaWRlTWVzc2FnZSk6aShzLm5leHRTbGlkZU1lc3NhZ2UpKSxlLm5hdmlnYXRpb24mJmUubmF2aWdhdGlvbi4kcHJldkVsJiZhLmlzKGUubmF2aWdhdGlvbi4kcHJldkVsKSYmKGUuaXNCZWdpbm5pbmcmJiFlLnBhcmFtcy5sb29wfHxlLnNsaWRlUHJldigpLGUuaXNCZWdpbm5pbmc/aShzLmZpcnN0U2xpZGVNZXNzYWdlKTppKHMucHJldlNsaWRlTWVzc2FnZSkpLGUucGFnaW5hdGlvbiYmYS5pcyhXKGUucGFyYW1zLnBhZ2luYXRpb24uYnVsbGV0Q2xhc3MpKSYmYVswXS5jbGljaygpfWZ1bmN0aW9uIG0oKXtpZihlLnBhcmFtcy5sb29wfHwhZS5uYXZpZ2F0aW9uKXJldHVybjtjb25zdHskbmV4dEVsOnQsJHByZXZFbDpzfT1lLm5hdmlnYXRpb247cyYmcy5sZW5ndGg+MCYmKGUuaXNCZWdpbm5pbmc/KHAocyksbihzKSk6KHUocykscihzKSkpLHQmJnQubGVuZ3RoPjAmJihlLmlzRW5kPyhwKHQpLG4odCkpOih1KHQpLHIodCkpKX1mdW5jdGlvbiBmKCl7cmV0dXJuIGUucGFnaW5hdGlvbiYmZS5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUmJmUucGFnaW5hdGlvbi5idWxsZXRzJiZlLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGh9Y29uc3QgZz0oZSx0LHMpPT57cihlKSxcIkJVVFRPTlwiIT09ZVswXS50YWdOYW1lJiYobChlLFwiYnV0dG9uXCIpLGUub24oXCJrZXlkb3duXCIsaCkpLGMoZSxzKSxmdW5jdGlvbihlLHQpe2UuYXR0cihcImFyaWEtY29udHJvbHNcIix0KX0oZSx0KX07ZnVuY3Rpb24gdigpe2NvbnN0IHQ9ZS5wYXJhbXMuYTExeTtlLiRlbC5hcHBlbmQoYSk7Y29uc3Qgcz1lLiRlbDt0LmNvbnRhaW5lclJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UmJm8ocyx0LmNvbnRhaW5lclJvbGVEZXNjcmlwdGlvbk1lc3NhZ2UpLHQuY29udGFpbmVyTWVzc2FnZSYmYyhzLHQuY29udGFpbmVyTWVzc2FnZSk7Y29uc3QgaT1lLiR3cmFwcGVyRWwscj1pLmF0dHIoXCJpZFwiKXx8YHN3aXBlci13cmFwcGVyLSR7ZnVuY3Rpb24oZT0xNil7cmV0dXJuXCJ4XCIucmVwZWF0KGUpLnJlcGxhY2UoL3gvZywoKCk9Pk1hdGgucm91bmQoMTYqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMTYpKSl9KDE2KX1gLG49ZS5wYXJhbXMuYXV0b3BsYXkmJmUucGFyYW1zLmF1dG9wbGF5LmVuYWJsZWQ/XCJvZmZcIjpcInBvbGl0ZVwiO3ZhciBwO3A9cixpLmF0dHIoXCJpZFwiLHApLGZ1bmN0aW9uKGUsdCl7ZS5hdHRyKFwiYXJpYS1saXZlXCIsdCl9KGksbiksdC5pdGVtUm9sZURlc2NyaXB0aW9uTWVzc2FnZSYmbyhkKGUuc2xpZGVzKSx0Lml0ZW1Sb2xlRGVzY3JpcHRpb25NZXNzYWdlKSxsKGQoZS5zbGlkZXMpLHQuc2xpZGVSb2xlKTtjb25zdCB1PWUucGFyYW1zLmxvb3A/ZS5zbGlkZXMuZmlsdGVyKCh0PT4hdC5jbGFzc0xpc3QuY29udGFpbnMoZS5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpKS5sZW5ndGg6ZS5zbGlkZXMubGVuZ3RoO2xldCBtLHY7ZS5zbGlkZXMuZWFjaCgoKHMsYSk9Pntjb25zdCBpPWQocykscj1lLnBhcmFtcy5sb29wP3BhcnNlSW50KGkuYXR0cihcImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4XCIpLDEwKTphO2MoaSx0LnNsaWRlTGFiZWxNZXNzYWdlLnJlcGxhY2UoL1xce1xce2luZGV4XFx9XFx9LyxyKzEpLnJlcGxhY2UoL1xce1xce3NsaWRlc0xlbmd0aFxcfVxcfS8sdSkpfSkpLGUubmF2aWdhdGlvbiYmZS5uYXZpZ2F0aW9uLiRuZXh0RWwmJihtPWUubmF2aWdhdGlvbi4kbmV4dEVsKSxlLm5hdmlnYXRpb24mJmUubmF2aWdhdGlvbi4kcHJldkVsJiYodj1lLm5hdmlnYXRpb24uJHByZXZFbCksbSYmbS5sZW5ndGgmJmcobSxyLHQubmV4dFNsaWRlTWVzc2FnZSksdiYmdi5sZW5ndGgmJmcodixyLHQucHJldlNsaWRlTWVzc2FnZSksZigpJiZlLnBhZ2luYXRpb24uJGVsLm9uKFwia2V5ZG93blwiLFcoZS5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcyksaCl9cyhcImJlZm9yZUluaXRcIiwoKCk9PnthPWQoYDxzcGFuIGNsYXNzPVwiJHtlLnBhcmFtcy5hMTF5Lm5vdGlmaWNhdGlvbkNsYXNzfVwiIGFyaWEtbGl2ZT1cImFzc2VydGl2ZVwiIGFyaWEtYXRvbWljPVwidHJ1ZVwiPjwvc3Bhbj5gKX0pKSxzKFwiYWZ0ZXJJbml0XCIsKCgpPT57ZS5wYXJhbXMuYTExeS5lbmFibGVkJiYodigpLG0oKSl9KSkscyhcInRvRWRnZVwiLCgoKT0+e2UucGFyYW1zLmExMXkuZW5hYmxlZCYmbSgpfSkpLHMoXCJmcm9tRWRnZVwiLCgoKT0+e2UucGFyYW1zLmExMXkuZW5hYmxlZCYmbSgpfSkpLHMoXCJwYWdpbmF0aW9uVXBkYXRlXCIsKCgpPT57ZS5wYXJhbXMuYTExeS5lbmFibGVkJiZmdW5jdGlvbigpe2NvbnN0IHQ9ZS5wYXJhbXMuYTExeTtmKCkmJmUucGFnaW5hdGlvbi5idWxsZXRzLmVhY2goKHM9Pntjb25zdCBhPWQocyk7cihhKSxlLnBhcmFtcy5wYWdpbmF0aW9uLnJlbmRlckJ1bGxldHx8KGwoYSxcImJ1dHRvblwiKSxjKGEsdC5wYWdpbmF0aW9uQnVsbGV0TWVzc2FnZS5yZXBsYWNlKC9cXHtcXHtpbmRleFxcfVxcfS8sYS5pbmRleCgpKzEpKSl9KSl9KCl9KSkscyhcImRlc3Ryb3lcIiwoKCk9PntlLnBhcmFtcy5hMTF5LmVuYWJsZWQmJmZ1bmN0aW9uKCl7bGV0IHQsczthJiZhLmxlbmd0aD4wJiZhLnJlbW92ZSgpLGUubmF2aWdhdGlvbiYmZS5uYXZpZ2F0aW9uLiRuZXh0RWwmJih0PWUubmF2aWdhdGlvbi4kbmV4dEVsKSxlLm5hdmlnYXRpb24mJmUubmF2aWdhdGlvbi4kcHJldkVsJiYocz1lLm5hdmlnYXRpb24uJHByZXZFbCksdCYmdC5vZmYoXCJrZXlkb3duXCIsaCkscyYmcy5vZmYoXCJrZXlkb3duXCIsaCksZigpJiZlLnBhZ2luYXRpb24uJGVsLm9mZihcImtleWRvd25cIixXKGUucGFyYW1zLnBhZ2luYXRpb24uYnVsbGV0Q2xhc3MpLGgpfSgpfSkpfSxmdW5jdGlvbih7c3dpcGVyOmUsZXh0ZW5kUGFyYW1zOnQsb246c30pe3Qoe2hpc3Rvcnk6e2VuYWJsZWQ6ITEscm9vdDpcIlwiLHJlcGxhY2VTdGF0ZTohMSxrZXk6XCJzbGlkZXNcIn19KTtsZXQgYT0hMSxpPXt9O2NvbnN0IG49ZT0+ZS50b1N0cmluZygpLnJlcGxhY2UoL1xccysvZyxcIi1cIikucmVwbGFjZSgvW15cXHctXSsvZyxcIlwiKS5yZXBsYWNlKC8tLSsvZyxcIi1cIikucmVwbGFjZSgvXi0rLyxcIlwiKS5yZXBsYWNlKC8tKyQvLFwiXCIpLGw9ZT0+e2NvbnN0IHQ9cigpO2xldCBzO3M9ZT9uZXcgVVJMKGUpOnQubG9jYXRpb247Y29uc3QgYT1zLnBhdGhuYW1lLnNsaWNlKDEpLnNwbGl0KFwiL1wiKS5maWx0ZXIoKGU9PlwiXCIhPT1lKSksaT1hLmxlbmd0aDtyZXR1cm57a2V5OmFbaS0yXSx2YWx1ZTphW2ktMV19fSxvPSh0LHMpPT57Y29uc3QgaT1yKCk7aWYoIWF8fCFlLnBhcmFtcy5oaXN0b3J5LmVuYWJsZWQpcmV0dXJuO2xldCBsO2w9ZS5wYXJhbXMudXJsP25ldyBVUkwoZS5wYXJhbXMudXJsKTppLmxvY2F0aW9uO2NvbnN0IG89ZS5zbGlkZXMuZXEocyk7bGV0IGQ9bihvLmF0dHIoXCJkYXRhLWhpc3RvcnlcIikpO2lmKGUucGFyYW1zLmhpc3Rvcnkucm9vdC5sZW5ndGg+MCl7bGV0IHM9ZS5wYXJhbXMuaGlzdG9yeS5yb290O1wiL1wiPT09c1tzLmxlbmd0aC0xXSYmKHM9cy5zbGljZSgwLHMubGVuZ3RoLTEpKSxkPWAke3N9LyR7dH0vJHtkfWB9ZWxzZSBsLnBhdGhuYW1lLmluY2x1ZGVzKHQpfHwoZD1gJHt0fS8ke2R9YCk7Y29uc3QgYz1pLmhpc3Rvcnkuc3RhdGU7YyYmYy52YWx1ZT09PWR8fChlLnBhcmFtcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZT9pLmhpc3RvcnkucmVwbGFjZVN0YXRlKHt2YWx1ZTpkfSxudWxsLGQpOmkuaGlzdG9yeS5wdXNoU3RhdGUoe3ZhbHVlOmR9LG51bGwsZCkpfSxkPSh0LHMsYSk9PntpZihzKWZvcihsZXQgaT0wLHI9ZS5zbGlkZXMubGVuZ3RoO2k8cjtpKz0xKXtjb25zdCByPWUuc2xpZGVzLmVxKGkpO2lmKG4oci5hdHRyKFwiZGF0YS1oaXN0b3J5XCIpKT09PXMmJiFyLmhhc0NsYXNzKGUucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKXtjb25zdCBzPXIuaW5kZXgoKTtlLnNsaWRlVG8ocyx0LGEpfX1lbHNlIGUuc2xpZGVUbygwLHQsYSl9LGM9KCk9PntpPWwoZS5wYXJhbXMudXJsKSxkKGUucGFyYW1zLnNwZWVkLGUucGF0aHMudmFsdWUsITEpfTtzKFwiaW5pdFwiLCgoKT0+e2UucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCYmKCgpPT57Y29uc3QgdD1yKCk7aWYoZS5wYXJhbXMuaGlzdG9yeSl7aWYoIXQuaGlzdG9yeXx8IXQuaGlzdG9yeS5wdXNoU3RhdGUpcmV0dXJuIGUucGFyYW1zLmhpc3RvcnkuZW5hYmxlZD0hMSx2b2lkKGUucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLmVuYWJsZWQ9ITApO2E9ITAsaT1sKGUucGFyYW1zLnVybCksKGkua2V5fHxpLnZhbHVlKSYmKGQoMCxpLnZhbHVlLGUucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCksZS5wYXJhbXMuaGlzdG9yeS5yZXBsYWNlU3RhdGV8fHQuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsYykpfX0pKCl9KSkscyhcImRlc3Ryb3lcIiwoKCk9PntlLnBhcmFtcy5oaXN0b3J5LmVuYWJsZWQmJigoKT0+e2NvbnN0IHQ9cigpO2UucGFyYW1zLmhpc3RvcnkucmVwbGFjZVN0YXRlfHx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLGMpfSkoKX0pKSxzKFwidHJhbnNpdGlvbkVuZCBfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZVwiLCgoKT0+e2EmJm8oZS5wYXJhbXMuaGlzdG9yeS5rZXksZS5hY3RpdmVJbmRleCl9KSkscyhcInNsaWRlQ2hhbmdlXCIsKCgpPT57YSYmZS5wYXJhbXMuY3NzTW9kZSYmbyhlLnBhcmFtcy5oaXN0b3J5LmtleSxlLmFjdGl2ZUluZGV4KX0pKX0sZnVuY3Rpb24oe3N3aXBlcjplLGV4dGVuZFBhcmFtczp0LGVtaXQ6cyxvbjppfSl7bGV0IG49ITE7Y29uc3QgbD1hKCksbz1yKCk7dCh7aGFzaE5hdmlnYXRpb246e2VuYWJsZWQ6ITEscmVwbGFjZVN0YXRlOiExLHdhdGNoU3RhdGU6ITF9fSk7Y29uc3QgYz0oKT0+e3MoXCJoYXNoQ2hhbmdlXCIpO2NvbnN0IHQ9bC5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoXCIjXCIsXCJcIik7aWYodCE9PWUuc2xpZGVzLmVxKGUuYWN0aXZlSW5kZXgpLmF0dHIoXCJkYXRhLWhhc2hcIikpe2NvbnN0IHM9ZS4kd3JhcHBlckVsLmNoaWxkcmVuKGAuJHtlLnBhcmFtcy5zbGlkZUNsYXNzfVtkYXRhLWhhc2g9XCIke3R9XCJdYCkuaW5kZXgoKTtpZih2b2lkIDA9PT1zKXJldHVybjtlLnNsaWRlVG8ocyl9fSxwPSgpPT57aWYobiYmZS5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZClpZihlLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5yZXBsYWNlU3RhdGUmJm8uaGlzdG9yeSYmby5oaXN0b3J5LnJlcGxhY2VTdGF0ZSlvLmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsbnVsbCxgIyR7ZS5zbGlkZXMuZXEoZS5hY3RpdmVJbmRleCkuYXR0cihcImRhdGEtaGFzaFwiKX1gfHxcIlwiKSxzKFwiaGFzaFNldFwiKTtlbHNle2NvbnN0IHQ9ZS5zbGlkZXMuZXEoZS5hY3RpdmVJbmRleCksYT10LmF0dHIoXCJkYXRhLWhhc2hcIil8fHQuYXR0cihcImRhdGEtaGlzdG9yeVwiKTtsLmxvY2F0aW9uLmhhc2g9YXx8XCJcIixzKFwiaGFzaFNldFwiKX19O2koXCJpbml0XCIsKCgpPT57ZS5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZCYmKCgpPT57aWYoIWUucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLmVuYWJsZWR8fGUucGFyYW1zLmhpc3RvcnkmJmUucGFyYW1zLmhpc3RvcnkuZW5hYmxlZClyZXR1cm47bj0hMDtjb25zdCB0PWwubG9jYXRpb24uaGFzaC5yZXBsYWNlKFwiI1wiLFwiXCIpO2lmKHQpe2NvbnN0IHM9MDtmb3IobGV0IGE9MCxpPWUuc2xpZGVzLmxlbmd0aDthPGk7YSs9MSl7Y29uc3QgaT1lLnNsaWRlcy5lcShhKTtpZigoaS5hdHRyKFwiZGF0YS1oYXNoXCIpfHxpLmF0dHIoXCJkYXRhLWhpc3RvcnlcIikpPT09dCYmIWkuaGFzQ2xhc3MoZS5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpe2NvbnN0IHQ9aS5pbmRleCgpO2Uuc2xpZGVUbyh0LHMsZS5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0LCEwKX19fWUucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLndhdGNoU3RhdGUmJmQobykub24oXCJoYXNoY2hhbmdlXCIsYyl9KSgpfSkpLGkoXCJkZXN0cm95XCIsKCgpPT57ZS5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZCYmZS5wYXJhbXMuaGFzaE5hdmlnYXRpb24ud2F0Y2hTdGF0ZSYmZChvKS5vZmYoXCJoYXNoY2hhbmdlXCIsYyl9KSksaShcInRyYW5zaXRpb25FbmQgX2ZyZWVNb2RlTm9Nb21lbnR1bVJlbGVhc2VcIiwoKCk9PntuJiZwKCl9KSksaShcInNsaWRlQ2hhbmdlXCIsKCgpPT57biYmZS5wYXJhbXMuY3NzTW9kZSYmcCgpfSkpfSxmdW5jdGlvbih7c3dpcGVyOmUsZXh0ZW5kUGFyYW1zOnQsb246cyxlbWl0Oml9KXtsZXQgcjtmdW5jdGlvbiBuKCl7Y29uc3QgdD1lLnNsaWRlcy5lcShlLmFjdGl2ZUluZGV4KTtsZXQgcz1lLnBhcmFtcy5hdXRvcGxheS5kZWxheTt0LmF0dHIoXCJkYXRhLXN3aXBlci1hdXRvcGxheVwiKSYmKHM9dC5hdHRyKFwiZGF0YS1zd2lwZXItYXV0b3BsYXlcIil8fGUucGFyYW1zLmF1dG9wbGF5LmRlbGF5KSxjbGVhclRpbWVvdXQocikscj1wKCgoKT0+e2xldCB0O2UucGFyYW1zLmF1dG9wbGF5LnJldmVyc2VEaXJlY3Rpb24/ZS5wYXJhbXMubG9vcD8oZS5sb29wRml4KCksdD1lLnNsaWRlUHJldihlLnBhcmFtcy5zcGVlZCwhMCwhMCksaShcImF1dG9wbGF5XCIpKTplLmlzQmVnaW5uaW5nP2UucGFyYW1zLmF1dG9wbGF5LnN0b3BPbkxhc3RTbGlkZT9vKCk6KHQ9ZS5zbGlkZVRvKGUuc2xpZGVzLmxlbmd0aC0xLGUucGFyYW1zLnNwZWVkLCEwLCEwKSxpKFwiYXV0b3BsYXlcIikpOih0PWUuc2xpZGVQcmV2KGUucGFyYW1zLnNwZWVkLCEwLCEwKSxpKFwiYXV0b3BsYXlcIikpOmUucGFyYW1zLmxvb3A/KGUubG9vcEZpeCgpLHQ9ZS5zbGlkZU5leHQoZS5wYXJhbXMuc3BlZWQsITAsITApLGkoXCJhdXRvcGxheVwiKSk6ZS5pc0VuZD9lLnBhcmFtcy5hdXRvcGxheS5zdG9wT25MYXN0U2xpZGU/bygpOih0PWUuc2xpZGVUbygwLGUucGFyYW1zLnNwZWVkLCEwLCEwKSxpKFwiYXV0b3BsYXlcIikpOih0PWUuc2xpZGVOZXh0KGUucGFyYW1zLnNwZWVkLCEwLCEwKSxpKFwiYXV0b3BsYXlcIikpLChlLnBhcmFtcy5jc3NNb2RlJiZlLmF1dG9wbGF5LnJ1bm5pbmd8fCExPT09dCkmJm4oKX0pLHMpfWZ1bmN0aW9uIGwoKXtyZXR1cm4gdm9pZCAwPT09ciYmKCFlLmF1dG9wbGF5LnJ1bm5pbmcmJihlLmF1dG9wbGF5LnJ1bm5pbmc9ITAsaShcImF1dG9wbGF5U3RhcnRcIiksbigpLCEwKSl9ZnVuY3Rpb24gbygpe3JldHVybiEhZS5hdXRvcGxheS5ydW5uaW5nJiYodm9pZCAwIT09ciYmKHImJihjbGVhclRpbWVvdXQocikscj12b2lkIDApLGUuYXV0b3BsYXkucnVubmluZz0hMSxpKFwiYXV0b3BsYXlTdG9wXCIpLCEwKSl9ZnVuY3Rpb24gZCh0KXtlLmF1dG9wbGF5LnJ1bm5pbmcmJihlLmF1dG9wbGF5LnBhdXNlZHx8KHImJmNsZWFyVGltZW91dChyKSxlLmF1dG9wbGF5LnBhdXNlZD0hMCwwIT09dCYmZS5wYXJhbXMuYXV0b3BsYXkud2FpdEZvclRyYW5zaXRpb24/W1widHJhbnNpdGlvbmVuZFwiLFwid2Via2l0VHJhbnNpdGlvbkVuZFwiXS5mb3JFYWNoKCh0PT57ZS4kd3JhcHBlckVsWzBdLmFkZEV2ZW50TGlzdGVuZXIodCx1KX0pKTooZS5hdXRvcGxheS5wYXVzZWQ9ITEsbigpKSkpfWZ1bmN0aW9uIGMoKXtjb25zdCB0PWEoKTtcImhpZGRlblwiPT09dC52aXNpYmlsaXR5U3RhdGUmJmUuYXV0b3BsYXkucnVubmluZyYmZCgpLFwidmlzaWJsZVwiPT09dC52aXNpYmlsaXR5U3RhdGUmJmUuYXV0b3BsYXkucGF1c2VkJiYobigpLGUuYXV0b3BsYXkucGF1c2VkPSExKX1mdW5jdGlvbiB1KHQpe2UmJiFlLmRlc3Ryb3llZCYmZS4kd3JhcHBlckVsJiZ0LnRhcmdldD09PWUuJHdyYXBwZXJFbFswXSYmKFtcInRyYW5zaXRpb25lbmRcIixcIndlYmtpdFRyYW5zaXRpb25FbmRcIl0uZm9yRWFjaCgodD0+e2UuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKHQsdSl9KSksZS5hdXRvcGxheS5wYXVzZWQ9ITEsZS5hdXRvcGxheS5ydW5uaW5nP24oKTpvKCkpfWZ1bmN0aW9uIGgoKXtlLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbj9vKCk6ZCgpLFtcInRyYW5zaXRpb25lbmRcIixcIndlYmtpdFRyYW5zaXRpb25FbmRcIl0uZm9yRWFjaCgodD0+e2UuJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKHQsdSl9KSl9ZnVuY3Rpb24gbSgpe2UucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9ufHwoZS5hdXRvcGxheS5wYXVzZWQ9ITEsbigpKX1lLmF1dG9wbGF5PXtydW5uaW5nOiExLHBhdXNlZDohMX0sdCh7YXV0b3BsYXk6e2VuYWJsZWQ6ITEsZGVsYXk6M2UzLHdhaXRGb3JUcmFuc2l0aW9uOiEwLGRpc2FibGVPbkludGVyYWN0aW9uOiEwLHN0b3BPbkxhc3RTbGlkZTohMSxyZXZlcnNlRGlyZWN0aW9uOiExLHBhdXNlT25Nb3VzZUVudGVyOiExfX0pLHMoXCJpbml0XCIsKCgpPT57aWYoZS5wYXJhbXMuYXV0b3BsYXkuZW5hYmxlZCl7bCgpO2EoKS5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLGMpLGUucGFyYW1zLmF1dG9wbGF5LnBhdXNlT25Nb3VzZUVudGVyJiYoZS4kZWwub24oXCJtb3VzZWVudGVyXCIsaCksZS4kZWwub24oXCJtb3VzZWxlYXZlXCIsbSkpfX0pKSxzKFwiYmVmb3JlVHJhbnNpdGlvblN0YXJ0XCIsKCh0LHMsYSk9PntlLmF1dG9wbGF5LnJ1bm5pbmcmJihhfHwhZS5wYXJhbXMuYXV0b3BsYXkuZGlzYWJsZU9uSW50ZXJhY3Rpb24/ZS5hdXRvcGxheS5wYXVzZShzKTpvKCkpfSkpLHMoXCJzbGlkZXJGaXJzdE1vdmVcIiwoKCk9PntlLmF1dG9wbGF5LnJ1bm5pbmcmJihlLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbj9vKCk6ZCgpKX0pKSxzKFwidG91Y2hFbmRcIiwoKCk9PntlLnBhcmFtcy5jc3NNb2RlJiZlLmF1dG9wbGF5LnBhdXNlZCYmIWUucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uJiZuKCl9KSkscyhcImRlc3Ryb3lcIiwoKCk9PntlLiRlbC5vZmYoXCJtb3VzZWVudGVyXCIsaCksZS4kZWwub2ZmKFwibW91c2VsZWF2ZVwiLG0pLGUuYXV0b3BsYXkucnVubmluZyYmbygpO2EoKS5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLGMpfSkpLE9iamVjdC5hc3NpZ24oZS5hdXRvcGxheSx7cGF1c2U6ZCxydW46bixzdGFydDpsLHN0b3A6b30pfSxmdW5jdGlvbih7c3dpcGVyOmUsZXh0ZW5kUGFyYW1zOnQsb246c30pe3Qoe3RodW1iczp7c3dpcGVyOm51bGwsbXVsdGlwbGVBY3RpdmVUaHVtYnM6ITAsYXV0b1Njcm9sbE9mZnNldDowLHNsaWRlVGh1bWJBY3RpdmVDbGFzczpcInN3aXBlci1zbGlkZS10aHVtYi1hY3RpdmVcIix0aHVtYnNDb250YWluZXJDbGFzczpcInN3aXBlci10aHVtYnNcIn19KTtsZXQgYT0hMSxpPSExO2Z1bmN0aW9uIHIoKXtjb25zdCB0PWUudGh1bWJzLnN3aXBlcjtpZighdClyZXR1cm47Y29uc3Qgcz10LmNsaWNrZWRJbmRleCxhPXQuY2xpY2tlZFNsaWRlO2lmKGEmJmQoYSkuaGFzQ2xhc3MoZS5wYXJhbXMudGh1bWJzLnNsaWRlVGh1bWJBY3RpdmVDbGFzcykpcmV0dXJuO2lmKG51bGw9PXMpcmV0dXJuO2xldCBpO2lmKGk9dC5wYXJhbXMubG9vcD9wYXJzZUludChkKHQuY2xpY2tlZFNsaWRlKS5hdHRyKFwiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXhcIiksMTApOnMsZS5wYXJhbXMubG9vcCl7bGV0IHQ9ZS5hY3RpdmVJbmRleDtlLnNsaWRlcy5lcSh0KS5oYXNDbGFzcyhlLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSYmKGUubG9vcEZpeCgpLGUuX2NsaWVudExlZnQ9ZS4kd3JhcHBlckVsWzBdLmNsaWVudExlZnQsdD1lLmFjdGl2ZUluZGV4KTtjb25zdCBzPWUuc2xpZGVzLmVxKHQpLnByZXZBbGwoYFtkYXRhLXN3aXBlci1zbGlkZS1pbmRleD1cIiR7aX1cIl1gKS5lcSgwKS5pbmRleCgpLGE9ZS5zbGlkZXMuZXEodCkubmV4dEFsbChgW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PVwiJHtpfVwiXWApLmVxKDApLmluZGV4KCk7aT12b2lkIDA9PT1zP2E6dm9pZCAwPT09YT9zOmEtdDx0LXM/YTpzfWUuc2xpZGVUbyhpKX1mdW5jdGlvbiBuKCl7Y29uc3R7dGh1bWJzOnR9PWUucGFyYW1zO2lmKGEpcmV0dXJuITE7YT0hMDtjb25zdCBzPWUuY29uc3RydWN0b3I7aWYodC5zd2lwZXIgaW5zdGFuY2VvZiBzKWUudGh1bWJzLnN3aXBlcj10LnN3aXBlcixPYmplY3QuYXNzaWduKGUudGh1bWJzLnN3aXBlci5vcmlnaW5hbFBhcmFtcyx7d2F0Y2hTbGlkZXNQcm9ncmVzczohMCxzbGlkZVRvQ2xpY2tlZFNsaWRlOiExfSksT2JqZWN0LmFzc2lnbihlLnRodW1icy5zd2lwZXIucGFyYW1zLHt3YXRjaFNsaWRlc1Byb2dyZXNzOiEwLHNsaWRlVG9DbGlja2VkU2xpZGU6ITF9KTtlbHNlIGlmKG0odC5zd2lwZXIpKXtjb25zdCBhPU9iamVjdC5hc3NpZ24oe30sdC5zd2lwZXIpO09iamVjdC5hc3NpZ24oYSx7d2F0Y2hTbGlkZXNQcm9ncmVzczohMCxzbGlkZVRvQ2xpY2tlZFNsaWRlOiExfSksZS50aHVtYnMuc3dpcGVyPW5ldyBzKGEpLGk9ITB9cmV0dXJuIGUudGh1bWJzLnN3aXBlci4kZWwuYWRkQ2xhc3MoZS5wYXJhbXMudGh1bWJzLnRodW1ic0NvbnRhaW5lckNsYXNzKSxlLnRodW1icy5zd2lwZXIub24oXCJ0YXBcIixyKSwhMH1mdW5jdGlvbiBsKHQpe2NvbnN0IHM9ZS50aHVtYnMuc3dpcGVyO2lmKCFzKXJldHVybjtjb25zdCBhPVwiYXV0b1wiPT09cy5wYXJhbXMuc2xpZGVzUGVyVmlldz9zLnNsaWRlc1BlclZpZXdEeW5hbWljKCk6cy5wYXJhbXMuc2xpZGVzUGVyVmlldyxpPWUucGFyYW1zLnRodW1icy5hdXRvU2Nyb2xsT2Zmc2V0LHI9aSYmIXMucGFyYW1zLmxvb3A7aWYoZS5yZWFsSW5kZXghPT1zLnJlYWxJbmRleHx8cil7bGV0IG4sbCxvPXMuYWN0aXZlSW5kZXg7aWYocy5wYXJhbXMubG9vcCl7cy5zbGlkZXMuZXEobykuaGFzQ2xhc3Mocy5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykmJihzLmxvb3BGaXgoKSxzLl9jbGllbnRMZWZ0PXMuJHdyYXBwZXJFbFswXS5jbGllbnRMZWZ0LG89cy5hY3RpdmVJbmRleCk7Y29uc3QgdD1zLnNsaWRlcy5lcShvKS5wcmV2QWxsKGBbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke2UucmVhbEluZGV4fVwiXWApLmVxKDApLmluZGV4KCksYT1zLnNsaWRlcy5lcShvKS5uZXh0QWxsKGBbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke2UucmVhbEluZGV4fVwiXWApLmVxKDApLmluZGV4KCk7bj12b2lkIDA9PT10P2E6dm9pZCAwPT09YT90OmEtbz09by10P3MucGFyYW1zLnNsaWRlc1Blckdyb3VwPjE/YTpvOmEtbzxvLXQ/YTp0LGw9ZS5hY3RpdmVJbmRleD5lLnByZXZpb3VzSW5kZXg/XCJuZXh0XCI6XCJwcmV2XCJ9ZWxzZSBuPWUucmVhbEluZGV4LGw9bj5lLnByZXZpb3VzSW5kZXg/XCJuZXh0XCI6XCJwcmV2XCI7ciYmKG4rPVwibmV4dFwiPT09bD9pOi0xKmkpLHMudmlzaWJsZVNsaWRlc0luZGV4ZXMmJnMudmlzaWJsZVNsaWRlc0luZGV4ZXMuaW5kZXhPZihuKTwwJiYocy5wYXJhbXMuY2VudGVyZWRTbGlkZXM/bj1uPm8/bi1NYXRoLmZsb29yKGEvMikrMTpuK01hdGguZmxvb3IoYS8yKS0xOm4+byYmcy5wYXJhbXMuc2xpZGVzUGVyR3JvdXAscy5zbGlkZVRvKG4sdD8wOnZvaWQgMCkpfWxldCBuPTE7Y29uc3QgbD1lLnBhcmFtcy50aHVtYnMuc2xpZGVUaHVtYkFjdGl2ZUNsYXNzO2lmKGUucGFyYW1zLnNsaWRlc1BlclZpZXc+MSYmIWUucGFyYW1zLmNlbnRlcmVkU2xpZGVzJiYobj1lLnBhcmFtcy5zbGlkZXNQZXJWaWV3KSxlLnBhcmFtcy50aHVtYnMubXVsdGlwbGVBY3RpdmVUaHVtYnN8fChuPTEpLG49TWF0aC5mbG9vcihuKSxzLnNsaWRlcy5yZW1vdmVDbGFzcyhsKSxzLnBhcmFtcy5sb29wfHxzLnBhcmFtcy52aXJ0dWFsJiZzLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpZm9yKGxldCB0PTA7dDxuO3QrPTEpcy4kd3JhcHBlckVsLmNoaWxkcmVuKGBbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9XCIke2UucmVhbEluZGV4K3R9XCJdYCkuYWRkQ2xhc3MobCk7ZWxzZSBmb3IobGV0IHQ9MDt0PG47dCs9MSlzLnNsaWRlcy5lcShlLnJlYWxJbmRleCt0KS5hZGRDbGFzcyhsKX1lLnRodW1icz17c3dpcGVyOm51bGx9LHMoXCJiZWZvcmVJbml0XCIsKCgpPT57Y29uc3R7dGh1bWJzOnR9PWUucGFyYW1zO3QmJnQuc3dpcGVyJiYobigpLGwoITApKX0pKSxzKFwic2xpZGVDaGFuZ2UgdXBkYXRlIHJlc2l6ZSBvYnNlcnZlclVwZGF0ZVwiLCgoKT0+e2UudGh1bWJzLnN3aXBlciYmbCgpfSkpLHMoXCJzZXRUcmFuc2l0aW9uXCIsKCh0LHMpPT57Y29uc3QgYT1lLnRodW1icy5zd2lwZXI7YSYmYS5zZXRUcmFuc2l0aW9uKHMpfSkpLHMoXCJiZWZvcmVEZXN0cm95XCIsKCgpPT57Y29uc3QgdD1lLnRodW1icy5zd2lwZXI7dCYmaSYmdCYmdC5kZXN0cm95KCl9KSksT2JqZWN0LmFzc2lnbihlLnRodW1icyx7aW5pdDpuLHVwZGF0ZTpsfSl9LGZ1bmN0aW9uKHtzd2lwZXI6ZSxleHRlbmRQYXJhbXM6dCxlbWl0OnMsb25jZTphfSl7dCh7ZnJlZU1vZGU6e2VuYWJsZWQ6ITEsbW9tZW50dW06ITAsbW9tZW50dW1SYXRpbzoxLG1vbWVudHVtQm91bmNlOiEwLG1vbWVudHVtQm91bmNlUmF0aW86MSxtb21lbnR1bVZlbG9jaXR5UmF0aW86MSxzdGlja3k6ITEsbWluaW11bVZlbG9jaXR5Oi4wMn19KSxPYmplY3QuYXNzaWduKGUse2ZyZWVNb2RlOntvblRvdWNoTW92ZTpmdW5jdGlvbigpe2NvbnN0e3RvdWNoRXZlbnRzRGF0YTp0LHRvdWNoZXM6c309ZTswPT09dC52ZWxvY2l0aWVzLmxlbmd0aCYmdC52ZWxvY2l0aWVzLnB1c2goe3Bvc2l0aW9uOnNbZS5pc0hvcml6b250YWwoKT9cInN0YXJ0WFwiOlwic3RhcnRZXCJdLHRpbWU6dC50b3VjaFN0YXJ0VGltZX0pLHQudmVsb2NpdGllcy5wdXNoKHtwb3NpdGlvbjpzW2UuaXNIb3Jpem9udGFsKCk/XCJjdXJyZW50WFwiOlwiY3VycmVudFlcIl0sdGltZTp1KCl9KX0sb25Ub3VjaEVuZDpmdW5jdGlvbih7Y3VycmVudFBvczp0fSl7Y29uc3R7cGFyYW1zOmksJHdyYXBwZXJFbDpyLHJ0bFRyYW5zbGF0ZTpuLHNuYXBHcmlkOmwsdG91Y2hFdmVudHNEYXRhOm99PWUsZD11KCktby50b3VjaFN0YXJ0VGltZTtpZih0PC1lLm1pblRyYW5zbGF0ZSgpKWUuc2xpZGVUbyhlLmFjdGl2ZUluZGV4KTtlbHNlIGlmKHQ+LWUubWF4VHJhbnNsYXRlKCkpZS5zbGlkZXMubGVuZ3RoPGwubGVuZ3RoP2Uuc2xpZGVUbyhsLmxlbmd0aC0xKTplLnNsaWRlVG8oZS5zbGlkZXMubGVuZ3RoLTEpO2Vsc2V7aWYoaS5mcmVlTW9kZS5tb21lbnR1bSl7aWYoby52ZWxvY2l0aWVzLmxlbmd0aD4xKXtjb25zdCB0PW8udmVsb2NpdGllcy5wb3AoKSxzPW8udmVsb2NpdGllcy5wb3AoKSxhPXQucG9zaXRpb24tcy5wb3NpdGlvbixyPXQudGltZS1zLnRpbWU7ZS52ZWxvY2l0eT1hL3IsZS52ZWxvY2l0eS89MixNYXRoLmFicyhlLnZlbG9jaXR5KTxpLmZyZWVNb2RlLm1pbmltdW1WZWxvY2l0eSYmKGUudmVsb2NpdHk9MCksKHI+MTUwfHx1KCktdC50aW1lPjMwMCkmJihlLnZlbG9jaXR5PTApfWVsc2UgZS52ZWxvY2l0eT0wO2UudmVsb2NpdHkqPWkuZnJlZU1vZGUubW9tZW50dW1WZWxvY2l0eVJhdGlvLG8udmVsb2NpdGllcy5sZW5ndGg9MDtsZXQgdD0xZTMqaS5mcmVlTW9kZS5tb21lbnR1bVJhdGlvO2NvbnN0IGQ9ZS52ZWxvY2l0eSp0O2xldCBjPWUudHJhbnNsYXRlK2Q7biYmKGM9LWMpO2xldCBwLGg9ITE7Y29uc3QgbT0yMCpNYXRoLmFicyhlLnZlbG9jaXR5KSppLmZyZWVNb2RlLm1vbWVudHVtQm91bmNlUmF0aW87bGV0IGY7aWYoYzxlLm1heFRyYW5zbGF0ZSgpKWkuZnJlZU1vZGUubW9tZW50dW1Cb3VuY2U/KGMrZS5tYXhUcmFuc2xhdGUoKTwtbSYmKGM9ZS5tYXhUcmFuc2xhdGUoKS1tKSxwPWUubWF4VHJhbnNsYXRlKCksaD0hMCxvLmFsbG93TW9tZW50dW1Cb3VuY2U9ITApOmM9ZS5tYXhUcmFuc2xhdGUoKSxpLmxvb3AmJmkuY2VudGVyZWRTbGlkZXMmJihmPSEwKTtlbHNlIGlmKGM+ZS5taW5UcmFuc2xhdGUoKSlpLmZyZWVNb2RlLm1vbWVudHVtQm91bmNlPyhjLWUubWluVHJhbnNsYXRlKCk+bSYmKGM9ZS5taW5UcmFuc2xhdGUoKSttKSxwPWUubWluVHJhbnNsYXRlKCksaD0hMCxvLmFsbG93TW9tZW50dW1Cb3VuY2U9ITApOmM9ZS5taW5UcmFuc2xhdGUoKSxpLmxvb3AmJmkuY2VudGVyZWRTbGlkZXMmJihmPSEwKTtlbHNlIGlmKGkuZnJlZU1vZGUuc3RpY2t5KXtsZXQgdDtmb3IobGV0IGU9MDtlPGwubGVuZ3RoO2UrPTEpaWYobFtlXT4tYyl7dD1lO2JyZWFrfWM9TWF0aC5hYnMobFt0XS1jKTxNYXRoLmFicyhsW3QtMV0tYyl8fFwibmV4dFwiPT09ZS5zd2lwZURpcmVjdGlvbj9sW3RdOmxbdC0xXSxjPS1jfWlmKGYmJmEoXCJ0cmFuc2l0aW9uRW5kXCIsKCgpPT57ZS5sb29wRml4KCl9KSksMCE9PWUudmVsb2NpdHkpe2lmKHQ9bj9NYXRoLmFicygoLWMtZS50cmFuc2xhdGUpL2UudmVsb2NpdHkpOk1hdGguYWJzKChjLWUudHJhbnNsYXRlKS9lLnZlbG9jaXR5KSxpLmZyZWVNb2RlLnN0aWNreSl7Y29uc3Qgcz1NYXRoLmFicygobj8tYzpjKS1lLnRyYW5zbGF0ZSksYT1lLnNsaWRlc1NpemVzR3JpZFtlLmFjdGl2ZUluZGV4XTt0PXM8YT9pLnNwZWVkOnM8MiphPzEuNSppLnNwZWVkOjIuNSppLnNwZWVkfX1lbHNlIGlmKGkuZnJlZU1vZGUuc3RpY2t5KXJldHVybiB2b2lkIGUuc2xpZGVUb0Nsb3Nlc3QoKTtpLmZyZWVNb2RlLm1vbWVudHVtQm91bmNlJiZoPyhlLnVwZGF0ZVByb2dyZXNzKHApLGUuc2V0VHJhbnNpdGlvbih0KSxlLnNldFRyYW5zbGF0ZShjKSxlLnRyYW5zaXRpb25TdGFydCghMCxlLnN3aXBlRGlyZWN0aW9uKSxlLmFuaW1hdGluZz0hMCxyLnRyYW5zaXRpb25FbmQoKCgpPT57ZSYmIWUuZGVzdHJveWVkJiZvLmFsbG93TW9tZW50dW1Cb3VuY2UmJihzKFwibW9tZW50dW1Cb3VuY2VcIiksZS5zZXRUcmFuc2l0aW9uKGkuc3BlZWQpLHNldFRpbWVvdXQoKCgpPT57ZS5zZXRUcmFuc2xhdGUocCksci50cmFuc2l0aW9uRW5kKCgoKT0+e2UmJiFlLmRlc3Ryb3llZCYmZS50cmFuc2l0aW9uRW5kKCl9KSl9KSwwKSl9KSkpOmUudmVsb2NpdHk/KHMoXCJfZnJlZU1vZGVOb01vbWVudHVtUmVsZWFzZVwiKSxlLnVwZGF0ZVByb2dyZXNzKGMpLGUuc2V0VHJhbnNpdGlvbih0KSxlLnNldFRyYW5zbGF0ZShjKSxlLnRyYW5zaXRpb25TdGFydCghMCxlLnN3aXBlRGlyZWN0aW9uKSxlLmFuaW1hdGluZ3x8KGUuYW5pbWF0aW5nPSEwLHIudHJhbnNpdGlvbkVuZCgoKCk9PntlJiYhZS5kZXN0cm95ZWQmJmUudHJhbnNpdGlvbkVuZCgpfSkpKSk6ZS51cGRhdGVQcm9ncmVzcyhjKSxlLnVwZGF0ZUFjdGl2ZUluZGV4KCksZS51cGRhdGVTbGlkZXNDbGFzc2VzKCl9ZWxzZXtpZihpLmZyZWVNb2RlLnN0aWNreSlyZXR1cm4gdm9pZCBlLnNsaWRlVG9DbG9zZXN0KCk7aS5mcmVlTW9kZSYmcyhcIl9mcmVlTW9kZU5vTW9tZW50dW1SZWxlYXNlXCIpfSghaS5mcmVlTW9kZS5tb21lbnR1bXx8ZD49aS5sb25nU3dpcGVzTXMpJiYoZS51cGRhdGVQcm9ncmVzcygpLGUudXBkYXRlQWN0aXZlSW5kZXgoKSxlLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKSl9fX19KX0sZnVuY3Rpb24oe3N3aXBlcjplLGV4dGVuZFBhcmFtczp0fSl7bGV0IHMsYSxpO3Qoe2dyaWQ6e3Jvd3M6MSxmaWxsOlwiY29sdW1uXCJ9fSksZS5ncmlkPXtpbml0U2xpZGVzOnQ9Pntjb25zdHtzbGlkZXNQZXJWaWV3OnJ9PWUucGFyYW1zLHtyb3dzOm4sZmlsbDpsfT1lLnBhcmFtcy5ncmlkO2E9cy9uLGk9TWF0aC5mbG9vcih0L24pLHM9TWF0aC5mbG9vcih0L24pPT09dC9uP3Q6TWF0aC5jZWlsKHQvbikqbixcImF1dG9cIiE9PXImJlwicm93XCI9PT1sJiYocz1NYXRoLm1heChzLHIqbikpfSx1cGRhdGVTbGlkZToodCxyLG4sbCk9Pntjb25zdHtzbGlkZXNQZXJHcm91cDpvLHNwYWNlQmV0d2VlbjpkfT1lLnBhcmFtcyx7cm93czpjLGZpbGw6cH09ZS5wYXJhbXMuZ3JpZDtsZXQgdSxoLG07aWYoXCJyb3dcIj09PXAmJm8+MSl7Y29uc3QgZT1NYXRoLmZsb29yKHQvKG8qYykpLGE9dC1jKm8qZSxpPTA9PT1lP286TWF0aC5taW4oTWF0aC5jZWlsKChuLWUqYypvKS9jKSxvKTttPU1hdGguZmxvb3IoYS9pKSxoPWEtbSppK2Uqbyx1PWgrbSpzL2Msci5jc3Moe1wiLXdlYmtpdC1vcmRlclwiOnUsb3JkZXI6dX0pfWVsc2VcImNvbHVtblwiPT09cD8oaD1NYXRoLmZsb29yKHQvYyksbT10LWgqYywoaD5pfHxoPT09aSYmbT09PWMtMSkmJihtKz0xLG0+PWMmJihtPTAsaCs9MSkpKToobT1NYXRoLmZsb29yKHQvYSksaD10LW0qYSk7ci5jc3MobChcIm1hcmdpbi10b3BcIiksMCE9PW0/ZCYmYCR7ZH1weGA6XCJcIil9LHVwZGF0ZVdyYXBwZXJTaXplOih0LGEsaSk9Pntjb25zdHtzcGFjZUJldHdlZW46cixjZW50ZXJlZFNsaWRlczpuLHJvdW5kTGVuZ3RoczpsfT1lLnBhcmFtcyx7cm93czpvfT1lLnBhcmFtcy5ncmlkO2lmKGUudmlydHVhbFNpemU9KHQrcikqcyxlLnZpcnR1YWxTaXplPU1hdGguY2VpbChlLnZpcnR1YWxTaXplL28pLXIsZS4kd3JhcHBlckVsLmNzcyh7W2koXCJ3aWR0aFwiKV06YCR7ZS52aXJ0dWFsU2l6ZStyfXB4YH0pLG4pe2Euc3BsaWNlKDAsYS5sZW5ndGgpO2NvbnN0IHQ9W107Zm9yKGxldCBzPTA7czxhLmxlbmd0aDtzKz0xKXtsZXQgaT1hW3NdO2wmJihpPU1hdGguZmxvb3IoaSkpLGFbc108ZS52aXJ0dWFsU2l6ZSthWzBdJiZ0LnB1c2goaSl9YS5wdXNoKC4uLnQpfX19fSxmdW5jdGlvbih7c3dpcGVyOmV9KXtPYmplY3QuYXNzaWduKGUse2FwcGVuZFNsaWRlOlIuYmluZChlKSxwcmVwZW5kU2xpZGU6ai5iaW5kKGUpLGFkZFNsaWRlOl8uYmluZChlKSxyZW1vdmVTbGlkZTpWLmJpbmQoZSkscmVtb3ZlQWxsU2xpZGVzOnEuYmluZChlKX0pfSxmdW5jdGlvbih7c3dpcGVyOmUsZXh0ZW5kUGFyYW1zOnQsb246c30pe3Qoe2ZhZGVFZmZlY3Q6e2Nyb3NzRmFkZTohMSx0cmFuc2Zvcm1FbDpudWxsfX0pLEYoe2VmZmVjdDpcImZhZGVcIixzd2lwZXI6ZSxvbjpzLHNldFRyYW5zbGF0ZTooKT0+e2NvbnN0e3NsaWRlczp0fT1lLHM9ZS5wYXJhbXMuZmFkZUVmZmVjdDtmb3IobGV0IGE9MDthPHQubGVuZ3RoO2ErPTEpe2NvbnN0IHQ9ZS5zbGlkZXMuZXEoYSk7bGV0IGk9LXRbMF0uc3dpcGVyU2xpZGVPZmZzZXQ7ZS5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZXx8KGktPWUudHJhbnNsYXRlKTtsZXQgcj0wO2UuaXNIb3Jpem9udGFsKCl8fChyPWksaT0wKTtjb25zdCBuPWUucGFyYW1zLmZhZGVFZmZlY3QuY3Jvc3NGYWRlP01hdGgubWF4KDEtTWF0aC5hYnModFswXS5wcm9ncmVzcyksMCk6MStNYXRoLm1pbihNYXRoLm1heCh0WzBdLnByb2dyZXNzLC0xKSwwKTtVKHMsdCkuY3NzKHtvcGFjaXR5Om59KS50cmFuc2Zvcm0oYHRyYW5zbGF0ZTNkKCR7aX1weCwgJHtyfXB4LCAwcHgpYCl9fSxzZXRUcmFuc2l0aW9uOnQ9Pntjb25zdHt0cmFuc2Zvcm1FbDpzfT1lLnBhcmFtcy5mYWRlRWZmZWN0OyhzP2Uuc2xpZGVzLmZpbmQocyk6ZS5zbGlkZXMpLnRyYW5zaXRpb24odCksSyh7c3dpcGVyOmUsZHVyYXRpb246dCx0cmFuc2Zvcm1FbDpzLGFsbFNsaWRlczohMH0pfSxvdmVyd3JpdGVQYXJhbXM6KCk9Pih7c2xpZGVzUGVyVmlldzoxLHNsaWRlc1Blckdyb3VwOjEsd2F0Y2hTbGlkZXNQcm9ncmVzczohMCxzcGFjZUJldHdlZW46MCx2aXJ0dWFsVHJhbnNsYXRlOiFlLnBhcmFtcy5jc3NNb2RlfSl9KX0sZnVuY3Rpb24oe3N3aXBlcjplLGV4dGVuZFBhcmFtczp0LG9uOnN9KXt0KHtjdWJlRWZmZWN0OntzbGlkZVNoYWRvd3M6ITAsc2hhZG93OiEwLHNoYWRvd09mZnNldDoyMCxzaGFkb3dTY2FsZTouOTR9fSksRih7ZWZmZWN0OlwiY3ViZVwiLHN3aXBlcjplLG9uOnMsc2V0VHJhbnNsYXRlOigpPT57Y29uc3R7JGVsOnQsJHdyYXBwZXJFbDpzLHNsaWRlczphLHdpZHRoOmksaGVpZ2h0OnIscnRsVHJhbnNsYXRlOm4sc2l6ZTpsLGJyb3dzZXI6b309ZSxjPWUucGFyYW1zLmN1YmVFZmZlY3QscD1lLmlzSG9yaXpvbnRhbCgpLHU9ZS52aXJ0dWFsJiZlLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQ7bGV0IGgsbT0wO2Muc2hhZG93JiYocD8oaD1zLmZpbmQoXCIuc3dpcGVyLWN1YmUtc2hhZG93XCIpLDA9PT1oLmxlbmd0aCYmKGg9ZCgnPGRpdiBjbGFzcz1cInN3aXBlci1jdWJlLXNoYWRvd1wiPjwvZGl2PicpLHMuYXBwZW5kKGgpKSxoLmNzcyh7aGVpZ2h0OmAke2l9cHhgfSkpOihoPXQuZmluZChcIi5zd2lwZXItY3ViZS1zaGFkb3dcIiksMD09PWgubGVuZ3RoJiYoaD1kKCc8ZGl2IGNsYXNzPVwic3dpcGVyLWN1YmUtc2hhZG93XCI+PC9kaXY+JyksdC5hcHBlbmQoaCkpKSk7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKz0xKXtjb25zdCB0PWEuZXEoZSk7bGV0IHM9ZTt1JiYocz1wYXJzZUludCh0LmF0dHIoXCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleFwiKSwxMCkpO2xldCBpPTkwKnMscj1NYXRoLmZsb29yKGkvMzYwKTtuJiYoaT0taSxyPU1hdGguZmxvb3IoLWkvMzYwKSk7Y29uc3Qgbz1NYXRoLm1heChNYXRoLm1pbih0WzBdLnByb2dyZXNzLDEpLC0xKTtsZXQgaD0wLGY9MCxnPTA7cyU0PT0wPyhoPTQqLXIqbCxnPTApOihzLTEpJTQ9PTA/KGg9MCxnPTQqLXIqbCk6KHMtMiklND09MD8oaD1sKzQqcipsLGc9bCk6KHMtMyklND09MCYmKGg9LWwsZz0zKmwrNCpsKnIpLG4mJihoPS1oKSxwfHwoZj1oLGg9MCk7Y29uc3Qgdj1gcm90YXRlWCgke3A/MDotaX1kZWcpIHJvdGF0ZVkoJHtwP2k6MH1kZWcpIHRyYW5zbGF0ZTNkKCR7aH1weCwgJHtmfXB4LCAke2d9cHgpYDtpZihvPD0xJiZvPi0xJiYobT05MCpzKzkwKm8sbiYmKG09OTAqLXMtOTAqbykpLHQudHJhbnNmb3JtKHYpLGMuc2xpZGVTaGFkb3dzKXtsZXQgZT1wP3QuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnRcIik6dC5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wXCIpLHM9cD90LmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodFwiKTp0LmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b21cIik7MD09PWUubGVuZ3RoJiYoZT1kKGA8ZGl2IGNsYXNzPVwic3dpcGVyLXNsaWRlLXNoYWRvdy0ke3A/XCJsZWZ0XCI6XCJ0b3BcIn1cIj48L2Rpdj5gKSx0LmFwcGVuZChlKSksMD09PXMubGVuZ3RoJiYocz1kKGA8ZGl2IGNsYXNzPVwic3dpcGVyLXNsaWRlLXNoYWRvdy0ke3A/XCJyaWdodFwiOlwiYm90dG9tXCJ9XCI+PC9kaXY+YCksdC5hcHBlbmQocykpLGUubGVuZ3RoJiYoZVswXS5zdHlsZS5vcGFjaXR5PU1hdGgubWF4KC1vLDApKSxzLmxlbmd0aCYmKHNbMF0uc3R5bGUub3BhY2l0eT1NYXRoLm1heChvLDApKX19aWYocy5jc3Moe1wiLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luXCI6YDUwJSA1MCUgLSR7bC8yfXB4YCxcInRyYW5zZm9ybS1vcmlnaW5cIjpgNTAlIDUwJSAtJHtsLzJ9cHhgfSksYy5zaGFkb3cpaWYocCloLnRyYW5zZm9ybShgdHJhbnNsYXRlM2QoMHB4LCAke2kvMitjLnNoYWRvd09mZnNldH1weCwgJHstaS8yfXB4KSByb3RhdGVYKDkwZGVnKSByb3RhdGVaKDBkZWcpIHNjYWxlKCR7Yy5zaGFkb3dTY2FsZX0pYCk7ZWxzZXtjb25zdCBlPU1hdGguYWJzKG0pLTkwKk1hdGguZmxvb3IoTWF0aC5hYnMobSkvOTApLHQ9MS41LShNYXRoLnNpbigyKmUqTWF0aC5QSS8zNjApLzIrTWF0aC5jb3MoMiplKk1hdGguUEkvMzYwKS8yKSxzPWMuc2hhZG93U2NhbGUsYT1jLnNoYWRvd1NjYWxlL3QsaT1jLnNoYWRvd09mZnNldDtoLnRyYW5zZm9ybShgc2NhbGUzZCgke3N9LCAxLCAke2F9KSB0cmFuc2xhdGUzZCgwcHgsICR7ci8yK2l9cHgsICR7LXIvMi9hfXB4KSByb3RhdGVYKC05MGRlZylgKX1jb25zdCBmPW8uaXNTYWZhcml8fG8uaXNXZWJWaWV3Py1sLzI6MDtzLnRyYW5zZm9ybShgdHJhbnNsYXRlM2QoMHB4LDAsJHtmfXB4KSByb3RhdGVYKCR7ZS5pc0hvcml6b250YWwoKT8wOm19ZGVnKSByb3RhdGVZKCR7ZS5pc0hvcml6b250YWwoKT8tbTowfWRlZylgKX0sc2V0VHJhbnNpdGlvbjp0PT57Y29uc3R7JGVsOnMsc2xpZGVzOmF9PWU7YS50cmFuc2l0aW9uKHQpLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnRcIikudHJhbnNpdGlvbih0KSxlLnBhcmFtcy5jdWJlRWZmZWN0LnNoYWRvdyYmIWUuaXNIb3Jpem9udGFsKCkmJnMuZmluZChcIi5zd2lwZXItY3ViZS1zaGFkb3dcIikudHJhbnNpdGlvbih0KX0scGVyc3BlY3RpdmU6KCk9PiEwLG92ZXJ3cml0ZVBhcmFtczooKT0+KHtzbGlkZXNQZXJWaWV3OjEsc2xpZGVzUGVyR3JvdXA6MSx3YXRjaFNsaWRlc1Byb2dyZXNzOiEwLHJlc2lzdGFuY2VSYXRpbzowLHNwYWNlQmV0d2VlbjowLGNlbnRlcmVkU2xpZGVzOiExLHZpcnR1YWxUcmFuc2xhdGU6ITB9KX0pfSxmdW5jdGlvbih7c3dpcGVyOmUsZXh0ZW5kUGFyYW1zOnQsb246c30pe3Qoe2ZsaXBFZmZlY3Q6e3NsaWRlU2hhZG93czohMCxsaW1pdFJvdGF0aW9uOiEwLHRyYW5zZm9ybUVsOm51bGx9fSksRih7ZWZmZWN0OlwiZmxpcFwiLHN3aXBlcjplLG9uOnMsc2V0VHJhbnNsYXRlOigpPT57Y29uc3R7c2xpZGVzOnQscnRsVHJhbnNsYXRlOnN9PWUsYT1lLnBhcmFtcy5mbGlwRWZmZWN0O2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSs9MSl7Y29uc3Qgcj10LmVxKGkpO2xldCBuPXJbMF0ucHJvZ3Jlc3M7ZS5wYXJhbXMuZmxpcEVmZmVjdC5saW1pdFJvdGF0aW9uJiYobj1NYXRoLm1heChNYXRoLm1pbihyWzBdLnByb2dyZXNzLDEpLC0xKSk7Y29uc3QgbD1yWzBdLnN3aXBlclNsaWRlT2Zmc2V0O2xldCBvPS0xODAqbixkPTAsYz1lLnBhcmFtcy5jc3NNb2RlPy1sLWUudHJhbnNsYXRlOi1sLHA9MDtpZihlLmlzSG9yaXpvbnRhbCgpP3MmJihvPS1vKToocD1jLGM9MCxkPS1vLG89MCksclswXS5zdHlsZS56SW5kZXg9LU1hdGguYWJzKE1hdGgucm91bmQobikpK3QubGVuZ3RoLGEuc2xpZGVTaGFkb3dzKXtsZXQgdD1lLmlzSG9yaXpvbnRhbCgpP3IuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnRcIik6ci5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wXCIpLHM9ZS5pc0hvcml6b250YWwoKT9yLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodFwiKTpyLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b21cIik7MD09PXQubGVuZ3RoJiYodD1aKGEscixlLmlzSG9yaXpvbnRhbCgpP1wibGVmdFwiOlwidG9wXCIpKSwwPT09cy5sZW5ndGgmJihzPVooYSxyLGUuaXNIb3Jpem9udGFsKCk/XCJyaWdodFwiOlwiYm90dG9tXCIpKSx0Lmxlbmd0aCYmKHRbMF0uc3R5bGUub3BhY2l0eT1NYXRoLm1heCgtbiwwKSkscy5sZW5ndGgmJihzWzBdLnN0eWxlLm9wYWNpdHk9TWF0aC5tYXgobiwwKSl9Y29uc3QgdT1gdHJhbnNsYXRlM2QoJHtjfXB4LCAke3B9cHgsIDBweCkgcm90YXRlWCgke2R9ZGVnKSByb3RhdGVZKCR7b31kZWcpYDtVKGEscikudHJhbnNmb3JtKHUpfX0sc2V0VHJhbnNpdGlvbjp0PT57Y29uc3R7dHJhbnNmb3JtRWw6c309ZS5wYXJhbXMuZmxpcEVmZmVjdDsocz9lLnNsaWRlcy5maW5kKHMpOmUuc2xpZGVzKS50cmFuc2l0aW9uKHQpLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnRcIikudHJhbnNpdGlvbih0KSxLKHtzd2lwZXI6ZSxkdXJhdGlvbjp0LHRyYW5zZm9ybUVsOnN9KX0scGVyc3BlY3RpdmU6KCk9PiEwLG92ZXJ3cml0ZVBhcmFtczooKT0+KHtzbGlkZXNQZXJWaWV3OjEsc2xpZGVzUGVyR3JvdXA6MSx3YXRjaFNsaWRlc1Byb2dyZXNzOiEwLHNwYWNlQmV0d2VlbjowLHZpcnR1YWxUcmFuc2xhdGU6IWUucGFyYW1zLmNzc01vZGV9KX0pfSxmdW5jdGlvbih7c3dpcGVyOmUsZXh0ZW5kUGFyYW1zOnQsb246c30pe3Qoe2NvdmVyZmxvd0VmZmVjdDp7cm90YXRlOjUwLHN0cmV0Y2g6MCxkZXB0aDoxMDAsc2NhbGU6MSxtb2RpZmllcjoxLHNsaWRlU2hhZG93czohMCx0cmFuc2Zvcm1FbDpudWxsfX0pLEYoe2VmZmVjdDpcImNvdmVyZmxvd1wiLHN3aXBlcjplLG9uOnMsc2V0VHJhbnNsYXRlOigpPT57Y29uc3R7d2lkdGg6dCxoZWlnaHQ6cyxzbGlkZXM6YSxzbGlkZXNTaXplc0dyaWQ6aX09ZSxyPWUucGFyYW1zLmNvdmVyZmxvd0VmZmVjdCxuPWUuaXNIb3Jpem9udGFsKCksbD1lLnRyYW5zbGF0ZSxvPW4/dC8yLWw6cy8yLWwsZD1uP3Iucm90YXRlOi1yLnJvdGF0ZSxjPXIuZGVwdGg7Zm9yKGxldCBlPTAsdD1hLmxlbmd0aDtlPHQ7ZSs9MSl7Y29uc3QgdD1hLmVxKGUpLHM9aVtlXSxsPShvLXRbMF0uc3dpcGVyU2xpZGVPZmZzZXQtcy8yKS9zKnIubW9kaWZpZXI7bGV0IHA9bj9kKmw6MCx1PW4/MDpkKmwsaD0tYypNYXRoLmFicyhsKSxtPXIuc3RyZXRjaDtcInN0cmluZ1wiPT10eXBlb2YgbSYmLTEhPT1tLmluZGV4T2YoXCIlXCIpJiYobT1wYXJzZUZsb2F0KHIuc3RyZXRjaCkvMTAwKnMpO2xldCBmPW4/MDptKmwsZz1uP20qbDowLHY9MS0oMS1yLnNjYWxlKSpNYXRoLmFicyhsKTtNYXRoLmFicyhnKTwuMDAxJiYoZz0wKSxNYXRoLmFicyhmKTwuMDAxJiYoZj0wKSxNYXRoLmFicyhoKTwuMDAxJiYoaD0wKSxNYXRoLmFicyhwKTwuMDAxJiYocD0wKSxNYXRoLmFicyh1KTwuMDAxJiYodT0wKSxNYXRoLmFicyh2KTwuMDAxJiYodj0wKTtjb25zdCB3PWB0cmFuc2xhdGUzZCgke2d9cHgsJHtmfXB4LCR7aH1weCkgIHJvdGF0ZVgoJHt1fWRlZykgcm90YXRlWSgke3B9ZGVnKSBzY2FsZSgke3Z9KWA7aWYoVShyLHQpLnRyYW5zZm9ybSh3KSx0WzBdLnN0eWxlLnpJbmRleD0xLU1hdGguYWJzKE1hdGgucm91bmQobCkpLHIuc2xpZGVTaGFkb3dzKXtsZXQgZT1uP3QuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnRcIik6dC5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wXCIpLHM9bj90LmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodFwiKTp0LmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b21cIik7MD09PWUubGVuZ3RoJiYoZT1aKHIsdCxuP1wibGVmdFwiOlwidG9wXCIpKSwwPT09cy5sZW5ndGgmJihzPVoocix0LG4/XCJyaWdodFwiOlwiYm90dG9tXCIpKSxlLmxlbmd0aCYmKGVbMF0uc3R5bGUub3BhY2l0eT1sPjA/bDowKSxzLmxlbmd0aCYmKHNbMF0uc3R5bGUub3BhY2l0eT0tbD4wPy1sOjApfX19LHNldFRyYW5zaXRpb246dD0+e2NvbnN0e3RyYW5zZm9ybUVsOnN9PWUucGFyYW1zLmNvdmVyZmxvd0VmZmVjdDsocz9lLnNsaWRlcy5maW5kKHMpOmUuc2xpZGVzKS50cmFuc2l0aW9uKHQpLmZpbmQoXCIuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnRcIikudHJhbnNpdGlvbih0KX0scGVyc3BlY3RpdmU6KCk9PiEwLG92ZXJ3cml0ZVBhcmFtczooKT0+KHt3YXRjaFNsaWRlc1Byb2dyZXNzOiEwfSl9KX0sZnVuY3Rpb24oe3N3aXBlcjplLGV4dGVuZFBhcmFtczp0LG9uOnN9KXt0KHtjcmVhdGl2ZUVmZmVjdDp7dHJhbnNmb3JtRWw6bnVsbCxsaW1pdFByb2dyZXNzOjEsc2hhZG93UGVyUHJvZ3Jlc3M6ITEscHJvZ3Jlc3NNdWx0aXBsaWVyOjEscGVyc3BlY3RpdmU6ITAscHJldjp7dHJhbnNsYXRlOlswLDAsMF0scm90YXRlOlswLDAsMF0sb3BhY2l0eToxLHNjYWxlOjF9LG5leHQ6e3RyYW5zbGF0ZTpbMCwwLDBdLHJvdGF0ZTpbMCwwLDBdLG9wYWNpdHk6MSxzY2FsZToxfX19KTtjb25zdCBhPWU9Plwic3RyaW5nXCI9PXR5cGVvZiBlP2U6YCR7ZX1weGA7Rih7ZWZmZWN0OlwiY3JlYXRpdmVcIixzd2lwZXI6ZSxvbjpzLHNldFRyYW5zbGF0ZTooKT0+e2NvbnN0e3NsaWRlczp0fT1lLHM9ZS5wYXJhbXMuY3JlYXRpdmVFZmZlY3Qse3Byb2dyZXNzTXVsdGlwbGllcjppfT1zO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cis9MSl7Y29uc3Qgbj10LmVxKHIpLGw9blswXS5wcm9ncmVzcyxvPU1hdGgubWluKE1hdGgubWF4KG5bMF0ucHJvZ3Jlc3MsLXMubGltaXRQcm9ncmVzcykscy5saW1pdFByb2dyZXNzKSxkPW5bMF0uc3dpcGVyU2xpZGVPZmZzZXQsYz1bZS5wYXJhbXMuY3NzTW9kZT8tZC1lLnRyYW5zbGF0ZTotZCwwLDBdLHA9WzAsMCwwXTtsZXQgdT0hMTtlLmlzSG9yaXpvbnRhbCgpfHwoY1sxXT1jWzBdLGNbMF09MCk7bGV0IGg9e3RyYW5zbGF0ZTpbMCwwLDBdLHJvdGF0ZTpbMCwwLDBdLHNjYWxlOjEsb3BhY2l0eToxfTtvPDA/KGg9cy5uZXh0LHU9ITApOm8+MCYmKGg9cy5wcmV2LHU9ITApLGMuZm9yRWFjaCgoKGUsdCk9PntjW3RdPWBjYWxjKCR7ZX1weCArICgke2EoaC50cmFuc2xhdGVbdF0pfSAqICR7TWF0aC5hYnMobyppKX0pKWB9KSkscC5mb3JFYWNoKCgoZSx0KT0+e3BbdF09aC5yb3RhdGVbdF0qTWF0aC5hYnMobyppKX0pKSxuWzBdLnN0eWxlLnpJbmRleD0tTWF0aC5hYnMoTWF0aC5yb3VuZChsKSkrdC5sZW5ndGg7Y29uc3QgbT1jLmpvaW4oXCIsIFwiKSxmPWByb3RhdGVYKCR7cFswXX1kZWcpIHJvdGF0ZVkoJHtwWzFdfWRlZykgcm90YXRlWigke3BbMl19ZGVnKWAsZz1vPDA/YHNjYWxlKCR7MSsoMS1oLnNjYWxlKSpvKml9KWA6YHNjYWxlKCR7MS0oMS1oLnNjYWxlKSpvKml9KWAsdj1vPDA/MSsoMS1oLm9wYWNpdHkpKm8qaToxLSgxLWgub3BhY2l0eSkqbyppLHc9YHRyYW5zbGF0ZTNkKCR7bX0pICR7Zn0gJHtnfWA7aWYodSYmaC5zaGFkb3d8fCF1KXtsZXQgZT1uLmNoaWxkcmVuKFwiLnN3aXBlci1zbGlkZS1zaGFkb3dcIik7aWYoMD09PWUubGVuZ3RoJiZoLnNoYWRvdyYmKGU9WihzLG4pKSxlLmxlbmd0aCl7Y29uc3QgdD1zLnNoYWRvd1BlclByb2dyZXNzP28qKDEvcy5saW1pdFByb2dyZXNzKTpvO2VbMF0uc3R5bGUub3BhY2l0eT1NYXRoLm1pbihNYXRoLm1heChNYXRoLmFicyh0KSwwKSwxKX19Y29uc3QgYj1VKHMsbik7Yi50cmFuc2Zvcm0odykuY3NzKHtvcGFjaXR5OnZ9KSxoLm9yaWdpbiYmYi5jc3MoXCJ0cmFuc2Zvcm0tb3JpZ2luXCIsaC5vcmlnaW4pfX0sc2V0VHJhbnNpdGlvbjp0PT57Y29uc3R7dHJhbnNmb3JtRWw6c309ZS5wYXJhbXMuY3JlYXRpdmVFZmZlY3Q7KHM/ZS5zbGlkZXMuZmluZChzKTplLnNsaWRlcykudHJhbnNpdGlvbih0KS5maW5kKFwiLnN3aXBlci1zbGlkZS1zaGFkb3dcIikudHJhbnNpdGlvbih0KSxLKHtzd2lwZXI6ZSxkdXJhdGlvbjp0LHRyYW5zZm9ybUVsOnMsYWxsU2xpZGVzOiEwfSl9LHBlcnNwZWN0aXZlOigpPT5lLnBhcmFtcy5jcmVhdGl2ZUVmZmVjdC5wZXJzcGVjdGl2ZSxvdmVyd3JpdGVQYXJhbXM6KCk9Pih7d2F0Y2hTbGlkZXNQcm9ncmVzczohMCx2aXJ0dWFsVHJhbnNsYXRlOiFlLnBhcmFtcy5jc3NNb2RlfSl9KX0sZnVuY3Rpb24oe3N3aXBlcjplLGV4dGVuZFBhcmFtczp0LG9uOnN9KXt0KHtjYXJkc0VmZmVjdDp7c2xpZGVTaGFkb3dzOiEwLHRyYW5zZm9ybUVsOm51bGx9fSksRih7ZWZmZWN0OlwiY2FyZHNcIixzd2lwZXI6ZSxvbjpzLHNldFRyYW5zbGF0ZTooKT0+e2NvbnN0e3NsaWRlczp0LGFjdGl2ZUluZGV4OnN9PWUsYT1lLnBhcmFtcy5jYXJkc0VmZmVjdCx7c3RhcnRUcmFuc2xhdGU6aSxpc1RvdWNoZWQ6cn09ZS50b3VjaEV2ZW50c0RhdGEsbj1lLnRyYW5zbGF0ZTtmb3IobGV0IGw9MDtsPHQubGVuZ3RoO2wrPTEpe2NvbnN0IG89dC5lcShsKSxkPW9bMF0ucHJvZ3Jlc3MsYz1NYXRoLm1pbihNYXRoLm1heChkLC00KSw0KTtsZXQgcD1vWzBdLnN3aXBlclNsaWRlT2Zmc2V0O2UucGFyYW1zLmNlbnRlcmVkU2xpZGVzJiYhZS5wYXJhbXMuY3NzTW9kZSYmZS4kd3JhcHBlckVsLnRyYW5zZm9ybShgdHJhbnNsYXRlWCgke2UubWluVHJhbnNsYXRlKCl9cHgpYCksZS5wYXJhbXMuY2VudGVyZWRTbGlkZXMmJmUucGFyYW1zLmNzc01vZGUmJihwLT10WzBdLnN3aXBlclNsaWRlT2Zmc2V0KTtsZXQgdT1lLnBhcmFtcy5jc3NNb2RlPy1wLWUudHJhbnNsYXRlOi1wLGg9MDtjb25zdCBtPS0xMDAqTWF0aC5hYnMoYyk7bGV0IGY9MSxnPS0yKmMsdj04LS43NSpNYXRoLmFicyhjKTtjb25zdCB3PShsPT09c3x8bD09PXMtMSkmJmM+MCYmYzwxJiYocnx8ZS5wYXJhbXMuY3NzTW9kZSkmJm48aSxiPShsPT09c3x8bD09PXMrMSkmJmM8MCYmYz4tMSYmKHJ8fGUucGFyYW1zLmNzc01vZGUpJiZuPmk7aWYod3x8Yil7Y29uc3QgZT0oMS1NYXRoLmFicygoTWF0aC5hYnMoYyktLjUpLy41KSkqKi41O2crPS0yOCpjKmUsZis9LS41KmUsdis9OTYqZSxoPS0yNSplKk1hdGguYWJzKGMpK1wiJVwifWlmKHU9YzwwP2BjYWxjKCR7dX1weCArICgke3YqTWF0aC5hYnMoYyl9JSkpYDpjPjA/YGNhbGMoJHt1fXB4ICsgKC0ke3YqTWF0aC5hYnMoYyl9JSkpYDpgJHt1fXB4YCwhZS5pc0hvcml6b250YWwoKSl7Y29uc3QgZT1oO2g9dSx1PWV9Y29uc3QgeD1gXFxuICAgICAgICB0cmFuc2xhdGUzZCgke3V9LCAke2h9LCAke219cHgpXFxuICAgICAgICByb3RhdGVaKCR7Z31kZWcpXFxuICAgICAgICBzY2FsZSgke2M8MD9cIlwiKygxKygxLWYpKmMpOlwiXCIrKDEtKDEtZikqYyl9KVxcbiAgICAgIGA7aWYoYS5zbGlkZVNoYWRvd3Mpe2xldCBlPW8uZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93XCIpOzA9PT1lLmxlbmd0aCYmKGU9WihhLG8pKSxlLmxlbmd0aCYmKGVbMF0uc3R5bGUub3BhY2l0eT1NYXRoLm1pbihNYXRoLm1heCgoTWF0aC5hYnMoYyktLjUpLy41LDApLDEpKX1vWzBdLnN0eWxlLnpJbmRleD0tTWF0aC5hYnMoTWF0aC5yb3VuZChkKSkrdC5sZW5ndGg7VShhLG8pLnRyYW5zZm9ybSh4KX19LHNldFRyYW5zaXRpb246dD0+e2NvbnN0e3RyYW5zZm9ybUVsOnN9PWUucGFyYW1zLmNhcmRzRWZmZWN0OyhzP2Uuc2xpZGVzLmZpbmQocyk6ZS5zbGlkZXMpLnRyYW5zaXRpb24odCkuZmluZChcIi5zd2lwZXItc2xpZGUtc2hhZG93XCIpLnRyYW5zaXRpb24odCksSyh7c3dpcGVyOmUsZHVyYXRpb246dCx0cmFuc2Zvcm1FbDpzfSl9LHBlcnNwZWN0aXZlOigpPT4hMCxvdmVyd3JpdGVQYXJhbXM6KCk9Pih7d2F0Y2hTbGlkZXNQcm9ncmVzczohMCx2aXJ0dWFsVHJhbnNsYXRlOiFlLnBhcmFtcy5jc3NNb2RlfSl9KX1dO3JldHVybiBILnVzZShKKSxIfSkpO1xuIiwiLy8gRk9STSBPUEVOL0NMT1NFXG5cbmNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XG5jb25zdCBvcGVuRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGlja2V0c19fYnRuXCIpO1xuY29uc3QgY2xvc2VGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19jbG9zZVwiKTtcblxub3BlbkZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG5cdGZvcm0uY2xhc3NMaXN0LmFkZChcImZvcm0tLWFjdGl2ZVwiKTtcbn0pO1xuXG5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuXHRpZiAoZS50YXJnZXQgPT09IGZvcm0pIHtcblx0XHRmb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtLS1hY3RpdmVcIik7XG5cdH1cbn0pO1xuXG5jbG9zZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG5cdGZvcm0uY2xhc3NMaXN0LnJlbW92ZShcImZvcm0tLWFjdGl2ZVwiKTtcbn0pO1xuXG4vLyBGT1JNIENMT1NFL09QRU5cblxuZnVuY3Rpb24gcmFuZG9tUGljKCkge1xuXHRjb25zdCBwaWN0dXJlSW5uZXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2dyaWRcIik7XG5cblx0ZnVuY3Rpb24gc2h1ZmZsZShhcnJheSkge1xuXHRcdGFycmF5XG5cdFx0XHQuc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KVxuXHRcdFx0Lm1hcChmdW5jdGlvbiAoaSkge1xuXHRcdFx0XHRsZXQgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcblx0XHRcdFx0aW1nLmNsYXNzTGlzdC5hZGQoXCJnYWxsZXJ5X19pdGVtXCIpO1xuXHRcdFx0XHRpbWcuc3JjID0gYGltYWdlcy9nYWxsZXJ5L2dhbGVyeSR7aX0uanBnYDtcblx0XHRcdFx0aW1nLmFsdCA9IGBHYWxlcnlQaG90byR7aX1gO1xuXHRcdFx0XHRwaWN0dXJlSW5uZXJDb250YWluZXIuYXBwZW5kKGltZyk7XG5cdFx0XHR9KTtcblx0XHRsZXQgY2hpbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmdhbGxlcnlfX2l0ZW1cIik7XG5cdFx0Y2hpbGRbMTBdLmNsYXNzTGlzdC5hZGQoXCJnYWxsZXJ5X19pdGVtLS0xMVwiKTtcblx0fVxuXG5cdGxldCBhcnIgPSBbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNV07XG5cdHNodWZmbGUoYXJyKTtcbn1cblxucmFuZG9tUGljKCk7XG5cbi8vIFdFTENPTUUgU0xJREVSXG5cbmNvbnN0IHN3aXBlciA9IG5ldyBTd2lwZXIoXCIuc3dpcGVyXCIsIHtcblx0Ly8gT3B0aW9uYWwgcGFyYW1ldGVyc1xuXHRsb29wOiB0cnVlLFxuXG5cdC8vIElmIHdlIG5lZWQgcGFnaW5hdGlvblxuXHRwYWdpbmF0aW9uOiB7XG5cdFx0ZWw6IFwiLnNsaWRlcl9fYnV0dG9ucy1wYWdpbmF0aW9uXCIsXG5cdFx0Y2xpY2thYmxlOiB0cnVlLFxuXHR9LFxuXHQvLyBOYXZpZ2F0aW9uIGFycm93c1xuXHRuYXZpZ2F0aW9uOiB7XG5cdFx0bmV4dEVsOiBcIi5zbGlkZXJfX2J1dHRvbnMtbmV4dFwiLFxuXHRcdHByZXZFbDogXCIuc2xpZGVyX19idXR0b25zLXByZXZcIixcblx0fSxcbn0pO1xuXG5jb25zdCBmcmFjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2xpZGVyX19idXR0b25zLW51bWJlclwiKTtcbmNvbnN0IHNsaWRlQ291bnQgPSBzd2lwZXIuc2xpZGVzLmxlbmd0aCAtIDI7XG5mcmFjdGlvbi5pbm5lckhUTUwgPSBcIjBcIiArIGAxPHNwYW4+fDwvc3Bhbj5gICsgXCIwXCIgKyBgJHtzbGlkZUNvdW50fWA7XG5zd2lwZXIub24oXCJzbGlkZUNoYW5nZVwiLCAoKSA9PiB7XG5cdGxldCBpbmRleCA9IHN3aXBlci5yZWFsSW5kZXg7XG5cdGZyYWN0aW9uLmlubmVySFRNTCA9XG5cdFx0XCIwXCIgKyBgJHtpbmRleCArIDF9PHNwYW4+fDwvc3Bhbj5gICsgXCIwXCIgKyBgJHtzbGlkZUNvdW50fWA7XG59KTtcblxuLy8gRU5EIFdFTENPTUUgU0xJREVSXG5cbi8vIEFOSU1BVElPTiBPTiBTQ1JPTExcblxuY29uc3QgYW5pbUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5nYWxsZXJ5X19pdGVtXCIpO1xuXG5pZiAoYW5pbUl0ZW1zLmxlbmd0aCA+IDApIHtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgYW5pbU9uU2Nyb2xsKTtcblxuXHRmdW5jdGlvbiBhbmltT25TY3JvbGwoKSB7XG5cdFx0Zm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFuaW1JdGVtcy5sZW5ndGg7IGluZGV4KyspIHtcblx0XHRcdGNvbnN0IGFuaW1JdGVtID0gYW5pbUl0ZW1zW2luZGV4XSxcblx0XHRcdFx0YW5pbUl0ZW1IZWlnaHQgPSBhbmltSXRlbS5vZmZzZXRIZWlnaHQsXG5cdFx0XHRcdGFuaW1JdGVtT2Zmc2V0ID0gb2Zmc2V0KGFuaW1JdGVtKS50b3AsXG5cdFx0XHRcdGFuaW1TdGFydCA9IDEwMDtcblxuXHRcdFx0bGV0IGFuaW1JdGVtUG9pbnQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBhbmltSXRlbUhlaWdodCAvIGFuaW1TdGFydDtcblx0XHRcdGlmIChhbmltSXRlbUhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuXHRcdFx0XHRhbmltSXRlbVBvaW50ID0gd2luZG93LmlubmVySGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0IC8gYW5pbVN0YXJ0O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdHBhZ2VZT2Zmc2V0ID4gYW5pbUl0ZW1PZmZzZXQgLSBhbmltSXRlbVBvaW50ICYmXG5cdFx0XHRcdHBhZ2VZT2Zmc2V0IDwgYW5pbUl0ZW1PZmZzZXQgKyBhbmltSXRlbUhlaWdodFxuXHRcdFx0KSB7XG5cdFx0XHRcdGFuaW1JdGVtLmNsYXNzTGlzdC5hZGQoXCJfYWN0aXZlXCIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCFhbmltSXRlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJfYW5pbS1uby1oaWRlXCIpKSB7XG5cdFx0XHRcdFx0YW5pbUl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcIl9hY3RpdmVcIik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBvZmZzZXQoZWwpIHtcblx0XHRjb25zdCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG5cdFx0XHRzY3JvbGxMZWZ0ID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LFxuXHRcdFx0c2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG5cdFx0cmV0dXJuIHt0b3A6IHJlY3QudG9wICsgc2Nyb2xsVG9wLCBsZWZ0OiByZWN0LmxlZnQgKyBzY3JvbGxMZWZ0fTtcblx0fVxuXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdGFuaW1PblNjcm9sbCgpO1xuXHR9LCAzMDApO1xufVxuXG4vLyBFTkQgQU5JTUFUSU9OIE9OIFNDUk9MTFxuXG4vLyBNQVBCT1hcbm1hcGJveGdsLmFjY2Vzc1Rva2VuID0gJ3BrLmV5SjFJam9pZEc5c2JXRnphQ0lzSW1FaU9pSmphM1Z0YlhJNWFIY3diRGxvTW05d1ptMTBjbWt5ZERkMEluMC5uNzQzcjdJSFkzTW9ZTVBmUnNYS1F3JztcbmNvbnN0IG1hcCA9IG5ldyBtYXBib3hnbC5NYXAoe1xuXHRjb250YWluZXI6ICdtYXAnLCAvLyBjb250YWluZXIgSURcblx0c3R5bGU6IFwibWFwYm94Oi8vc3R5bGVzL21hcGJveC9saWdodC12MTBcIixcblx0Y2VudGVyOiBbMi4zMzY0LCA0OC44NjA5MV0sXG5cdHpvb206IDE2LFxuXHRhdHRyaWJ1dGlvbkNvbnRyb2w6ICExXG59KTtcbm1hcC5hZGRDb250cm9sKG5ldyAobWFwYm94Z2wuTmF2aWdhdGlvbkNvbnRyb2wpKSxcblx0bWFwLmFkZENvbnRyb2wobmV3IChtYXBib3hnbC5BdHRyaWJ1dGlvbkNvbnRyb2wpKHtcblx0XHRjdXN0b21BdHRyaWJ1dGlvbjpcblx0XHRcdCdNYXAgZGVzaWduIGJ5IDxhIGhyZWY9XCJodHRwczovL3RvbG1hc2guZ2l0aHViLmlvL3Jzc2Nob29sLWN2L1wiIHRhcmdldD1cIl9ibGFua1wiIHJvbGU9XCJsaXN0aXRlbVwiPlRvbG1hU2g8L2E+J1xuXHR9KSksXG5cdG5ldyAobWFwYm94Z2wuTWFya2VyKSh7XG5cdFx0Y29sb3I6IFwiYmxhY2tcIlxuXHR9KS5zZXRMbmdMYXQoWzIuMzM2NCwgNDguODYwOTFdKS5hZGRUbyhtYXApLFxuXHRuZXcgKG1hcGJveGdsLk1hcmtlcikoe1xuXHRcdGNvbG9yOiBcImdyYXlcIlxuXHR9KS5zZXRMbmdMYXQoWzIuMzMzMywgNDguODYwMl0pLmFkZFRvKG1hcCksXG5cdG5ldyAobWFwYm94Z2wuTWFya2VyKSh7XG5cdFx0Y29sb3I6IFwiZ3JheVwiXG5cdH0pLnNldExuZ0xhdChbMi4zMzk3LCA0OC44NjA3XSkuYWRkVG8obWFwKSxcblx0bmV3IChtYXBib3hnbC5NYXJrZXIpKHtcblx0XHRjb2xvcjogXCJncmF5XCJcblx0fSkuc2V0TG5nTGF0KFsyLjMzMywgNDguODYxOV0pLmFkZFRvKG1hcCksXG5cdG5ldyAobWFwYm94Z2wuTWFya2VyKSh7XG5cdFx0Y29sb3I6IFwiZ3JheVwiXG5cdH0pLnNldExuZ0xhdChbMi4zMzY1LCA0OC44NjI1XSkuYWRkVG8obWFwKTtcblxuLy8gRU5EIE1BUEJPWFxuXG4vLyBDb3VudGVyXG5jb25zdCBpbnB1dEJhc2ljID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmlucHV0LXByaWNlLWJhc2ljJyksXG5cdGlucHV0U2VuaW9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmlucHV0LXByaWNlLXNlbmlvcicpLFxuXHRiYXNpY0Ftb3VudFdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFzaWNfX2FtbW91bnQtd3JhcHBlcicpLFxuXHRzZW5pb3JBbW91bnRXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbmlvcl9fYW1tb3VudC13cmFwcGVyJyksXG5cdHBlcm1hbmVudFR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGlja2V0c19fcGVybWFuZW50JyksXG5cdHRlbXBvcmFyeVR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGlja2V0c19fdGVtcG9yYXJ5JyksXG5cdGNvbWJpbmVkVHlwZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50aWNrZXRzX19jb21iaW5lZCcpLFxuXHR0b3RhbFByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvdGFsLXByaWNlcycpLFxuXHRyYWRpb0J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lID0gXCJ0aWNrZXRUeXBlXCJdJyk7XG5cbi8vIGxldCB0b3RhbDtcbi8vXG4vLyBiYXNpY0Ftb3VudFdyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuLy8gXHRpZiAoZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3RpY2tldHNfX2Zvcm0tcGx1cycpKSB7XG4vLyBcdFx0XHRpZiAocGVybWFuZW50VHlwZS5jaGVja2VkKSB7XG4vLyBcdFx0XHRcdGlucHV0QmFzaWMudmFsdWUrKztcbi8vIFx0XHRcdFx0Y29uc29sZS5sb2codHlwZW9mIGlucHV0QmFzaWMudmFsdWUpO1xuLy8gXHRcdFx0XHR0b3RhbCA9IGAkeytpbnB1dEJhc2ljLnZhbHVlICogMjB9YDtcbi8vIFx0XHRcdFx0Y29uc29sZS5sb2codG90YWwpO1xuLy8gXHRcdFx0XHR0b3RhbFByaWNlLmlubmVySFRNTCA9IHRvdGFsO1xuLy9cbi8vIFx0XHRcdH1cbi8vIFx0XHRcdGlmICh0ZW1wb3JhcnlUeXBlLmNoZWNrZWQpIHtcbi8vIFx0XHRcdFx0aW5wdXRCYXNpYy52YWx1ZSsrO1xuLy8gXHRcdFx0XHR0b3RhbCA9IGAkeytpbnB1dEJhc2ljLnZhbHVlICogMjV9YDtcbi8vIFx0XHRcdFx0dG90YWxQcmljZS5pbm5lckhUTUwgPSB0b3RhbDtcbi8vIFx0XHRcdH1cbi8vIFx0XHRcdGlmIChjb21iaW5lZFR5cGUuY2hlY2tlZCkge1xuLy8gXHRcdFx0XHRpbnB1dEJhc2ljLnZhbHVlKys7XG4vLyBcdFx0XHRcdHRvdGFsID0gYCR7K2lucHV0QmFzaWMudmFsdWUgKiA0MH1gO1xuLy8gXHRcdFx0XHR0b3RhbFByaWNlLmlubmVySFRNTCA9IHRvdGFsO1xuLy8gXHRcdFx0fVxuLy8gXHR9XG4vLyBcdGlmIChldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGlja2V0c19fZm9ybS1taW51cycpKSB7XG4vLyBcdFx0aWYgKHBlcm1hbmVudFR5cGUuY2hlY2tlZCAmJiBpbnB1dEJhc2ljLnZhbHVlICE9PSBcIjBcIikge1xuLy8gXHRcdFx0aW5wdXRCYXNpYy52YWx1ZS0tO1xuLy8gXHRcdFx0dG90YWwgPSBgJHsrdG90YWxQcmljZS5pbm5lckhUTUwgLSAyMH1gO1xuLy8gXHRcdFx0dG90YWxQcmljZS5pbm5lckhUTUwgPSB0b3RhbDtcbi8vIFx0XHR9XG4vLyBcdFx0aWYgKHRlbXBvcmFyeVR5cGUuY2hlY2tlZCAmJiBpbnB1dEJhc2ljLnZhbHVlICE9PSBcIjBcIikge1xuLy8gXHRcdFx0aW5wdXRCYXNpYy52YWx1ZS0tO1xuLy8gXHRcdFx0dG90YWwgPSBgJHsrdG90YWxQcmljZS5pbm5lckhUTUwgLSAyNX1gO1xuLy8gXHRcdFx0dG90YWxQcmljZS5pbm5lckhUTUwgPSB0b3RhbDtcbi8vIFx0XHR9XG4vLyBcdFx0aWYgKGNvbWJpbmVkVHlwZS5jaGVja2VkICYmIGlucHV0QmFzaWMudmFsdWUgIT09IFwiMFwiKSB7XG4vLyBcdFx0XHRpbnB1dEJhc2ljLnZhbHVlLS07XG4vLyBcdFx0XHR0b3RhbCA9IGAkeyt0b3RhbFByaWNlLmlubmVySFRNTCAtIDQwfWA7XG4vLyBcdFx0XHR0b3RhbFByaWNlLmlubmVySFRNTCA9IHRvdGFsO1xuLy8gXHRcdH1cbi8vIFx0fVxuLy8gfSk7XG4vL1xuLy8gc2VuaW9yQW1vdW50V3JhcHBlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4vLyBcdGlmIChldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGlja2V0c19fZm9ybS1wbHVzJykpIHtcbi8vIFx0XHRpZiAocGVybWFuZW50VHlwZS5jaGVja2VkKSB7XG4vLyBcdFx0XHRpbnB1dFNlbmlvci52YWx1ZSsrO1xuLy8gXHRcdFx0Y29uc29sZS5sb2codHlwZW9mIGlucHV0U2VuaW9yLnZhbHVlKTtcbi8vIFx0XHRcdHRvdGFsUHJpY2UuaW5uZXJIVE1MID0gYCR7K2lucHV0U2VuaW9yLnZhbHVlICogMTB9YDtcbi8vIFx0XHR9XG4vLyBcdFx0aWYgKHRlbXBvcmFyeVR5cGUuY2hlY2tlZCkge1xuLy8gXHRcdFx0aW5wdXRTZW5pb3IudmFsdWUrKztcbi8vIFx0XHRcdHRvdGFsUHJpY2UuaW5uZXJIVE1MID0gYCR7K2lucHV0U2VuaW9yLnZhbHVlICogMTIuNX1gO1xuLy8gXHRcdH1cbi8vIFx0XHRpZiAoY29tYmluZWRUeXBlLmNoZWNrZWQpIHtcbi8vIFx0XHRcdGlucHV0U2VuaW9yLnZhbHVlKys7XG4vLyBcdFx0XHR0b3RhbFByaWNlLmlubmVySFRNTCA9IGAkeytpbnB1dFNlbmlvci52YWx1ZSAqIDIwfWA7XG4vLyBcdFx0fVxuLy8gXHR9XG4vLyBcdGlmIChldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndGlja2V0c19fZm9ybS1taW51cycpKSB7XG4vLyBcdFx0aWYgKHBlcm1hbmVudFR5cGUuY2hlY2tlZCAmJiBpbnB1dFNlbmlvci52YWx1ZSAhPT0gXCIwXCIpIHtcbi8vIFx0XHRcdGlucHV0U2VuaW9yLnZhbHVlLS07XG4vLyBcdFx0XHR0b3RhbFByaWNlLmlubmVySFRNTCA9IGAkeyt0b3RhbFByaWNlLmlubmVySFRNTCAtIDEwfWA7XG4vLyBcdFx0fVxuLy8gXHRcdGlmICh0ZW1wb3JhcnlUeXBlLmNoZWNrZWQgJiYgaW5wdXRTZW5pb3IudmFsdWUgIT09IFwiMFwiKSB7XG4vLyBcdFx0XHRpbnB1dFNlbmlvci52YWx1ZS0tO1xuLy8gXHRcdFx0dG90YWxQcmljZS5pbm5lckhUTUwgPSBgJHsrdG90YWxQcmljZS5pbm5lckhUTUwgLSAxMi41fWA7XG4vLyBcdFx0fVxuLy8gXHRcdGlmIChjb21iaW5lZFR5cGUuY2hlY2tlZCAmJiBpbnB1dFNlbmlvci52YWx1ZSAhPT0gXCIwXCIpIHtcbi8vIFx0XHRcdGlucHV0U2VuaW9yLnZhbHVlLS07XG4vLyBcdFx0XHR0b3RhbFByaWNlLmlubmVySFRNTCA9IGAkeyt0b3RhbFByaWNlLmlubmVySFRNTCAtIDIwfWA7XG4vLyBcdFx0fVxuLy8gXHR9XG4vLyB9KTtcblxuYmFzaWNBbW91bnRXcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlQmFzaWNWYWx1ZSk7XG5zZW5pb3JBbW91bnRXcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlU2VuaW9yVmFsdWUpO1xuXG5cbmZ1bmN0aW9uIGNoYW5nZUJhc2ljVmFsdWUoZXZlbnQpIHtcblxuXHRsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LFxuXHRcdFx0Y3VycmVudFByaWNlLFxuXHRcdFx0bmV3UHJpY2U7XG5cdGNvbnN0IGN1cnJlbnRJbnB1dFZhbHVlID0gTnVtYmVyKGlucHV0QmFzaWMudmFsdWUpO1xuXG5cblx0aWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3RpY2tldHNfX2Zvcm0tcGx1cycpKSB7XG5cdFx0Ly8gQkFTSUMgUExVUyBPTiBQRVJNQU5FTlQgQ0hFQ0tCT1hcblx0XHRpZiAoIGN1cnJlbnRJbnB1dFZhbHVlIDwgMjAgJiYgcGVybWFuZW50VHlwZS5jaGVja2VkICkge1xuXHRcdFx0aW5wdXRCYXNpYy52YWx1ZSA9IGN1cnJlbnRJbnB1dFZhbHVlICsgMTtcblx0XHRjdXJyZW50UHJpY2UgPSBOdW1iZXIodG90YWxQcmljZS5pbm5lckhUTUwpO1xuXHRcdG5ld1ByaWNlID0gY3VycmVudFByaWNlICsgMjA7XG5cdFx0dG90YWxQcmljZS5pbm5lckhUTUwgPSBuZXdQcmljZTtcblx0XHR9XG5cdFx0Ly8gQkFTSUMgUExVUyBPTiBURU1QT1JBUlkgQ0hFQ0tCT1hcblx0XHRpZiAoIGN1cnJlbnRJbnB1dFZhbHVlIDwgMjAgJiYgdGVtcG9yYXJ5VHlwZS5jaGVja2VkICkge1xuXHRcdFx0aW5wdXRCYXNpYy52YWx1ZSA9IGN1cnJlbnRJbnB1dFZhbHVlICsgMTtcblx0XHRjdXJyZW50UHJpY2UgPSBOdW1iZXIodG90YWxQcmljZS5pbm5lckhUTUwpO1xuXHRcdG5ld1ByaWNlID0gY3VycmVudFByaWNlICsgMjU7XG5cdFx0dG90YWxQcmljZS5pbm5lckhUTUwgPSBuZXdQcmljZTtcblx0XHR9XG5cdFx0Ly8gQkFTSUMgUExVUyBPTiBDT01CSU5FRCBDSEVDS0JPWFxuXHRcdGlmICggY3VycmVudElucHV0VmFsdWUgPCAyMCAmJiBjb21iaW5lZFR5cGUuY2hlY2tlZCApIHtcblx0XHRcdGlucHV0QmFzaWMudmFsdWUgPSBjdXJyZW50SW5wdXRWYWx1ZSArIDE7XG5cdFx0Y3VycmVudFByaWNlID0gTnVtYmVyKHRvdGFsUHJpY2UuaW5uZXJIVE1MKTtcblx0XHRuZXdQcmljZSA9IGN1cnJlbnRQcmljZSArIDQwO1xuXHRcdHRvdGFsUHJpY2UuaW5uZXJIVE1MID0gbmV3UHJpY2U7XG5cdFx0fVxuXHR9XG5cblx0aWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3RpY2tldHNfX2Zvcm0tbWludXMnKSkge1xuXG5cdFx0Y3VycmVudFByaWNlID0gTnVtYmVyKHRvdGFsUHJpY2UuaW5uZXJIVE1MKTtcblxuXHRcdGlmKCBjdXJyZW50UHJpY2UgPD0gMCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Ly8gQkFTSUMgTUlOVVMgT04gUEVSTUFORU5UIENIRUNLQk9YXG5cdFx0aWYgKCBjdXJyZW50SW5wdXRWYWx1ZSA+IDAgICYmIHBlcm1hbmVudFR5cGUuY2hlY2tlZCkge1xuXHRcdFx0aW5wdXRCYXNpYy52YWx1ZSA9IGN1cnJlbnRJbnB1dFZhbHVlIC0gMTtcblx0XHRcdG5ld1ByaWNlID0gY3VycmVudFByaWNlIC0gMjA7XG5cdFx0XHR0b3RhbFByaWNlLmlubmVySFRNTCA9IG5ld1ByaWNlO1xuXHRcdH1cblx0XHQvLyBCQVNJQyBNSU5VUyBPTiBURU1QT1JBUlkgQ0hFQ0tCT1hcblx0XHRpZiAoIGN1cnJlbnRJbnB1dFZhbHVlID4gMCAgJiYgdGVtcG9yYXJ5VHlwZS5jaGVja2VkKSB7XG5cdFx0XHRpbnB1dEJhc2ljLnZhbHVlID0gY3VycmVudElucHV0VmFsdWUgLSAxO1xuXHRcdFx0bmV3UHJpY2UgPSBjdXJyZW50UHJpY2UgLSAyNTtcblx0XHRcdHRvdGFsUHJpY2UuaW5uZXJIVE1MID0gbmV3UHJpY2U7XG5cdFx0fVxuXHRcdC8vIEJBU0lDIE1JTlVTIE9OIENPTUJJTkVEIENIRUNLQk9YXG5cdFx0aWYgKCBjdXJyZW50SW5wdXRWYWx1ZSA+IDAgICYmIGNvbWJpbmVkVHlwZS5jaGVja2VkKSB7XG5cdFx0XHRpbnB1dEJhc2ljLnZhbHVlID0gY3VycmVudElucHV0VmFsdWUgLSAxO1xuXHRcdFx0bmV3UHJpY2UgPSBjdXJyZW50UHJpY2UgLSA0MDtcblx0XHRcdHRvdGFsUHJpY2UuaW5uZXJIVE1MID0gbmV3UHJpY2U7XG5cdFx0fVxuXHR9XG59XG5cblxuXG5cblxuXG5mdW5jdGlvbiBjaGFuZ2VTZW5pb3JWYWx1ZShldmVudCkge1xuXHRsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuXHRjb25zdCB0b3RhbFByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvdGFsLXByaWNlcycpO1xuXHRjb25zdCBjdXJyZW50SW5wdXRWYWx1ZSA9IE51bWJlcihpbnB1dFNlbmlvci52YWx1ZSk7XG5cblx0aWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3RpY2tldHNfX2Zvcm0tcGx1cycpKSB7XG5cblx0XHRpZiAoIGN1cnJlbnRJbnB1dFZhbHVlIDwgMjAgKSB7XG5cdFx0XHRpbnB1dFNlbmlvci52YWx1ZSA9IGN1cnJlbnRJbnB1dFZhbHVlICsgMTtcblx0XHRcdGNvbnN0IGN1cnJlbnRQcmljZSA9ICsgdG90YWxQcmljZS5pbm5lckhUTUw7XG5cdFx0XHRjb25zdCBuZXdQcmljZSA9IGN1cnJlbnRQcmljZSArIDEwO1xuXHRcdFx0dG90YWxQcmljZS5pbm5lckhUTUwgPSBuZXdQcmljZTtcblx0XHR9XG5cblx0fVxuXG5cdGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0aWNrZXRzX19mb3JtLW1pbnVzJykpIHtcblxuXHRcdGNvbnN0IGN1cnJlbnRQcmljZSA9ICsgdG90YWxQcmljZS5pbm5lckhUTUw7XG5cblx0XHRpZiggY3VycmVudFByaWNlIDw9IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBjdXJyZW50SW5wdXRWYWx1ZSA+IDAgKSB7XG5cdFx0XHRpbnB1dFNlbmlvci52YWx1ZSA9IGN1cnJlbnRJbnB1dFZhbHVlIC0gMTtcblxuXHRcdFx0Y29uc3QgbmV3UHJpY2UgPSBjdXJyZW50UHJpY2UgLSAxMDtcblx0XHRcdHRvdGFsUHJpY2UuaW5uZXJIVE1MID0gbmV3UHJpY2U7XG5cdFx0fVxuXHR9XG59XG5cbnJhZGlvQnRucy5mb3JFYWNoKGVsID0+IHtcblx0ZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcblxuXHRcdGlmIChlLnRhcmdldC5pZCA9PT0gJ3Blcm1hbmVudCcpIHtcblx0XHRcdCB0b3RhbFByaWNlLmlubmVySFRNTCA9IGAkeyhpbnB1dEJhc2ljLnZhbHVlICogMjApICsgKGlucHV0U2VuaW9yLnZhbHVlICogMTApfWA7XG5cdFx0fVxuXHRcdGlmIChlLnRhcmdldC5pZCA9PT0gJ3RlbXBvcmFyeScpIHtcblx0XHRcdHRvdGFsUHJpY2UuaW5uZXJIVE1MID0gYCR7KGlucHV0QmFzaWMudmFsdWUgKiAyNSkgKyAoaW5wdXRTZW5pb3IudmFsdWUgKiAxMi41KX1gO1xuXHRcdH1cblx0XHRpZiAoZS50YXJnZXQuaWQgPT09ICdjb21iaW5lZCcpIHtcblx0XHRcdHRvdGFsUHJpY2UuaW5uZXJIVE1MID0gYCR7KGlucHV0QmFzaWMudmFsdWUgKiA0MCkgKyAoaW5wdXRTZW5pb3IudmFsdWUgKiAyMCl9YDtcblx0XHR9XG5cdH0pO1xufSk7XG5cblxuIl19
